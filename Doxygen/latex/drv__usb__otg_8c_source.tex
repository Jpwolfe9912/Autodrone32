\hypertarget{drv__usb__otg_8c_source}{}\doxysection{drv\+\_\+usb\+\_\+otg.\+c}
\label{drv__usb__otg_8c_source}\index{/Users/jeremywolfe/Documents/STM32CubeIDE/Autodrone32/Src/drv/drv\_usb\_otg.c@{/Users/jeremywolfe/Documents/STM32CubeIDE/Autodrone32/Src/drv/drv\_usb\_otg.c}}
\mbox{\hyperlink{drv__usb__otg_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00020}00020 \textcolor{comment}{/* Includes -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00021}00021 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{board_8h}{board.h}}"{}}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00023}00023 \textcolor{comment}{/* USER CODE BEGIN 0 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00025}00025 \textcolor{comment}{/* USER CODE END 0 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00027}\mbox{\hyperlink{drv__usb__otg_8c_a3ec0d70a6cb9406d997fb3d006cc940d}{00027}} PCD\_HandleTypeDef \mbox{\hyperlink{drv__usb__otg_8c_a3ec0d70a6cb9406d997fb3d006cc940d}{hpcd\_USB\_OTG\_FS}};}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00028}00028 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00029}00029 \textcolor{comment}{/* USB\_OTG\_FS init function */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00031}\mbox{\hyperlink{drv__usb__otg_8c_a421a6f061f38e6dca904f5e64ab8f555}{00031}} \textcolor{keywordtype}{void} \mbox{\hyperlink{drv__usb__otg_8c_a421a6f061f38e6dca904f5e64ab8f555}{MX\_USB\_OTG\_FS\_PCD\_Init}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00032}00032 \{}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00033}00033 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00034}00034   \textcolor{comment}{/* USER CODE BEGIN USB\_OTG\_FS\_Init 0 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00036}00036   \textcolor{comment}{/* USER CODE END USB\_OTG\_FS\_Init 0 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00038}00038   \textcolor{comment}{/* USER CODE BEGIN USB\_OTG\_FS\_Init 1 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00040}00040   \textcolor{comment}{/* USER CODE END USB\_OTG\_FS\_Init 1 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00041}00041   \mbox{\hyperlink{drv__usb__otg_8c_a3ec0d70a6cb9406d997fb3d006cc940d}{hpcd\_USB\_OTG\_FS}}.Instance = USB\_OTG\_FS;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00042}00042   \mbox{\hyperlink{drv__usb__otg_8c_a3ec0d70a6cb9406d997fb3d006cc940d}{hpcd\_USB\_OTG\_FS}}.Init.dev\_endpoints = 6;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00043}00043   \mbox{\hyperlink{drv__usb__otg_8c_a3ec0d70a6cb9406d997fb3d006cc940d}{hpcd\_USB\_OTG\_FS}}.Init.dma\_enable = DISABLE;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00044}00044   \mbox{\hyperlink{drv__usb__otg_8c_a3ec0d70a6cb9406d997fb3d006cc940d}{hpcd\_USB\_OTG\_FS}}.Init.phy\_itface = PCD\_PHY\_EMBEDDED;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00045}00045   \mbox{\hyperlink{drv__usb__otg_8c_a3ec0d70a6cb9406d997fb3d006cc940d}{hpcd\_USB\_OTG\_FS}}.Init.Sof\_enable = DISABLE;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00046}00046   \mbox{\hyperlink{drv__usb__otg_8c_a3ec0d70a6cb9406d997fb3d006cc940d}{hpcd\_USB\_OTG\_FS}}.Init.low\_power\_enable = DISABLE;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00047}00047   \mbox{\hyperlink{drv__usb__otg_8c_a3ec0d70a6cb9406d997fb3d006cc940d}{hpcd\_USB\_OTG\_FS}}.Init.lpm\_enable = DISABLE;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00048}00048   \mbox{\hyperlink{drv__usb__otg_8c_a3ec0d70a6cb9406d997fb3d006cc940d}{hpcd\_USB\_OTG\_FS}}.Init.battery\_charging\_enable = DISABLE;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00049}00049   \mbox{\hyperlink{drv__usb__otg_8c_a3ec0d70a6cb9406d997fb3d006cc940d}{hpcd\_USB\_OTG\_FS}}.Init.vbus\_sensing\_enable = DISABLE;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00050}00050   \mbox{\hyperlink{drv__usb__otg_8c_a3ec0d70a6cb9406d997fb3d006cc940d}{hpcd\_USB\_OTG\_FS}}.Init.use\_dedicated\_ep1 = DISABLE;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00051}00051   \textcolor{keywordflow}{if} (HAL\_PCD\_Init(\&\mbox{\hyperlink{drv__usb__otg_8c_a3ec0d70a6cb9406d997fb3d006cc940d}{hpcd\_USB\_OTG\_FS}}) != HAL\_OK)}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00052}00052   \{}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00053}00053     \mbox{\hyperlink{main_8c_a1730ffe1e560465665eb47d9264826f9}{Error\_Handler}}();}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00054}00054   \}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00055}00055   \textcolor{comment}{/* USER CODE BEGIN USB\_OTG\_FS\_Init 2 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00057}00057   \textcolor{comment}{/* USER CODE END USB\_OTG\_FS\_Init 2 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00058}00058 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00059}00059 \}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00061}\mbox{\hyperlink{drv__usb__otg_8c_ab88e6d72062dc5d478ab12b435695ccb}{00061}} \textcolor{keywordtype}{void} \mbox{\hyperlink{drv__usb__otg_8c_ab88e6d72062dc5d478ab12b435695ccb}{HAL\_PCD\_MspInit}}(PCD\_HandleTypeDef* pcdHandle)}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00062}00062 \{}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00063}00063 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00064}00064   GPIO\_InitTypeDef GPIO\_InitStruct = \{0\};}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00065}00065   \textcolor{keywordflow}{if}(pcdHandle-\/>Instance==USB\_OTG\_FS)}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00066}00066   \{}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00067}00067   \textcolor{comment}{/* USER CODE BEGIN USB\_OTG\_FS\_MspInit 0 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00068}00068 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00069}00069   \textcolor{comment}{/* USER CODE END USB\_OTG\_FS\_MspInit 0 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00070}00070 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00071}00071     \_\_HAL\_RCC\_GPIOA\_CLK\_ENABLE();}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00076}00076     GPIO\_InitStruct.Pin = GPIO\_PIN\_11|GPIO\_PIN\_12;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00077}00077     GPIO\_InitStruct.Mode = GPIO\_MODE\_AF\_PP;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00078}00078     GPIO\_InitStruct.Pull = GPIO\_NOPULL;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00079}00079     GPIO\_InitStruct.Speed = GPIO\_SPEED\_FREQ\_VERY\_HIGH;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00080}00080     GPIO\_InitStruct.Alternate = GPIO\_AF10\_OTG\_FS;}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00081}00081     HAL\_GPIO\_Init(GPIOA, \&GPIO\_InitStruct);}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00082}00082 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00083}00083     \textcolor{comment}{/* USB\_OTG\_FS clock enable */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00084}00084     \_\_HAL\_RCC\_USB\_OTG\_FS\_CLK\_ENABLE();}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00085}00085   \textcolor{comment}{/* USER CODE BEGIN USB\_OTG\_FS\_MspInit 1 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00086}00086 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00087}00087   \textcolor{comment}{/* USER CODE END USB\_OTG\_FS\_MspInit 1 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00088}00088   \}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00089}00089 \}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00090}00090 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00091}\mbox{\hyperlink{drv__usb__otg_8c_a0a53f3c7c744fcfa7bdba6e9badc70d4}{00091}} \textcolor{keywordtype}{void} \mbox{\hyperlink{drv__usb__otg_8c_a0a53f3c7c744fcfa7bdba6e9badc70d4}{HAL\_PCD\_MspDeInit}}(PCD\_HandleTypeDef* pcdHandle)}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00092}00092 \{}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00093}00093 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00094}00094   \textcolor{keywordflow}{if}(pcdHandle-\/>Instance==USB\_OTG\_FS)}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00095}00095   \{}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00096}00096   \textcolor{comment}{/* USER CODE BEGIN USB\_OTG\_FS\_MspDeInit 0 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00097}00097 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00098}00098   \textcolor{comment}{/* USER CODE END USB\_OTG\_FS\_MspDeInit 0 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00099}00099     \textcolor{comment}{/* Peripheral clock disable */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00100}00100     \_\_HAL\_RCC\_USB\_OTG\_FS\_CLK\_DISABLE();}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00101}00101 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00106}00106     HAL\_GPIO\_DeInit(GPIOA, GPIO\_PIN\_11|GPIO\_PIN\_12);}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00107}00107 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00108}00108   \textcolor{comment}{/* USER CODE BEGIN USB\_OTG\_FS\_MspDeInit 1 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00109}00109 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00110}00110   \textcolor{comment}{/* USER CODE END USB\_OTG\_FS\_MspDeInit 1 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00111}00111   \}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00112}00112 \}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00113}00113 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00114}00114 \textcolor{comment}{/* USER CODE BEGIN 1 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00115}00115 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00116}00116 \textcolor{comment}{/* USER CODE END 1 */}}
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00117}00117 }
\DoxyCodeLine{\Hypertarget{drv__usb__otg_8c_source_l00118}00118 \textcolor{comment}{/************************ (C) COPYRIGHT STMicroelectronics *****END OF FILE****/}}

\end{DoxyCode}
