\hypertarget{drv__ibus_8h}{}\doxysection{/\+Users/jeremywolfe/\+Documents/\+STM32\+Cube\+IDE/\+Autodrone32/\+Src/drv/drv\+\_\+ibus.h File Reference}
\label{drv__ibus_8h}\index{/Users/jeremywolfe/Documents/STM32CubeIDE/Autodrone32/Src/drv/drv\_ibus.h@{/Users/jeremywolfe/Documents/STM32CubeIDE/Autodrone32/Src/drv/drv\_ibus.h}}


This file initializes the ibus receiver protocol.  


{\ttfamily \#include \char`\"{}drv\+\_\+lwrb.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{drv__ibus_8h_aa46121eb3f1de26fc023eae5bbcdf0fe}{IBUS\+\_\+\+FRAME\+\_\+\+SIZE\+\_\+\+MAX}}~32
\item 
\#define \mbox{\hyperlink{drv__ibus_8h_a3fb2dea7d964f6ed95dfac2897c4001d}{PAYLOAD\+\_\+\+SIZE}}~(\mbox{\hyperlink{drv__ibus_8h_aa46121eb3f1de26fc023eae5bbcdf0fe}{IBUS\+\_\+\+FRAME\+\_\+\+SIZE\+\_\+\+MAX}} -\/ 4U)
\item 
\#define \mbox{\hyperlink{drv__ibus_8h_aad403df27c4671b0787f75525ee666ad}{RC\+\_\+\+CHANNELS}}~(\mbox{\hyperlink{drv__ibus_8h_a3fb2dea7d964f6ed95dfac2897c4001d}{PAYLOAD\+\_\+\+SIZE}} / 2U)
\item 
\#define \mbox{\hyperlink{drv__ibus_8h_a841615a63f4a3aa18337897953874909}{ARRAY\+\_\+\+LEN}}(x)~(sizeof(x) / sizeof((x)\mbox{[}0\mbox{]}))
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \{ \mbox{\hyperlink{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5aa34e1b14fc82d7fcd38d47419a78edbb}{IBUS\+\_\+\+STATE\+\_\+\+LENGTH}}
, \mbox{\hyperlink{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5a1d724e6c3d2bfe57875b68d08b3cc35b}{IBUS\+\_\+\+STATE\+\_\+\+TYPE}}
, \mbox{\hyperlink{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5a585b57ae393bd2b7c30494b84fd559f4}{IBUS\+\_\+\+STATE\+\_\+\+PAYLOAD}}
, \mbox{\hyperlink{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5a404bbd90ff266bed464aa2a846164fc5}{IBUS\+\_\+\+STATE\+\_\+\+CRC}}
 \}
\item 
enum \mbox{\hyperlink{drv__ibus_8h_a5a62ceacfdb82fe56aba16e8387b8570}{ibus\+Status\+\_\+e}} \{ \mbox{\hyperlink{drv__ibus_8h_a5a62ceacfdb82fe56aba16e8387b8570ae428d7ce3228dba7302258f2a9f96f1d}{IBUS\+\_\+\+READY}}
, \mbox{\hyperlink{drv__ibus_8h_a5a62ceacfdb82fe56aba16e8387b8570af3691b782927b3922d91f4914033a510}{IBUS\+\_\+\+BUSY}}
, \mbox{\hyperlink{drv__ibus_8h_a5a62ceacfdb82fe56aba16e8387b8570a9b0874166f6a82f4ab575a4ec09259fa}{IBUS\+\_\+\+ERROR}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{drv__ibus_8h_af79bcf473fa604b9bcddae0117ff0615}{ibus\+Init}} (void)
\begin{DoxyCompactList}\small\item\em Initializes ibus ring buffer and low level usart registers. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{drv__ibus_8h_a6973c6b108b25985f4c960dab82d92c8}{ibus\+Process}} (void)
\begin{DoxyCompactList}\small\item\em Waits for the parser to not be busy. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \mbox{\hyperlink{drv__ibus_8h_a1f7d351054db12d0e67ab4e90bb61e3c}{ibus\+Payload}} \mbox{[}\mbox{\hyperlink{drv__ibus_8h_a3fb2dea7d964f6ed95dfac2897c4001d}{PAYLOAD\+\_\+\+SIZE}}\mbox{]}
\item 
uint16\+\_\+t \mbox{\hyperlink{drv__ibus_8h_a471e5bdeaa5f17529cc51a54fc4b12e5}{ibus\+Channels}} \mbox{[}\mbox{\hyperlink{drv__ibus_8h_aad403df27c4671b0787f75525ee666ad}{RC\+\_\+\+CHANNELS}}\mbox{]}
\item 
bool \mbox{\hyperlink{drv__ibus_8h_af6184e9a83b153bfe00e7716282f04d1}{rc\+Active}}
\item 
bool \mbox{\hyperlink{drv__ibus_8h_a6d620a6bd078d03d656eb1470b11da22}{failsafe}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file initializes the ibus receiver protocol. 

\begin{DoxyAuthor}{Author}
Jeremy Wolfe 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
23 FEB 2022 
\end{DoxyDate}
\begin{DoxyRefDesc}{Bug}
\item[\mbox{\hyperlink{bug__bug000007}{Bug}}]\end{DoxyRefDesc}


Definition in file \mbox{\hyperlink{drv__ibus_8h_source}{drv\+\_\+ibus.\+h}}.



\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{drv__ibus_8h_a841615a63f4a3aa18337897953874909}\label{drv__ibus_8h_a841615a63f4a3aa18337897953874909}} 
\index{drv\_ibus.h@{drv\_ibus.h}!ARRAY\_LEN@{ARRAY\_LEN}}
\index{ARRAY\_LEN@{ARRAY\_LEN}!drv\_ibus.h@{drv\_ibus.h}}
\doxysubsubsection{\texorpdfstring{ARRAY\_LEN}{ARRAY\_LEN}}
{\footnotesize\ttfamily \#define ARRAY\+\_\+\+LEN(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})~(sizeof(x) / sizeof((x)\mbox{[}0\mbox{]}))}



Definition at line \mbox{\hyperlink{drv__ibus_8h_source_l00021}{21}} of file \mbox{\hyperlink{drv__ibus_8h_source}{drv\+\_\+ibus.\+h}}.

\mbox{\Hypertarget{drv__ibus_8h_aa46121eb3f1de26fc023eae5bbcdf0fe}\label{drv__ibus_8h_aa46121eb3f1de26fc023eae5bbcdf0fe}} 
\index{drv\_ibus.h@{drv\_ibus.h}!IBUS\_FRAME\_SIZE\_MAX@{IBUS\_FRAME\_SIZE\_MAX}}
\index{IBUS\_FRAME\_SIZE\_MAX@{IBUS\_FRAME\_SIZE\_MAX}!drv\_ibus.h@{drv\_ibus.h}}
\doxysubsubsection{\texorpdfstring{IBUS\_FRAME\_SIZE\_MAX}{IBUS\_FRAME\_SIZE\_MAX}}
{\footnotesize\ttfamily \#define IBUS\+\_\+\+FRAME\+\_\+\+SIZE\+\_\+\+MAX~32}



Definition at line \mbox{\hyperlink{drv__ibus_8h_source_l00018}{18}} of file \mbox{\hyperlink{drv__ibus_8h_source}{drv\+\_\+ibus.\+h}}.

\mbox{\Hypertarget{drv__ibus_8h_a3fb2dea7d964f6ed95dfac2897c4001d}\label{drv__ibus_8h_a3fb2dea7d964f6ed95dfac2897c4001d}} 
\index{drv\_ibus.h@{drv\_ibus.h}!PAYLOAD\_SIZE@{PAYLOAD\_SIZE}}
\index{PAYLOAD\_SIZE@{PAYLOAD\_SIZE}!drv\_ibus.h@{drv\_ibus.h}}
\doxysubsubsection{\texorpdfstring{PAYLOAD\_SIZE}{PAYLOAD\_SIZE}}
{\footnotesize\ttfamily \#define PAYLOAD\+\_\+\+SIZE~(\mbox{\hyperlink{drv__ibus_8h_aa46121eb3f1de26fc023eae5bbcdf0fe}{IBUS\+\_\+\+FRAME\+\_\+\+SIZE\+\_\+\+MAX}} -\/ 4U)}



Definition at line \mbox{\hyperlink{drv__ibus_8h_source_l00019}{19}} of file \mbox{\hyperlink{drv__ibus_8h_source}{drv\+\_\+ibus.\+h}}.

\mbox{\Hypertarget{drv__ibus_8h_aad403df27c4671b0787f75525ee666ad}\label{drv__ibus_8h_aad403df27c4671b0787f75525ee666ad}} 
\index{drv\_ibus.h@{drv\_ibus.h}!RC\_CHANNELS@{RC\_CHANNELS}}
\index{RC\_CHANNELS@{RC\_CHANNELS}!drv\_ibus.h@{drv\_ibus.h}}
\doxysubsubsection{\texorpdfstring{RC\_CHANNELS}{RC\_CHANNELS}}
{\footnotesize\ttfamily \#define RC\+\_\+\+CHANNELS~(\mbox{\hyperlink{drv__ibus_8h_a3fb2dea7d964f6ed95dfac2897c4001d}{PAYLOAD\+\_\+\+SIZE}} / 2U)}



Definition at line \mbox{\hyperlink{drv__ibus_8h_source_l00020}{20}} of file \mbox{\hyperlink{drv__ibus_8h_source}{drv\+\_\+ibus.\+h}}.



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5}\label{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5}} 
\doxysubsubsection{\texorpdfstring{anonymous enum}{anonymous enum}}
{\footnotesize\ttfamily anonymous enum}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{IBUS\_STATE\_LENGTH@{IBUS\_STATE\_LENGTH}!drv\_ibus.h@{drv\_ibus.h}}\index{drv\_ibus.h@{drv\_ibus.h}!IBUS\_STATE\_LENGTH@{IBUS\_STATE\_LENGTH}}}\mbox{\Hypertarget{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5aa34e1b14fc82d7fcd38d47419a78edbb}\label{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5aa34e1b14fc82d7fcd38d47419a78edbb}} 
IBUS\+\_\+\+STATE\+\_\+\+LENGTH&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{IBUS\_STATE\_TYPE@{IBUS\_STATE\_TYPE}!drv\_ibus.h@{drv\_ibus.h}}\index{drv\_ibus.h@{drv\_ibus.h}!IBUS\_STATE\_TYPE@{IBUS\_STATE\_TYPE}}}\mbox{\Hypertarget{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5a1d724e6c3d2bfe57875b68d08b3cc35b}\label{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5a1d724e6c3d2bfe57875b68d08b3cc35b}} 
IBUS\+\_\+\+STATE\+\_\+\+TYPE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{IBUS\_STATE\_PAYLOAD@{IBUS\_STATE\_PAYLOAD}!drv\_ibus.h@{drv\_ibus.h}}\index{drv\_ibus.h@{drv\_ibus.h}!IBUS\_STATE\_PAYLOAD@{IBUS\_STATE\_PAYLOAD}}}\mbox{\Hypertarget{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5a585b57ae393bd2b7c30494b84fd559f4}\label{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5a585b57ae393bd2b7c30494b84fd559f4}} 
IBUS\+\_\+\+STATE\+\_\+\+PAYLOAD&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{IBUS\_STATE\_CRC@{IBUS\_STATE\_CRC}!drv\_ibus.h@{drv\_ibus.h}}\index{drv\_ibus.h@{drv\_ibus.h}!IBUS\_STATE\_CRC@{IBUS\_STATE\_CRC}}}\mbox{\Hypertarget{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5a404bbd90ff266bed464aa2a846164fc5}\label{drv__ibus_8h_a99fb83031ce9923c84392b4e92f956b5a404bbd90ff266bed464aa2a846164fc5}} 
IBUS\+\_\+\+STATE\+\_\+\+CRC&\\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{drv__ibus_8h_source_l00035}{35}} of file \mbox{\hyperlink{drv__ibus_8h_source}{drv\+\_\+ibus.\+h}}.

\mbox{\Hypertarget{drv__ibus_8h_a5a62ceacfdb82fe56aba16e8387b8570}\label{drv__ibus_8h_a5a62ceacfdb82fe56aba16e8387b8570}} 
\index{drv\_ibus.h@{drv\_ibus.h}!ibusStatus\_e@{ibusStatus\_e}}
\index{ibusStatus\_e@{ibusStatus\_e}!drv\_ibus.h@{drv\_ibus.h}}
\doxysubsubsection{\texorpdfstring{ibusStatus\_e}{ibusStatus\_e}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{drv__ibus_8h_a5a62ceacfdb82fe56aba16e8387b8570}{ibus\+Status\+\_\+e}}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{IBUS\_READY@{IBUS\_READY}!drv\_ibus.h@{drv\_ibus.h}}\index{drv\_ibus.h@{drv\_ibus.h}!IBUS\_READY@{IBUS\_READY}}}\mbox{\Hypertarget{drv__ibus_8h_a5a62ceacfdb82fe56aba16e8387b8570ae428d7ce3228dba7302258f2a9f96f1d}\label{drv__ibus_8h_a5a62ceacfdb82fe56aba16e8387b8570ae428d7ce3228dba7302258f2a9f96f1d}} 
IBUS\+\_\+\+READY&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{IBUS\_BUSY@{IBUS\_BUSY}!drv\_ibus.h@{drv\_ibus.h}}\index{drv\_ibus.h@{drv\_ibus.h}!IBUS\_BUSY@{IBUS\_BUSY}}}\mbox{\Hypertarget{drv__ibus_8h_a5a62ceacfdb82fe56aba16e8387b8570af3691b782927b3922d91f4914033a510}\label{drv__ibus_8h_a5a62ceacfdb82fe56aba16e8387b8570af3691b782927b3922d91f4914033a510}} 
IBUS\+\_\+\+BUSY&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{IBUS\_ERROR@{IBUS\_ERROR}!drv\_ibus.h@{drv\_ibus.h}}\index{drv\_ibus.h@{drv\_ibus.h}!IBUS\_ERROR@{IBUS\_ERROR}}}\mbox{\Hypertarget{drv__ibus_8h_a5a62ceacfdb82fe56aba16e8387b8570a9b0874166f6a82f4ab575a4ec09259fa}\label{drv__ibus_8h_a5a62ceacfdb82fe56aba16e8387b8570a9b0874166f6a82f4ab575a4ec09259fa}} 
IBUS\+\_\+\+ERROR&\\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{drv__ibus_8h_source_l00042}{42}} of file \mbox{\hyperlink{drv__ibus_8h_source}{drv\+\_\+ibus.\+h}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{drv__ibus_8h_af79bcf473fa604b9bcddae0117ff0615}\label{drv__ibus_8h_af79bcf473fa604b9bcddae0117ff0615}} 
\index{drv\_ibus.h@{drv\_ibus.h}!ibusInit@{ibusInit}}
\index{ibusInit@{ibusInit}!drv\_ibus.h@{drv\_ibus.h}}
\doxysubsubsection{\texorpdfstring{ibusInit()}{ibusInit()}}
{\footnotesize\ttfamily bool ibus\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initializes ibus ring buffer and low level usart registers. 

\begin{DoxyReturn}{Returns}
bool True if initialization was successful. False if failed. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{drv__ibus_8c_source_l00046}{46}} of file \mbox{\hyperlink{drv__ibus_8c_source}{drv\+\_\+ibus.\+c}}.

\mbox{\Hypertarget{drv__ibus_8h_a6973c6b108b25985f4c960dab82d92c8}\label{drv__ibus_8h_a6973c6b108b25985f4c960dab82d92c8}} 
\index{drv\_ibus.h@{drv\_ibus.h}!ibusProcess@{ibusProcess}}
\index{ibusProcess@{ibusProcess}!drv\_ibus.h@{drv\_ibus.h}}
\doxysubsubsection{\texorpdfstring{ibusProcess()}{ibusProcess()}}
{\footnotesize\ttfamily void ibus\+Process (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Waits for the parser to not be busy. 

\begin{DoxyReturn}{Returns}
Void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{drv__ibus_8c_source_l00095}{95}} of file \mbox{\hyperlink{drv__ibus_8c_source}{drv\+\_\+ibus.\+c}}.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{drv__ibus_8h_a6d620a6bd078d03d656eb1470b11da22}\label{drv__ibus_8h_a6d620a6bd078d03d656eb1470b11da22}} 
\index{drv\_ibus.h@{drv\_ibus.h}!failsafe@{failsafe}}
\index{failsafe@{failsafe}!drv\_ibus.h@{drv\_ibus.h}}
\doxysubsubsection{\texorpdfstring{failsafe}{failsafe}}
{\footnotesize\ttfamily bool failsafe\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{drv__ibus_8c_source_l00030}{30}} of file \mbox{\hyperlink{drv__ibus_8c_source}{drv\+\_\+ibus.\+c}}.

\mbox{\Hypertarget{drv__ibus_8h_a471e5bdeaa5f17529cc51a54fc4b12e5}\label{drv__ibus_8h_a471e5bdeaa5f17529cc51a54fc4b12e5}} 
\index{drv\_ibus.h@{drv\_ibus.h}!ibusChannels@{ibusChannels}}
\index{ibusChannels@{ibusChannels}!drv\_ibus.h@{drv\_ibus.h}}
\doxysubsubsection{\texorpdfstring{ibusChannels}{ibusChannels}}
{\footnotesize\ttfamily uint16\+\_\+t ibus\+Channels\mbox{[}\mbox{\hyperlink{drv__ibus_8h_aad403df27c4671b0787f75525ee666ad}{RC\+\_\+\+CHANNELS}}\mbox{]}\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{drv__ibus_8c_source_l00023}{23}} of file \mbox{\hyperlink{drv__ibus_8c_source}{drv\+\_\+ibus.\+c}}.

\mbox{\Hypertarget{drv__ibus_8h_a1f7d351054db12d0e67ab4e90bb61e3c}\label{drv__ibus_8h_a1f7d351054db12d0e67ab4e90bb61e3c}} 
\index{drv\_ibus.h@{drv\_ibus.h}!ibusPayload@{ibusPayload}}
\index{ibusPayload@{ibusPayload}!drv\_ibus.h@{drv\_ibus.h}}
\doxysubsubsection{\texorpdfstring{ibusPayload}{ibusPayload}}
{\footnotesize\ttfamily uint8\+\_\+t ibus\+Payload\mbox{[}\mbox{\hyperlink{drv__ibus_8h_a3fb2dea7d964f6ed95dfac2897c4001d}{PAYLOAD\+\_\+\+SIZE}}\mbox{]}\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{drv__ibus_8c_source_l00022}{22}} of file \mbox{\hyperlink{drv__ibus_8c_source}{drv\+\_\+ibus.\+c}}.

\mbox{\Hypertarget{drv__ibus_8h_af6184e9a83b153bfe00e7716282f04d1}\label{drv__ibus_8h_af6184e9a83b153bfe00e7716282f04d1}} 
\index{drv\_ibus.h@{drv\_ibus.h}!rcActive@{rcActive}}
\index{rcActive@{rcActive}!drv\_ibus.h@{drv\_ibus.h}}
\doxysubsubsection{\texorpdfstring{rcActive}{rcActive}}
{\footnotesize\ttfamily bool rc\+Active\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{drv__ibus_8c_source_l00029}{29}} of file \mbox{\hyperlink{drv__ibus_8c_source}{drv\+\_\+ibus.\+c}}.

