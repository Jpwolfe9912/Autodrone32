\hypertarget{sensor__fusion_8c}{}\doxysection{/\+Users/jeremywolfe/\+Documents/\+STM32\+Cube\+IDE/\+Autodrone32/\+Src/sensors/sensor\+\_\+fusion.c File Reference}
\label{sensor__fusion_8c}\index{/Users/jeremywolfe/Documents/STM32CubeIDE/Autodrone32/Src/sensors/sensor\_fusion.c@{/Users/jeremywolfe/Documents/STM32CubeIDE/Autodrone32/Src/sensors/sensor\_fusion.c}}


This file gives the function to create our RPY values. Source for this function exists at\+: \href{https://github.com/arduino-libraries/MadgwickAHRS}{\texttt{ https\+://github.\+com/arduino-\/libraries/\+Madgwick\+AHRS}}.  


{\ttfamily \#include \char`\"{}board.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{sensor__fusion_8c_ac8dc50fbcbc0f076fd8239217094c5ee}{madgwick\+Init}} (void)
\begin{DoxyCompactList}\small\item\em Initializes quaternion and other variables. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sensor__fusion_8c_a1f31885b70f52713de86df45af82aea5}{update\+IMU}} (float gx, float gy, float gz, float ax, float ay, float az)
\begin{DoxyCompactList}\small\item\em Creates quaternion from gyro and accel values. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sensor__fusion_8c_a7b14436407f3a952572f288543075e4d}{compute\+Angles}} (void)
\begin{DoxyCompactList}\small\item\em Computes angles from quaternion. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
float \mbox{\hyperlink{sensor__fusion_8c_aa773d9a6c0ccefaa0fc9ab66fec68ec1}{beta}}
\item 
float \mbox{\hyperlink{sensor__fusion_8c_a27b8f713c4a449fb2fbb1cbdb3a1e149}{q0}}
\item 
float \mbox{\hyperlink{sensor__fusion_8c_a209c65446ca302d32cbb908c4d75f616}{q1}}
\item 
float \mbox{\hyperlink{sensor__fusion_8c_afddca3451c589f7b5928b6dccf8c88ba}{q2}}
\item 
float \mbox{\hyperlink{sensor__fusion_8c_aa92940755b1370321ed489e6f2448ad9}{q3}}
\item 
float \mbox{\hyperlink{sensor__fusion_8c_a2c3ff633baf1eb511d50b9f1e6fa6198}{inv\+Sample\+Freq}}
\item 
float \mbox{\hyperlink{sensor__fusion_8c_a26fd84d522945b6038221d9e38c7cc39}{roll}}
\item 
float \mbox{\hyperlink{sensor__fusion_8c_a282e7d4378d4a18a805b8980295ac86c}{pitch}}
\item 
float \mbox{\hyperlink{sensor__fusion_8c_a7efc219781df4a1e281cb5d348b7fbf9}{yaw}}
\item 
char \mbox{\hyperlink{sensor__fusion_8c_a25a968f5ce1dd5581c3956626c89146b}{angles\+Computed}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file gives the function to create our RPY values. Source for this function exists at\+: \href{https://github.com/arduino-libraries/MadgwickAHRS}{\texttt{ https\+://github.\+com/arduino-\/libraries/\+Madgwick\+AHRS}}. 

\begin{DoxyAuthor}{Author}
Jeremy Wolfe 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
03 MAR 2022 
\end{DoxyDate}
\begin{DoxyRefDesc}{Bug}
\item[\mbox{\hyperlink{bug__bug000013}{Bug}}]\end{DoxyRefDesc}


Definition in file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{sensor__fusion_8c_a7b14436407f3a952572f288543075e4d}\label{sensor__fusion_8c_a7b14436407f3a952572f288543075e4d}} 
\index{sensor\_fusion.c@{sensor\_fusion.c}!computeAngles@{computeAngles}}
\index{computeAngles@{computeAngles}!sensor\_fusion.c@{sensor\_fusion.c}}
\doxysubsubsection{\texorpdfstring{computeAngles()}{computeAngles()}}
{\footnotesize\ttfamily void compute\+Angles (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Computes angles from quaternion. 

\begin{DoxyReturn}{Returns}
Void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00155}{155}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8c_ac8dc50fbcbc0f076fd8239217094c5ee}\label{sensor__fusion_8c_ac8dc50fbcbc0f076fd8239217094c5ee}} 
\index{sensor\_fusion.c@{sensor\_fusion.c}!madgwickInit@{madgwickInit}}
\index{madgwickInit@{madgwickInit}!sensor\_fusion.c@{sensor\_fusion.c}}
\doxysubsubsection{\texorpdfstring{madgwickInit()}{madgwickInit()}}
{\footnotesize\ttfamily void madgwick\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initializes quaternion and other variables. 

\begin{DoxyReturn}{Returns}
Void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00035}{35}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8c_a1f31885b70f52713de86df45af82aea5}\label{sensor__fusion_8c_a1f31885b70f52713de86df45af82aea5}} 
\index{sensor\_fusion.c@{sensor\_fusion.c}!updateIMU@{updateIMU}}
\index{updateIMU@{updateIMU}!sensor\_fusion.c@{sensor\_fusion.c}}
\doxysubsubsection{\texorpdfstring{updateIMU()}{updateIMU()}}
{\footnotesize\ttfamily void update\+IMU (\begin{DoxyParamCaption}\item[{float}]{gx,  }\item[{float}]{gy,  }\item[{float}]{gz,  }\item[{float}]{ax,  }\item[{float}]{ay,  }\item[{float}]{az }\end{DoxyParamCaption})}



Creates quaternion from gyro and accel values. 


\begin{DoxyParams}{Parameters}
{\em float} & gx Gyro roll data in deg/s. \\
\hline
{\em float} & gy Gyro pitch data in deg/s. \\
\hline
{\em float} & gz Gyro yaw data in deg/s. \\
\hline
{\em float} & ax Accel x-\/axis data in m/s$^\wedge$2. \\
\hline
{\em float} & ay Accel y-\/axis data in m/s$^\wedge$2. \\
\hline
{\em float} & az Accel z-\/axis data in m/s$^\wedge$2.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00060}{60}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{sensor__fusion_8c_a25a968f5ce1dd5581c3956626c89146b}\label{sensor__fusion_8c_a25a968f5ce1dd5581c3956626c89146b}} 
\index{sensor\_fusion.c@{sensor\_fusion.c}!anglesComputed@{anglesComputed}}
\index{anglesComputed@{anglesComputed}!sensor\_fusion.c@{sensor\_fusion.c}}
\doxysubsubsection{\texorpdfstring{anglesComputed}{anglesComputed}}
{\footnotesize\ttfamily char angles\+Computed}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00025}{25}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8c_aa773d9a6c0ccefaa0fc9ab66fec68ec1}\label{sensor__fusion_8c_aa773d9a6c0ccefaa0fc9ab66fec68ec1}} 
\index{sensor\_fusion.c@{sensor\_fusion.c}!beta@{beta}}
\index{beta@{beta}!sensor\_fusion.c@{sensor\_fusion.c}}
\doxysubsubsection{\texorpdfstring{beta}{beta}}
{\footnotesize\ttfamily float beta}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00016}{16}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8c_a2c3ff633baf1eb511d50b9f1e6fa6198}\label{sensor__fusion_8c_a2c3ff633baf1eb511d50b9f1e6fa6198}} 
\index{sensor\_fusion.c@{sensor\_fusion.c}!invSampleFreq@{invSampleFreq}}
\index{invSampleFreq@{invSampleFreq}!sensor\_fusion.c@{sensor\_fusion.c}}
\doxysubsubsection{\texorpdfstring{invSampleFreq}{invSampleFreq}}
{\footnotesize\ttfamily float inv\+Sample\+Freq}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00021}{21}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8c_a282e7d4378d4a18a805b8980295ac86c}\label{sensor__fusion_8c_a282e7d4378d4a18a805b8980295ac86c}} 
\index{sensor\_fusion.c@{sensor\_fusion.c}!pitch@{pitch}}
\index{pitch@{pitch}!sensor\_fusion.c@{sensor\_fusion.c}}
\doxysubsubsection{\texorpdfstring{pitch}{pitch}}
{\footnotesize\ttfamily float pitch}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00023}{23}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8c_a27b8f713c4a449fb2fbb1cbdb3a1e149}\label{sensor__fusion_8c_a27b8f713c4a449fb2fbb1cbdb3a1e149}} 
\index{sensor\_fusion.c@{sensor\_fusion.c}!q0@{q0}}
\index{q0@{q0}!sensor\_fusion.c@{sensor\_fusion.c}}
\doxysubsubsection{\texorpdfstring{q0}{q0}}
{\footnotesize\ttfamily float q0}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00017}{17}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8c_a209c65446ca302d32cbb908c4d75f616}\label{sensor__fusion_8c_a209c65446ca302d32cbb908c4d75f616}} 
\index{sensor\_fusion.c@{sensor\_fusion.c}!q1@{q1}}
\index{q1@{q1}!sensor\_fusion.c@{sensor\_fusion.c}}
\doxysubsubsection{\texorpdfstring{q1}{q1}}
{\footnotesize\ttfamily float q1}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00018}{18}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8c_afddca3451c589f7b5928b6dccf8c88ba}\label{sensor__fusion_8c_afddca3451c589f7b5928b6dccf8c88ba}} 
\index{sensor\_fusion.c@{sensor\_fusion.c}!q2@{q2}}
\index{q2@{q2}!sensor\_fusion.c@{sensor\_fusion.c}}
\doxysubsubsection{\texorpdfstring{q2}{q2}}
{\footnotesize\ttfamily float q2}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00019}{19}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8c_aa92940755b1370321ed489e6f2448ad9}\label{sensor__fusion_8c_aa92940755b1370321ed489e6f2448ad9}} 
\index{sensor\_fusion.c@{sensor\_fusion.c}!q3@{q3}}
\index{q3@{q3}!sensor\_fusion.c@{sensor\_fusion.c}}
\doxysubsubsection{\texorpdfstring{q3}{q3}}
{\footnotesize\ttfamily float q3}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00020}{20}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8c_a26fd84d522945b6038221d9e38c7cc39}\label{sensor__fusion_8c_a26fd84d522945b6038221d9e38c7cc39}} 
\index{sensor\_fusion.c@{sensor\_fusion.c}!roll@{roll}}
\index{roll@{roll}!sensor\_fusion.c@{sensor\_fusion.c}}
\doxysubsubsection{\texorpdfstring{roll}{roll}}
{\footnotesize\ttfamily float roll}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00022}{22}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8c_a7efc219781df4a1e281cb5d348b7fbf9}\label{sensor__fusion_8c_a7efc219781df4a1e281cb5d348b7fbf9}} 
\index{sensor\_fusion.c@{sensor\_fusion.c}!yaw@{yaw}}
\index{yaw@{yaw}!sensor\_fusion.c@{sensor\_fusion.c}}
\doxysubsubsection{\texorpdfstring{yaw}{yaw}}
{\footnotesize\ttfamily float yaw}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00024}{24}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

