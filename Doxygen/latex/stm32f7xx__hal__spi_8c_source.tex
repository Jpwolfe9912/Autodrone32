\hypertarget{stm32f7xx__hal__spi_8c_source}{}\doxysection{stm32f7xx\+\_\+hal\+\_\+spi.\+c}
\label{stm32f7xx__hal__spi_8c_source}\index{Autodrone32/Libraries/STM32F7xx\_HAL\_Driver/Src/stm32f7xx\_hal\_spi.c@{Autodrone32/Libraries/STM32F7xx\_HAL\_Driver/Src/stm32f7xx\_hal\_spi.c}}
\mbox{\hyperlink{stm32f7xx__hal__spi_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00199}00199 \textcolor{comment}{/* Includes -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00200}00200 \textcolor{preprocessor}{\#include "{}../../../Libraries/STM32F7xx\_HAL\_Driver/Inc/stm32f7xx\_hal.h"{}}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00201}00201 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00210}00210 \textcolor{preprocessor}{\#ifdef HAL\_SPI\_MODULE\_ENABLED}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00211}00211 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00212}00212 \textcolor{comment}{/* Private typedef -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00213}00213 \textcolor{comment}{/* Private defines -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00217}00217 \textcolor{preprocessor}{\#define SPI\_DEFAULT\_TIMEOUT 100U}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00218}00218 \textcolor{preprocessor}{\#define SPI\_BSY\_FLAG\_WORKAROUND\_TIMEOUT 1000U }}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00223}00223 \textcolor{comment}{/* Private macros -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00224}00224 \textcolor{comment}{/* Private variables -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00225}00225 \textcolor{comment}{/* Private function prototypes -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00229}00229 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMATransmitCplt(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00230}00230 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMAReceiveCplt(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00231}00231 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMATransmitReceiveCplt(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00232}00232 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMAHalfTransmitCplt(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00233}00233 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMAHalfReceiveCplt(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00234}00234 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMAHalfTransmitReceiveCplt(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00235}00235 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMAError(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00236}00236 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMAAbortOnError(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00237}00237 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMATxAbortCallback(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00238}00238 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMARxAbortCallback(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00239}00239 \textcolor{keyword}{static} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} SPI\_WaitFlagStateUntilTimeout(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint32\_t Flag, \mbox{\hyperlink{group___exported__types_ga89136caac2e14c55151f527ac02daaff}{FlagStatus}} State,}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00240}00240                                                        uint32\_t Timeout, uint32\_t Tickstart);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00241}00241 \textcolor{keyword}{static} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} SPI\_WaitFifoStateUntilTimeout(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint32\_t Fifo, uint32\_t State,}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00242}00242                                                        uint32\_t Timeout, uint32\_t Tickstart);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00243}00243 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_TxISR\_8BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00244}00244 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_TxISR\_16BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00245}00245 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_RxISR\_8BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00246}00246 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_RxISR\_16BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00247}00247 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_2linesRxISR\_8BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00248}00248 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_2linesTxISR\_8BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00249}00249 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_2linesTxISR\_16BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00250}00250 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_2linesRxISR\_16BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00251}00251 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00252}00252 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_RxISR\_8BITCRC(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00253}00253 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_RxISR\_16BITCRC(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00254}00254 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_2linesRxISR\_8BITCRC(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00255}00255 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_2linesRxISR\_16BITCRC(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00256}00256 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00257}00257 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_AbortRx\_ISR(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00258}00258 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_AbortTx\_ISR(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00259}00259 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_CloseRxTx\_ISR(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00260}00260 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_CloseRx\_ISR(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00261}00261 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_CloseTx\_ISR(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00262}00262 \textcolor{keyword}{static} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} SPI\_EndRxTransaction(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint32\_t Timeout, uint32\_t Tickstart);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00263}00263 \textcolor{keyword}{static} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} SPI\_EndRxTxTransaction(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint32\_t Timeout, uint32\_t Tickstart);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00268}00268 \textcolor{comment}{/* Exported functions -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00315}00315 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group1_gaadb9d40e710c714d96b2501996658c44}{HAL\_SPI\_Init}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00316}00316 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00317}00317   uint32\_t frxth;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00318}00318 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00319}00319   \textcolor{comment}{/* Check the SPI handle allocation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00320}00320   \textcolor{keywordflow}{if} (hspi == NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00321}00321   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00322}00322     \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00323}00323   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00324}00324 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00325}00325   \textcolor{comment}{/* Check the parameters */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00326}00326   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___exported__macros_gab80249fd6ad4b08c03a48ca6c34a81a2}{IS\_SPI\_ALL\_INSTANCE}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00327}00327   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_ga3dd95189a3729f12ca354b757519ca01}{IS\_SPI\_MODE}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00328}00328   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_ga6c66285d42fc3baf5ecaceadb54ee42a}{IS\_SPI\_DIRECTION}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00329}00329   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gac04b1218a162772dca3854aa3a441856}{IS\_SPI\_DATASIZE}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00330}00330   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_ga7e90530e595a47ab465e3e222014f5e3}{IS\_SPI\_NSS}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ae4a064e48fd5945eda7210d515fed69c}{NSS}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00331}00331   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_ga59317f70e75953c1c2f7d1d67d173db1}{IS\_SPI\_NSSP}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a537f238782f2847191f7d221ffaa6c9b}{NSSPMode}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00332}00332   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gad15d5bdc7ac1698d1956a25b200e1f25}{IS\_SPI\_BAUDRATE\_PRESCALER}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a2fa72ad4f27606fffa2ec9456bcb0a56}{BaudRatePrescaler}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00333}00333   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_ga780c503aa8adae30dea1f034ac500d7f}{IS\_SPI\_FIRST\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9740c535f073c87bb06668385ce96002}{FirstBit}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00334}00334   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_ga8e3c348af57cf973277018958fccfed9}{IS\_SPI\_TIMODE}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a3db685adbdc6f7bfc7ad0191ba5ab277}{TIMode}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00335}00335   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a3db685adbdc6f7bfc7ad0191ba5ab277}{TIMode}} == \mbox{\hyperlink{group___s_p_i___t_i__mode_gaffbf066ee656a4d56b75fa721a2eabcd}{SPI\_TIMODE\_DISABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00336}00336   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00337}00337     \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gad60cb1a9c1e1f89e8e9740a0ca734443}{IS\_SPI\_CPOL}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a83f278c9d173d3cd021644692bf3c435}{CLKPolarity}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00338}00338     \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gaf5ed92fbe83dada8ebcce64c04ef0f72}{IS\_SPI\_CPHA}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba7183911cbc41063270dab182de768f}{CLKPhase}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00339}00339 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00340}00340     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00341}00341     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00342}00342       \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gad15d5bdc7ac1698d1956a25b200e1f25}{IS\_SPI\_BAUDRATE\_PRESCALER}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a2fa72ad4f27606fffa2ec9456bcb0a56}{BaudRatePrescaler}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00343}00343     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00344}00344     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00345}00345     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00346}00346       \textcolor{comment}{/* Baudrate prescaler not use in Motoraola Slave mode. force to default value */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00347}00347       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a2fa72ad4f27606fffa2ec9456bcb0a56}{BaudRatePrescaler}} = \mbox{\hyperlink{group___s_p_i___baud_rate___prescaler_ga3c1e615518e705b8120f164ff4c1968e}{SPI\_BAUDRATEPRESCALER\_2}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00348}00348     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00349}00349   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00350}00350   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00351}00351   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00352}00352     \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gad15d5bdc7ac1698d1956a25b200e1f25}{IS\_SPI\_BAUDRATE\_PRESCALER}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a2fa72ad4f27606fffa2ec9456bcb0a56}{BaudRatePrescaler}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00353}00353 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00354}00354     \textcolor{comment}{/* Force polarity and phase to TI protocaol requirements */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00355}00355     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a83f278c9d173d3cd021644692bf3c435}{CLKPolarity}} = \mbox{\hyperlink{group___s_p_i___clock___polarity_gaf61e3c6ec671baef099516265793c8df}{SPI\_POLARITY\_LOW}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00356}00356     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba7183911cbc41063270dab182de768f}{CLKPhase}}    = \mbox{\hyperlink{group___s_p_i___clock___phase_ga208be78b79c51df200a495c4d2110b57}{SPI\_PHASE\_1EDGE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00357}00357   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00358}00358 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00359}00359   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_ga5416429a2e9024b142c972eacb1fd021}{IS\_SPI\_CRC\_CALCULATION}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00360}00360   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00361}00361   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00362}00362     \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_ga1b4b6bb5771cb0070af660d169d4ef09}{IS\_SPI\_CRC\_POLYNOMIAL}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a48aef59cfd7bf0262b1ad993fef2fc7b}{CRCPolynomial}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00363}00363     \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_ga772f85d2cf9be95f50c9b9526462a85e}{IS\_SPI\_CRC\_LENGTH}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba709d1ebebac9b3385fb61d6eeb79a2}{CRCLength}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00364}00364   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00365}00365 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00366}00366   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} = \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga9cd586b66473d7f207103a443280820e}{SPI\_CRCCALCULATION\_DISABLE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00367}00367 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00368}00368 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00369}00369   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} == \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4adbc218df2c9841b561282b40b3ded69d}{HAL\_SPI\_STATE\_RESET}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00370}00370   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00371}00371     \textcolor{comment}{/* Allocate lock resource and initialize it */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00372}00372     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad4cf225029dbefe8d3fe660c33b8bb6b}{Lock}} = \mbox{\hyperlink{stm32f7xx__hal__def_8h_ab367482e943333a1299294eadaad284ba9bd487430440139444e6e7ff226005c0}{HAL\_UNLOCKED}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00373}00373 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00374}00374 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00375}00375     \textcolor{comment}{/* Init the SPI Callback settings */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00376}00376     hspi-\/>TxCpltCallback       = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga0a99ab4f6aa6ee7dc2abca5483910dde}{HAL\_SPI\_TxCpltCallback}};       \textcolor{comment}{/* Legacy weak TxCpltCallback       */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00377}00377     hspi-\/>RxCpltCallback       = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3df7021fe24cf874f8b1eec5bd5f4cb3}{HAL\_SPI\_RxCpltCallback}};       \textcolor{comment}{/* Legacy weak RxCpltCallback       */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00378}00378     hspi-\/>TxRxCpltCallback     = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga04e63f382f172164c8e7cae4ff5d883c}{HAL\_SPI\_TxRxCpltCallback}};     \textcolor{comment}{/* Legacy weak TxRxCpltCallback     */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00379}00379     hspi-\/>TxHalfCpltCallback   = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga931ef2f7fd94ffa16ec431972b1b237f}{HAL\_SPI\_TxHalfCpltCallback}};   \textcolor{comment}{/* Legacy weak TxHalfCpltCallback   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00380}00380     hspi-\/>RxHalfCpltCallback   = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_gacf622756a3814edfacf449b5749b048a}{HAL\_SPI\_RxHalfCpltCallback}};   \textcolor{comment}{/* Legacy weak RxHalfCpltCallback   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00381}00381     hspi-\/>TxRxHalfCpltCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_gab46e2325b0880d5b5a301792438b151b}{HAL\_SPI\_TxRxHalfCpltCallback}}; \textcolor{comment}{/* Legacy weak TxRxHalfCpltCallback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00382}00382     hspi-\/>ErrorCallback        = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}};        \textcolor{comment}{/* Legacy weak ErrorCallback        */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00383}00383     hspi-\/>AbortCpltCallback    = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga4a2593ec36fa4def11929e65f631f3cf}{HAL\_SPI\_AbortCpltCallback}};    \textcolor{comment}{/* Legacy weak AbortCpltCallback    */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00384}00384 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00385}00385     \textcolor{keywordflow}{if} (hspi-\/>MspInitCallback == NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00386}00386     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00387}00387       hspi-\/>MspInitCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group1_ga17f583be14b22caffa6c4e56dcd035ef}{HAL\_SPI\_MspInit}}; \textcolor{comment}{/* Legacy weak MspInit  */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00388}00388     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00389}00389 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00390}00390     \textcolor{comment}{/* Init the low level hardware : GPIO, CLOCK, NVIC... */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00391}00391     hspi-\/>MspInitCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00392}00392 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00393}00393     \textcolor{comment}{/* Init the low level hardware : GPIO, CLOCK, NVIC... */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00394}00394     \mbox{\hyperlink{group___s_p_i___exported___functions___group1_ga17f583be14b22caffa6c4e56dcd035ef}{HAL\_SPI\_MspInit}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00395}00395 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00396}00396   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00397}00397 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00398}00398   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a0635e168bc0430253fe8e74cfe9768fd}{HAL\_SPI\_STATE\_BUSY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00399}00399 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00400}00400   \textcolor{comment}{/* Disable the selected SPI peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00401}00401   \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00402}00402 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00403}00403   \textcolor{comment}{/* Align by default the rs fifo threshold on the data size */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00404}00404   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00405}00405   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00406}00406     frxth = \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_ga6e9184eadc370323383fe560209d1084}{SPI\_RXFIFO\_THRESHOLD\_HF}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00407}00407   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00408}00408   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00409}00409   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00410}00410     frxth = \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_ga89c3d57e576b7855dc34df26fd6b9972}{SPI\_RXFIFO\_THRESHOLD\_QF}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00411}00411   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00412}00412 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00413}00413   \textcolor{comment}{/* CRC calculation is valid only for 16Bit and 8 Bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00414}00414   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} != \mbox{\hyperlink{group___s_p_i___data___size_ga902147b9ead27cd9333240c72ce74f59}{SPI\_DATASIZE\_16BIT}}) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} != \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00415}00415   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00416}00416     \textcolor{comment}{/* CRC must be disabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00417}00417     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} = \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga9cd586b66473d7f207103a443280820e}{SPI\_CRCCALCULATION\_DISABLE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00418}00418   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00419}00419 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00420}00420   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ SPIx CR1 \& CR2 Configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00421}00421   \textcolor{comment}{/* Configure : SPI Mode, Communication Mode, Clock polarity and phase, NSS management,}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00422}00422 \textcolor{comment}{  Communication speed, First bit and CRC calculation state */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00423}00423   \mbox{\hyperlink{group___exported__macro_ga32f78bffcaf6d13023dcd7f05e0c4d57}{WRITE\_REG}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} \& (\mbox{\hyperlink{group___peripheral___registers___bits___definition_ga5b3b6ae107fc37bf18e14506298d7a55}{SPI\_CR1\_MSTR}} | \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga5f154374b58c0234f82ea326cb303a1e}{SPI\_CR1\_SSI}})) |}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00424}00424                                   (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} \& (\mbox{\hyperlink{group___peripheral___registers___bits___definition_ga9ffecf774b84a8cdc11ab1f931791883}{SPI\_CR1\_RXONLY}} | \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga43608d3c2959fc9ca64398d61cbf484e}{SPI\_CR1\_BIDIMODE}})) |}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00425}00425                                   (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a83f278c9d173d3cd021644692bf3c435}{CLKPolarity}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga2616a10f5118cdc68fbdf0582481e124}{SPI\_CR1\_CPOL}}) |}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00426}00426                                   (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba7183911cbc41063270dab182de768f}{CLKPhase}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga97602d8ded14bbd2c1deadaf308755a3}{SPI\_CR1\_CPHA}}) |}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00427}00427                                   (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ae4a064e48fd5945eda7210d515fed69c}{NSS}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga0e236047e05106cf1ba7929766311382}{SPI\_CR1\_SSM}}) |}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00428}00428                                   (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a2fa72ad4f27606fffa2ec9456bcb0a56}{BaudRatePrescaler}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaec378749f03998b5d2769c3d83deef23}{SPI\_CR1\_BR\_Msk}}) |}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00429}00429                                   (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9740c535f073c87bb06668385ce96002}{FirstBit}}  \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gab929e9d5ddbb66f229c501ab18d0e6e8}{SPI\_CR1\_LSBFIRST}}) |}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00430}00430                                   (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac9339b7c6466f09ad26c26b3bb81c51b}{SPI\_CR1\_CRCEN}})));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00431}00431 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00432}00432   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ SPIx CRCL Configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00433}00433   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00434}00434   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00435}00435     \textcolor{comment}{/* Align the CRC Length on the data size */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00436}00436     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba709d1ebebac9b3385fb61d6eeb79a2}{CRCLength}} == \mbox{\hyperlink{group___s_p_i___c_r_c__length_ga2c09210b093323a8e84af832657568ce}{SPI\_CRC\_LENGTH\_DATASIZE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00437}00437     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00438}00438       \textcolor{comment}{/* CRC Length aligned on the data size : value set by default */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00439}00439       \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00440}00440       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00441}00441         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba709d1ebebac9b3385fb61d6eeb79a2}{CRCLength}} = \mbox{\hyperlink{group___s_p_i___c_r_c__length_ga780edaa0a72a79c4d0fa9618541aaad8}{SPI\_CRC\_LENGTH\_16BIT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00442}00442       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00443}00443       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00444}00444       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00445}00445         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba709d1ebebac9b3385fb61d6eeb79a2}{CRCLength}} = \mbox{\hyperlink{group___s_p_i___c_r_c__length_ga9340cbde2576d63c53c3ee50d3303886}{SPI\_CRC\_LENGTH\_8BIT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00446}00446       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00447}00447     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00448}00448 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00449}00449     \textcolor{comment}{/* Configure : CRC Length */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00450}00450     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba709d1ebebac9b3385fb61d6eeb79a2}{CRCLength}} == \mbox{\hyperlink{group___s_p_i___c_r_c__length_ga780edaa0a72a79c4d0fa9618541aaad8}{SPI\_CRC\_LENGTH\_16BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00451}00451     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00452}00452       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3828b6114d16fada0dea07b902377a5c}{SPI\_CR1\_CRCL}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00453}00453     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00454}00454   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00455}00455 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00456}00456 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00457}00457   \textcolor{comment}{/* Configure : NSS management, TI Mode, NSS Pulse, Data size and Rx Fifo threshold */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00458}00458   \mbox{\hyperlink{group___exported__macro_ga32f78bffcaf6d13023dcd7f05e0c4d57}{WRITE\_REG}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, (((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ae4a064e48fd5945eda7210d515fed69c}{NSS}} >> 16U) \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gae94612b95395eff626f5f3d7d28352dd}{SPI\_CR2\_SSOE}}) |}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00459}00459                                   (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a3db685adbdc6f7bfc7ad0191ba5ab277}{TIMode}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga09e3f41fa2150831afaac191046087f2}{SPI\_CR2\_FRF}}) |}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00460}00460                                   (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a537f238782f2847191f7d221ffaa6c9b}{NSSPMode}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga2e7d9d05424a68e6b02b82280541dbd2}{SPI\_CR2\_NSSP}}) |}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00461}00461                                   (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac7db0848da7dbee5d397a27c6f51a865}{SPI\_CR2\_DS\_Msk}}) |}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00462}00462                                   (frxth \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga6e02994914afef4270508bc3219db477}{SPI\_CR2\_FRXTH}})));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00463}00463 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00464}00464 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00465}00465   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ SPIx CRCPOLY Configuration -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00466}00466   \textcolor{comment}{/* Configure : CRC Polynomial */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00467}00467   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00468}00468   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00469}00469     \mbox{\hyperlink{group___exported__macro_ga32f78bffcaf6d13023dcd7f05e0c4d57}{WRITE\_REG}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ace450027b4b33f921dd8edd3425a717c}{CRCPR}}, (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a48aef59cfd7bf0262b1ad993fef2fc7b}{CRCPolynomial}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga67c234978a817dee4fc561201b3ef056}{SPI\_CRCPR\_CRCPOLY\_Msk}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00470}00470   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00471}00471 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00472}00472 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00473}00473 \textcolor{preprocessor}{\#if defined(SPI\_I2SCFGR\_I2SMOD)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00474}00474   \textcolor{comment}{/* Activate the SPI mode (Make sure that I2SMOD bit in I2SCFGR register is reset) */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00475}00475   \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_aa0c41c8883cb0812d6aaf956c393584b}{I2SCFGR}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gae99763414b3c2f11fcfecb1f93eb6701}{SPI\_I2SCFGR\_I2SMOD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00476}00476 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* SPI\_I2SCFGR\_I2SMOD */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00477}00477 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00478}00478   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00479}00479   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}}     = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00480}00480 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00481}00481   \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00482}00482 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00483}00483 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00490}00490 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group1_gaca2db2a7bbed96ac013c565080fb61f2}{HAL\_SPI\_DeInit}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00491}00491 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00492}00492   \textcolor{comment}{/* Check the SPI handle allocation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00493}00493   \textcolor{keywordflow}{if} (hspi == NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00494}00494   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00495}00495     \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00496}00496   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00497}00497 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00498}00498   \textcolor{comment}{/* Check SPI Instance parameter */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00499}00499   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___exported__macros_gab80249fd6ad4b08c03a48ca6c34a81a2}{IS\_SPI\_ALL\_INSTANCE}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00500}00500 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00501}00501   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a0635e168bc0430253fe8e74cfe9768fd}{HAL\_SPI\_STATE\_BUSY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00502}00502 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00503}00503   \textcolor{comment}{/* Disable the SPI Peripheral Clock */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00504}00504   \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00505}00505 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00506}00506 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00507}00507   \textcolor{keywordflow}{if} (hspi-\/>MspDeInitCallback == NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00508}00508   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00509}00509     hspi-\/>MspDeInitCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group1_gabadc4d4974af1afd943e8d13589068e1}{HAL\_SPI\_MspDeInit}}; \textcolor{comment}{/* Legacy weak MspDeInit  */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00510}00510   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00511}00511 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00512}00512   \textcolor{comment}{/* DeInit the low level hardware: GPIO, CLOCK, NVIC... */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00513}00513   hspi-\/>MspDeInitCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00514}00514 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00515}00515   \textcolor{comment}{/* DeInit the low level hardware: GPIO, CLOCK, NVIC... */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00516}00516   \mbox{\hyperlink{group___s_p_i___exported___functions___group1_gabadc4d4974af1afd943e8d13589068e1}{HAL\_SPI\_MspDeInit}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00517}00517 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00518}00518 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00519}00519   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00520}00520   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4adbc218df2c9841b561282b40b3ded69d}{HAL\_SPI\_STATE\_RESET}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00521}00521 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00522}00522   \textcolor{comment}{/* Release Lock */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00523}00523   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00524}00524 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00525}00525   \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00526}00526 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00527}00527 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00534}00534 \_\_weak \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_p_i___exported___functions___group1_ga17f583be14b22caffa6c4e56dcd035ef}{HAL\_SPI\_MspInit}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00535}00535 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00536}00536   \textcolor{comment}{/* Prevent unused argument(s) compilation warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00537}00537   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00538}00538 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00539}00539   \textcolor{comment}{/* NOTE : This function should not be modified, when the callback is needed,}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00540}00540 \textcolor{comment}{            the HAL\_SPI\_MspInit should be implemented in the user file}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00541}00541 \textcolor{comment}{   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00542}00542 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00543}00543 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00550}00550 \_\_weak \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_p_i___exported___functions___group1_gabadc4d4974af1afd943e8d13589068e1}{HAL\_SPI\_MspDeInit}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00551}00551 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00552}00552   \textcolor{comment}{/* Prevent unused argument(s) compilation warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00553}00553   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00554}00554 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00555}00555   \textcolor{comment}{/* NOTE : This function should not be modified, when the callback is needed,}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00556}00556 \textcolor{comment}{            the HAL\_SPI\_MspDeInit should be implemented in the user file}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00557}00557 \textcolor{comment}{   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00558}00558 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00559}00559 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00560}00560 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00570}00570 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} HAL\_SPI\_RegisterCallback(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, HAL\_SPI\_CallbackIDTypeDef CallbackID,}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00571}00571                                            pSPI\_CallbackTypeDef pCallback)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00572}00572 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00573}00573   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{drv__ibus_8c_a2cc3a1395706a276ba8a808b6f72e5c0}{status}} = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00574}00574 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00575}00575   \textcolor{keywordflow}{if} (pCallback == NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00576}00576   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00577}00577     \textcolor{comment}{/* Update the error code */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00578}00578     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} |= HAL\_SPI\_ERROR\_INVALID\_CALLBACK;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00579}00579 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00580}00580     \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00581}00581   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00582}00582   \textcolor{comment}{/* Process locked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00583}00583   \mbox{\hyperlink{stm32f7xx__hal__def_8h_ad3d96e1b9022ba76b69eeda91027b36c}{\_\_HAL\_LOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00584}00584 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00585}00585   \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}} == hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00586}00586   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00587}00587     \textcolor{keywordflow}{switch} (CallbackID)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00588}00588     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00589}00589       \textcolor{keywordflow}{case} HAL\_SPI\_TX\_COMPLETE\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00590}00590         hspi-\/>TxCpltCallback = pCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00591}00591         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00592}00592 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00593}00593       \textcolor{keywordflow}{case} HAL\_SPI\_RX\_COMPLETE\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00594}00594         hspi-\/>RxCpltCallback = pCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00595}00595         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00596}00596 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00597}00597       \textcolor{keywordflow}{case} HAL\_SPI\_TX\_RX\_COMPLETE\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00598}00598         hspi-\/>TxRxCpltCallback = pCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00599}00599         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00600}00600 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00601}00601       \textcolor{keywordflow}{case} HAL\_SPI\_TX\_HALF\_COMPLETE\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00602}00602         hspi-\/>TxHalfCpltCallback = pCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00603}00603         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00604}00604 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00605}00605       \textcolor{keywordflow}{case} HAL\_SPI\_RX\_HALF\_COMPLETE\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00606}00606         hspi-\/>RxHalfCpltCallback = pCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00607}00607         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00608}00608 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00609}00609       \textcolor{keywordflow}{case} HAL\_SPI\_TX\_RX\_HALF\_COMPLETE\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00610}00610         hspi-\/>TxRxHalfCpltCallback = pCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00611}00611         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00612}00612 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00613}00613       \textcolor{keywordflow}{case} HAL\_SPI\_ERROR\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00614}00614         hspi-\/>ErrorCallback = pCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00615}00615         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00616}00616 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00617}00617       \textcolor{keywordflow}{case} HAL\_SPI\_ABORT\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00618}00618         hspi-\/>AbortCpltCallback = pCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00619}00619         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00620}00620 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00621}00621       \textcolor{keywordflow}{case} HAL\_SPI\_MSPINIT\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00622}00622         hspi-\/>MspInitCallback = pCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00623}00623         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00624}00624 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00625}00625       \textcolor{keywordflow}{case} HAL\_SPI\_MSPDEINIT\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00626}00626         hspi-\/>MspDeInitCallback = pCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00627}00627         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00628}00628 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00629}00629       default :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00630}00630         \textcolor{comment}{/* Update the error code */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00631}00631         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, HAL\_SPI\_ERROR\_INVALID\_CALLBACK);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00632}00632 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00633}00633         \textcolor{comment}{/* Return error status */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00634}00634         \mbox{\hyperlink{drv__ibus_8c_a2cc3a1395706a276ba8a808b6f72e5c0}{status}} =  \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00635}00635         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00636}00636     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00637}00637   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00638}00638   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4adbc218df2c9841b561282b40b3ded69d}{HAL\_SPI\_STATE\_RESET}} == hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00639}00639   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00640}00640     \textcolor{keywordflow}{switch} (CallbackID)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00641}00641     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00642}00642       \textcolor{keywordflow}{case} HAL\_SPI\_MSPINIT\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00643}00643         hspi-\/>MspInitCallback = pCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00644}00644         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00645}00645 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00646}00646       \textcolor{keywordflow}{case} HAL\_SPI\_MSPDEINIT\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00647}00647         hspi-\/>MspDeInitCallback = pCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00648}00648         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00649}00649 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00650}00650       default :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00651}00651         \textcolor{comment}{/* Update the error code */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00652}00652         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, HAL\_SPI\_ERROR\_INVALID\_CALLBACK);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00653}00653 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00654}00654         \textcolor{comment}{/* Return error status */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00655}00655         \mbox{\hyperlink{drv__ibus_8c_a2cc3a1395706a276ba8a808b6f72e5c0}{status}} =  \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00656}00656         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00657}00657     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00658}00658   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00659}00659   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00660}00660   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00661}00661     \textcolor{comment}{/* Update the error code */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00662}00662     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, HAL\_SPI\_ERROR\_INVALID\_CALLBACK);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00663}00663 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00664}00664     \textcolor{comment}{/* Return error status */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00665}00665     \mbox{\hyperlink{drv__ibus_8c_a2cc3a1395706a276ba8a808b6f72e5c0}{status}} =  \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00666}00666   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00667}00667 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00668}00668   \textcolor{comment}{/* Release Lock */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00669}00669   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00670}00670   \textcolor{keywordflow}{return} \mbox{\hyperlink{drv__ibus_8c_a2cc3a1395706a276ba8a808b6f72e5c0}{status}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00671}00671 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00672}00672 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00681}00681 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} HAL\_SPI\_UnRegisterCallback(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, HAL\_SPI\_CallbackIDTypeDef CallbackID)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00682}00682 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00683}00683   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{drv__ibus_8c_a2cc3a1395706a276ba8a808b6f72e5c0}{status}} = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00684}00684 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00685}00685   \textcolor{comment}{/* Process locked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00686}00686   \mbox{\hyperlink{stm32f7xx__hal__def_8h_ad3d96e1b9022ba76b69eeda91027b36c}{\_\_HAL\_LOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00687}00687 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00688}00688   \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}} == hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00689}00689   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00690}00690     \textcolor{keywordflow}{switch} (CallbackID)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00691}00691     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00692}00692       \textcolor{keywordflow}{case} HAL\_SPI\_TX\_COMPLETE\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00693}00693         hspi-\/>TxCpltCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga0a99ab4f6aa6ee7dc2abca5483910dde}{HAL\_SPI\_TxCpltCallback}};             \textcolor{comment}{/* Legacy weak TxCpltCallback       */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00694}00694         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00695}00695 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00696}00696       \textcolor{keywordflow}{case} HAL\_SPI\_RX\_COMPLETE\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00697}00697         hspi-\/>RxCpltCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3df7021fe24cf874f8b1eec5bd5f4cb3}{HAL\_SPI\_RxCpltCallback}};             \textcolor{comment}{/* Legacy weak RxCpltCallback       */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00698}00698         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00699}00699 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00700}00700       \textcolor{keywordflow}{case} HAL\_SPI\_TX\_RX\_COMPLETE\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00701}00701         hspi-\/>TxRxCpltCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga04e63f382f172164c8e7cae4ff5d883c}{HAL\_SPI\_TxRxCpltCallback}};         \textcolor{comment}{/* Legacy weak TxRxCpltCallback     */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00702}00702         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00703}00703 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00704}00704       \textcolor{keywordflow}{case} HAL\_SPI\_TX\_HALF\_COMPLETE\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00705}00705         hspi-\/>TxHalfCpltCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga931ef2f7fd94ffa16ec431972b1b237f}{HAL\_SPI\_TxHalfCpltCallback}};     \textcolor{comment}{/* Legacy weak TxHalfCpltCallback   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00706}00706         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00707}00707 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00708}00708       \textcolor{keywordflow}{case} HAL\_SPI\_RX\_HALF\_COMPLETE\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00709}00709         hspi-\/>RxHalfCpltCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_gacf622756a3814edfacf449b5749b048a}{HAL\_SPI\_RxHalfCpltCallback}};     \textcolor{comment}{/* Legacy weak RxHalfCpltCallback   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00710}00710         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00711}00711 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00712}00712       \textcolor{keywordflow}{case} HAL\_SPI\_TX\_RX\_HALF\_COMPLETE\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00713}00713         hspi-\/>TxRxHalfCpltCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_gab46e2325b0880d5b5a301792438b151b}{HAL\_SPI\_TxRxHalfCpltCallback}}; \textcolor{comment}{/* Legacy weak TxRxHalfCpltCallback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00714}00714         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00715}00715 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00716}00716       \textcolor{keywordflow}{case} HAL\_SPI\_ERROR\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00717}00717         hspi-\/>ErrorCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}};               \textcolor{comment}{/* Legacy weak ErrorCallback        */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00718}00718         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00719}00719 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00720}00720       \textcolor{keywordflow}{case} HAL\_SPI\_ABORT\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00721}00721         hspi-\/>AbortCpltCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga4a2593ec36fa4def11929e65f631f3cf}{HAL\_SPI\_AbortCpltCallback}};       \textcolor{comment}{/* Legacy weak AbortCpltCallback    */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00722}00722         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00723}00723 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00724}00724       \textcolor{keywordflow}{case} HAL\_SPI\_MSPINIT\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00725}00725         hspi-\/>MspInitCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group1_ga17f583be14b22caffa6c4e56dcd035ef}{HAL\_SPI\_MspInit}};                   \textcolor{comment}{/* Legacy weak MspInit              */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00726}00726         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00727}00727 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00728}00728       \textcolor{keywordflow}{case} HAL\_SPI\_MSPDEINIT\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00729}00729         hspi-\/>MspDeInitCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group1_gabadc4d4974af1afd943e8d13589068e1}{HAL\_SPI\_MspDeInit}};               \textcolor{comment}{/* Legacy weak MspDeInit            */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00730}00730         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00731}00731 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00732}00732       default :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00733}00733         \textcolor{comment}{/* Update the error code */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00734}00734         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, HAL\_SPI\_ERROR\_INVALID\_CALLBACK);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00735}00735 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00736}00736         \textcolor{comment}{/* Return error status */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00737}00737         \mbox{\hyperlink{drv__ibus_8c_a2cc3a1395706a276ba8a808b6f72e5c0}{status}} =  \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00738}00738         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00739}00739     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00740}00740   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00741}00741   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4adbc218df2c9841b561282b40b3ded69d}{HAL\_SPI\_STATE\_RESET}} == hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00742}00742   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00743}00743     \textcolor{keywordflow}{switch} (CallbackID)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00744}00744     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00745}00745       \textcolor{keywordflow}{case} HAL\_SPI\_MSPINIT\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00746}00746         hspi-\/>MspInitCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group1_ga17f583be14b22caffa6c4e56dcd035ef}{HAL\_SPI\_MspInit}};                   \textcolor{comment}{/* Legacy weak MspInit              */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00747}00747         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00748}00748 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00749}00749       \textcolor{keywordflow}{case} HAL\_SPI\_MSPDEINIT\_CB\_ID :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00750}00750         hspi-\/>MspDeInitCallback = \mbox{\hyperlink{group___s_p_i___exported___functions___group1_gabadc4d4974af1afd943e8d13589068e1}{HAL\_SPI\_MspDeInit}};               \textcolor{comment}{/* Legacy weak MspDeInit            */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00751}00751         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00752}00752 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00753}00753       default :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00754}00754         \textcolor{comment}{/* Update the error code */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00755}00755         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, HAL\_SPI\_ERROR\_INVALID\_CALLBACK);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00756}00756 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00757}00757         \textcolor{comment}{/* Return error status */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00758}00758         \mbox{\hyperlink{drv__ibus_8c_a2cc3a1395706a276ba8a808b6f72e5c0}{status}} =  \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00759}00759         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00760}00760     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00761}00761   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00762}00762   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00763}00763   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00764}00764     \textcolor{comment}{/* Update the error code */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00765}00765     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, HAL\_SPI\_ERROR\_INVALID\_CALLBACK);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00766}00766 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00767}00767     \textcolor{comment}{/* Return error status */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00768}00768     \mbox{\hyperlink{drv__ibus_8c_a2cc3a1395706a276ba8a808b6f72e5c0}{status}} =  \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00769}00769   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00770}00770 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00771}00771   \textcolor{comment}{/* Release Lock */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00772}00772   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00773}00773   \textcolor{keywordflow}{return} \mbox{\hyperlink{drv__ibus_8c_a2cc3a1395706a276ba8a808b6f72e5c0}{status}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00774}00774 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00775}00775 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00822}00822 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga02ec86e05d0702387c221f90b6f041a2}{HAL\_SPI\_Transmit}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint8\_t *pData, uint16\_t Size, uint32\_t Timeout)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00823}00823 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00824}00824   uint32\_t tickstart;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00825}00825   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00826}00826   uint16\_t initial\_TxXferCount;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00827}00827 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00828}00828   \textcolor{comment}{/* Check Direction parameter */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00829}00829   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_ga525d9decc1251ec9037bd3c66c0e3a8c}{IS\_SPI\_DIRECTION\_2LINES\_OR\_1LINE}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00830}00830 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00831}00831   \textcolor{comment}{/* Process Locked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00832}00832   \mbox{\hyperlink{stm32f7xx__hal__def_8h_ad3d96e1b9022ba76b69eeda91027b36c}{\_\_HAL\_LOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00833}00833 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00834}00834   \textcolor{comment}{/* Init tickstart for timeout management*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00835}00835   tickstart = \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}();}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00836}00836   initial\_TxXferCount = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00837}00837 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00838}00838   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00839}00839   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00840}00840     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa8532fa3641ae7c14cb1b0554e2d9cbc7}{HAL\_BUSY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00841}00841     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00842}00842   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00843}00843 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00844}00844   \textcolor{keywordflow}{if} ((pData == NULL) || (Size == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00845}00845   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00846}00846     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00847}00847     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00848}00848   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00849}00849 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00850}00850   \textcolor{comment}{/* Set the transaction information */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00851}00851   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}}       = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a5d82b644c7ca656ab5fe8a8e3cbc29ab}{HAL\_SPI\_STATE\_BUSY\_TX}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00852}00852   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}   = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00853}00853   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}  = (uint8\_t *)pData;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00854}00854   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a80907b65d6f9541bc0dee444d16bc45b}{TxXferSize}}  = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00855}00855   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00856}00856 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00857}00857   \textcolor{comment}{/*Init field not used in handle to zero */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00858}00858   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}  = (uint8\_t *)NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00859}00859   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac12f5f1f6295b3c3327d5feabf5a96fb}{RxXferSize}}  = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00860}00860   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00861}00861   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00862}00862   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00863}00863 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00864}00864   \textcolor{comment}{/* Configure communication direction : 1Line */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00865}00865   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gab0f684caf5f1d6ac1e73d90a4778ab93}{SPI\_DIRECTION\_1LINE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00866}00866   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00867}00867     \textcolor{comment}{/* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00868}00868     \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00869}00869     \mbox{\hyperlink{group___s_p_i___private___macros_gae3b2eb5e818e58b66474d42dedac5523}{SPI\_1LINE\_TX}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00870}00870   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00871}00871 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00872}00872 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00873}00873   \textcolor{comment}{/* Reset CRC Calculation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00874}00874   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00875}00875   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00876}00876     \mbox{\hyperlink{group___s_p_i___private___macros_gab120a0085b72939e7d19c4f6b3381a99}{SPI\_RESET\_CRC}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00877}00877   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00878}00878 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00879}00879 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00880}00880   \textcolor{comment}{/* Check if the SPI is already enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00881}00881   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}}) != \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00882}00882   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00883}00883     \textcolor{comment}{/* Enable SPI peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00884}00884     \mbox{\hyperlink{group___s_p_i___exported___macros_ga16d2d73c2b16004499ae8d492e71fd4e}{\_\_HAL\_SPI\_ENABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00885}00885   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00886}00886 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00887}00887   \textcolor{comment}{/* Transmit data in 16 Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00888}00888   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00889}00889   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00890}00890     \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_ga75f094fee5a9dc10b88401ccd17925d3}{SPI\_MODE\_SLAVE}}) || (initial\_TxXferCount == 0x01U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00891}00891     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00892}00892       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00893}00893       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00894}00894       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00895}00895     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00896}00896     \textcolor{comment}{/* Transmit data in 16 Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00897}00897     \textcolor{keywordflow}{while} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} > 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00898}00898     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00899}00899       \textcolor{comment}{/* Wait until TXE flag is set to send data */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00900}00900       \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_gaf84a1e6af2739a6be58e1b23d9e6b914}{SPI\_FLAG\_TXE}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00901}00901       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00902}00902         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00903}00903         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00904}00904         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00905}00905       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00906}00906       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00907}00907       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00908}00908         \textcolor{comment}{/* Timeout management */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00909}00909         \textcolor{keywordflow}{if} ((((\mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}() -\/ tickstart) >=  Timeout) \&\& (Timeout != \mbox{\hyperlink{stm32f7xx__hal__def_8h_aad28bc64749c50dcedd6bf819fdc6974}{HAL\_MAX\_DELAY}})) || (Timeout == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00910}00910         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00911}00911           errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00912}00912           \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00913}00913         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00914}00914       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00915}00915     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00916}00916   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00917}00917   \textcolor{comment}{/* Transmit data in 8 Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00918}00918   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00919}00919   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00920}00920     \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_ga75f094fee5a9dc10b88401ccd17925d3}{SPI\_MODE\_SLAVE}}) || (initial\_TxXferCount == 0x01U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00921}00921     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00922}00922       \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} > 1U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00923}00923       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00924}00924         \textcolor{comment}{/* write on the data register in packing mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00925}00925         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00926}00926         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00927}00927         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} -\/= 2U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00928}00928       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00929}00929       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00930}00930       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00931}00931         *((\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}}) = (*hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00932}00932         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}} ++;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00933}00933         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00934}00934       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00935}00935     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00936}00936     \textcolor{keywordflow}{while} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} > 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00937}00937     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00938}00938       \textcolor{comment}{/* Wait until TXE flag is set to send data */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00939}00939       \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_gaf84a1e6af2739a6be58e1b23d9e6b914}{SPI\_FLAG\_TXE}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00940}00940       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00941}00941         \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} > 1U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00942}00942         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00943}00943           \textcolor{comment}{/* write on the data register in packing mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00944}00944           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00945}00945           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00946}00946           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} -\/= 2U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00947}00947         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00948}00948         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00949}00949         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00950}00950           *((\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}}) = (*hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00951}00951           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}++;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00952}00952           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00953}00953         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00954}00954       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00955}00955       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00956}00956       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00957}00957         \textcolor{comment}{/* Timeout management */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00958}00958         \textcolor{keywordflow}{if} ((((\mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}() -\/ tickstart) >=  Timeout) \&\& (Timeout != \mbox{\hyperlink{stm32f7xx__hal__def_8h_aad28bc64749c50dcedd6bf819fdc6974}{HAL\_MAX\_DELAY}})) || (Timeout == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00959}00959         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00960}00960           errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00961}00961           \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00962}00962         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00963}00963       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00964}00964     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00965}00965   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00966}00966 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00967}00967   \textcolor{comment}{/* Enable CRC Transmission */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00968}00968   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00969}00969   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00970}00970     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga57072f13c2e54c12186ae8c5fdecb250}{SPI\_CR1\_CRCNEXT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00971}00971   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00972}00972 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00973}00973 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00974}00974   \textcolor{comment}{/* Check the end of the transaction */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00975}00975   \textcolor{keywordflow}{if} (SPI\_EndRxTxTransaction(hspi, Timeout, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00976}00976   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00977}00977     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00978}00978   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00979}00979 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00980}00980   \textcolor{comment}{/* Clear overrun flag in 2 Lines communication mode because received is not read */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00981}00981   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gaa7cb7f4bf4eebbf91bcfaeb17ebba7f3}{SPI\_DIRECTION\_2LINES}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00982}00982   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00983}00983     \mbox{\hyperlink{group___s_p_i___exported___macros_gaf6af33b1c5d334b9fe7bb778c5b6442e}{\_\_HAL\_SPI\_CLEAR\_OVRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00984}00984   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00985}00985 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00986}00986   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} != \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00987}00987   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00988}00988     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00989}00989   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00990}00990 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00991}00991 error:}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00992}00992   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00993}00993   \textcolor{comment}{/* Process Unlocked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00994}00994   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00995}00995   \textcolor{keywordflow}{return} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00996}00996 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l00997}00997 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01007}01007 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_gafdf43dbe4e5ef225bed6650b6e8c6313}{HAL\_SPI\_Receive}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint8\_t *pData, uint16\_t Size, uint32\_t Timeout)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01008}01008 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01009}01009 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01010}01010   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t tmpreg = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01011}01011   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01012}01012   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  tmpreg8 = 0;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01013}01013 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01014}01014   uint32\_t tickstart;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01015}01015   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01016}01016 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01017}01017   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}}) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gaa7cb7f4bf4eebbf91bcfaeb17ebba7f3}{SPI\_DIRECTION\_2LINES}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01018}01018   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01019}01019     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01020}01020     \textcolor{comment}{/* Call transmit-\/receive function to send Dummy data on Tx line and generate clock on CLK line */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01021}01021     \textcolor{keywordflow}{return} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga7c3106fe01493a33b08e5c617f45aeb1}{HAL\_SPI\_TransmitReceive}}(hspi, pData, pData, Size, Timeout);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01022}01022   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01023}01023 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01024}01024   \textcolor{comment}{/* Process Locked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01025}01025   \mbox{\hyperlink{stm32f7xx__hal__def_8h_ad3d96e1b9022ba76b69eeda91027b36c}{\_\_HAL\_LOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01026}01026 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01027}01027   \textcolor{comment}{/* Init tickstart for timeout management*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01028}01028   tickstart = \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}();}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01029}01029 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01030}01030   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01031}01031   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01032}01032     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa8532fa3641ae7c14cb1b0554e2d9cbc7}{HAL\_BUSY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01033}01033     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01034}01034   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01035}01035 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01036}01036   \textcolor{keywordflow}{if} ((pData == NULL) || (Size == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01037}01037   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01038}01038     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01039}01039     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01040}01040   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01041}01041 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01042}01042   \textcolor{comment}{/* Set the transaction information */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01043}01043   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}}       = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01044}01044   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}   = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01045}01045   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}  = (uint8\_t *)pData;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01046}01046   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac12f5f1f6295b3c3327d5feabf5a96fb}{RxXferSize}}  = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01047}01047   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01048}01048 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01049}01049   \textcolor{comment}{/*Init field not used in handle to zero */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01050}01050   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}  = (uint8\_t *)NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01051}01051   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a80907b65d6f9541bc0dee444d16bc45b}{TxXferSize}}  = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01052}01052   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01053}01053   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01054}01054   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01055}01055 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01056}01056 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01057}01057   \textcolor{comment}{/* Reset CRC Calculation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01058}01058   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01059}01059   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01060}01060     \mbox{\hyperlink{group___s_p_i___private___macros_gab120a0085b72939e7d19c4f6b3381a99}{SPI\_RESET\_CRC}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01061}01061     \textcolor{comment}{/* this is done to handle the CRCNEXT before the latest data */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01062}01062     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01063}01063   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01064}01064 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01065}01065 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01066}01066   \textcolor{comment}{/* Set the Rx Fifo threshold */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01067}01067   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01068}01068   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01069}01069     \textcolor{comment}{/* Set RX Fifo threshold according the reception data length: 16bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01070}01070     \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01071}01071   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01072}01072   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01073}01073   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01074}01074     \textcolor{comment}{/* Set RX Fifo threshold according the reception data length: 8bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01075}01075     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01076}01076   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01077}01077 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01078}01078   \textcolor{comment}{/* Configure communication direction: 1Line */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01079}01079   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gab0f684caf5f1d6ac1e73d90a4778ab93}{SPI\_DIRECTION\_1LINE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01080}01080   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01081}01081     \textcolor{comment}{/* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01082}01082     \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01083}01083     \mbox{\hyperlink{group___s_p_i___private___macros_gaa8d58cef91c1874d5a4dde4014cf6269}{SPI\_1LINE\_RX}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01084}01084   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01085}01085 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01086}01086   \textcolor{comment}{/* Check if the SPI is already enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01087}01087   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}}) != \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01088}01088   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01089}01089     \textcolor{comment}{/* Enable SPI peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01090}01090     \mbox{\hyperlink{group___s_p_i___exported___macros_ga16d2d73c2b16004499ae8d492e71fd4e}{\_\_HAL\_SPI\_ENABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01091}01091   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01092}01092 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01093}01093   \textcolor{comment}{/* Receive data in 8 Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01094}01094   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} <= \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01095}01095   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01096}01096     \textcolor{comment}{/* Transfer loop */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01097}01097     \textcolor{keywordflow}{while} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} > 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01098}01098     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01099}01099       \textcolor{comment}{/* Check the RXNE flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01100}01100       \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga7bd627ae57160a2f0aad1736194b5999}{SPI\_FLAG\_RXNE}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01101}01101       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01102}01102         \textcolor{comment}{/* read the received data */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01103}01103         (* (uint8\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}) = *(\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01104}01104         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}} += \textcolor{keyword}{sizeof}(uint8\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01105}01105         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01106}01106       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01107}01107       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01108}01108       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01109}01109         \textcolor{comment}{/* Timeout management */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01110}01110         \textcolor{keywordflow}{if} ((((\mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}() -\/ tickstart) >=  Timeout) \&\& (Timeout != \mbox{\hyperlink{stm32f7xx__hal__def_8h_aad28bc64749c50dcedd6bf819fdc6974}{HAL\_MAX\_DELAY}})) || (Timeout == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01111}01111         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01112}01112           errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01113}01113           \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01114}01114         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01115}01115       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01116}01116     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01117}01117   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01118}01118   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01119}01119   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01120}01120     \textcolor{comment}{/* Transfer loop */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01121}01121     \textcolor{keywordflow}{while} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} > 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01122}01122     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01123}01123       \textcolor{comment}{/* Check the RXNE flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01124}01124       \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga7bd627ae57160a2f0aad1736194b5999}{SPI\_FLAG\_RXNE}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01125}01125       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01126}01126         *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}) = (uint16\_t)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01127}01127         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01128}01128         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01129}01129       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01130}01130       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01131}01131       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01132}01132         \textcolor{comment}{/* Timeout management */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01133}01133         \textcolor{keywordflow}{if} ((((\mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}() -\/ tickstart) >=  Timeout) \&\& (Timeout != \mbox{\hyperlink{stm32f7xx__hal__def_8h_aad28bc64749c50dcedd6bf819fdc6974}{HAL\_MAX\_DELAY}})) || (Timeout == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01134}01134         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01135}01135           errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01136}01136           \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01137}01137         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01138}01138       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01139}01139     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01140}01140   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01141}01141 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01142}01142 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01143}01143   \textcolor{comment}{/* Handle the CRC Transmission */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01144}01144   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01145}01145   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01146}01146     \textcolor{comment}{/* freeze the CRC before the latest data */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01147}01147     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga57072f13c2e54c12186ae8c5fdecb250}{SPI\_CR1\_CRCNEXT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01148}01148 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01149}01149     \textcolor{comment}{/* Read the latest data */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01150}01150     \textcolor{keywordflow}{if} (SPI\_WaitFlagStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga7bd627ae57160a2f0aad1736194b5999}{SPI\_FLAG\_RXNE}}, \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792}{SET}}, Timeout, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01151}01151     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01152}01152       \textcolor{comment}{/* the latest data has not been received */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01153}01153       errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01154}01154       \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01155}01155     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01156}01156 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01157}01157     \textcolor{comment}{/* Receive last data in 16 Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01158}01158     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01159}01159     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01160}01160       *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}) = (uint16\_t)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01161}01161     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01162}01162     \textcolor{comment}{/* Receive last data in 8 Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01163}01163     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01164}01164     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01165}01165       (*(uint8\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}) = *(\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01166}01166     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01167}01167 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01168}01168     \textcolor{comment}{/* Wait the CRC data */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01169}01169     \textcolor{keywordflow}{if} (SPI\_WaitFlagStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga7bd627ae57160a2f0aad1736194b5999}{SPI\_FLAG\_RXNE}}, \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792}{SET}}, Timeout, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01170}01170     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01171}01171       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01172}01172       errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01173}01173       \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01174}01174     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01175}01175 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01176}01176     \textcolor{comment}{/* Read CRC to Flush DR and RXNE flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01177}01177     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} == \mbox{\hyperlink{group___s_p_i___data___size_ga902147b9ead27cd9333240c72ce74f59}{SPI\_DATASIZE\_16BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01178}01178     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01179}01179       \textcolor{comment}{/* Read 16bit CRC */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01180}01180       tmpreg = \mbox{\hyperlink{group___exported__macro_gae7f188a4d26c9e713a48414783421071}{READ\_REG}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01181}01181       \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01182}01182       \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01183}01183     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01184}01184     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01185}01185     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01186}01186       \textcolor{comment}{/* Initialize the 8bit temporary pointer */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01187}01187       ptmpreg8 = (\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01188}01188       \textcolor{comment}{/* Read 8bit CRC */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01189}01189       tmpreg8 = *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01190}01190       \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01191}01191       \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg8);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01192}01192 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01193}01193       \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} == \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}}) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba709d1ebebac9b3385fb61d6eeb79a2}{CRCLength}} == \mbox{\hyperlink{group___s_p_i___c_r_c__length_ga780edaa0a72a79c4d0fa9618541aaad8}{SPI\_CRC\_LENGTH\_16BIT}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01194}01194       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01195}01195         \textcolor{keywordflow}{if} (SPI\_WaitFlagStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga7bd627ae57160a2f0aad1736194b5999}{SPI\_FLAG\_RXNE}}, \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792}{SET}}, Timeout, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01196}01196         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01197}01197           \textcolor{comment}{/* Error on the CRC reception */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01198}01198           \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01199}01199           errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01200}01200           \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01201}01201         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01202}01202         \textcolor{comment}{/* Read 8bit CRC again in case of 16bit CRC in 8bit Data mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01203}01203         tmpreg8 = *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01204}01204         \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01205}01205         \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg8);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01206}01206       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01207}01207     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01208}01208   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01209}01209 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01210}01210 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01211}01211   \textcolor{comment}{/* Check the end of the transaction */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01212}01212   \textcolor{keywordflow}{if} (SPI\_EndRxTransaction(hspi, Timeout, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01213}01213   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01214}01214     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01215}01215   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01216}01216 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01217}01217 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01218}01218   \textcolor{comment}{/* Check if CRC error occurred */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01219}01219   \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga30fb6af50e1f3c61cb9de76b0101c889}{SPI\_FLAG\_CRCERR}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01220}01220   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01221}01221     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01222}01222     \mbox{\hyperlink{group___s_p_i___exported___macros_gad1cb4100b67726531ad426d300f4cd26}{\_\_HAL\_SPI\_CLEAR\_CRCERRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01223}01223   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01224}01224 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01225}01225 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01226}01226   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} != \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01227}01227   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01228}01228     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01229}01229   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01230}01230 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01231}01231 error :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01232}01232   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01233}01233   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01234}01234   \textcolor{keywordflow}{return} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01235}01235 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01236}01236 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01247}01247 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga7c3106fe01493a33b08e5c617f45aeb1}{HAL\_SPI\_TransmitReceive}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint8\_t *pTxData, uint8\_t *pRxData, uint16\_t Size,}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01248}01248                                           uint32\_t Timeout)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01249}01249 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01250}01250   uint16\_t             initial\_TxXferCount;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01251}01251   uint16\_t             initial\_RxXferCount;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01252}01252   uint32\_t             tmp\_mode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01253}01253   \mbox{\hyperlink{group___s_p_i___exported___types_ga8891cb64e76198a860172d94c638c9b4}{HAL\_SPI\_StateTypeDef}} tmp\_state;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01254}01254   uint32\_t             tickstart;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01255}01255 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01256}01256   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t tmpreg = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01257}01257   uint32\_t             spi\_cr1;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01258}01258   uint32\_t             spi\_cr2;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01259}01259   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01260}01260   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  tmpreg8 = 0;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01261}01261 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01262}01262 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01263}01263   \textcolor{comment}{/* Variable used to alternate Rx and Tx during transfer */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01264}01264   uint32\_t             txallowed = 1U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01265}01265   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}}    errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01266}01266 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01267}01267   \textcolor{comment}{/* Check Direction parameter */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01268}01268   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gaff84471ab30ddd79cefd0c43dfe628c8}{IS\_SPI\_DIRECTION\_2LINES}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01269}01269 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01270}01270   \textcolor{comment}{/* Process Locked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01271}01271   \mbox{\hyperlink{stm32f7xx__hal__def_8h_ad3d96e1b9022ba76b69eeda91027b36c}{\_\_HAL\_LOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01272}01272 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01273}01273   \textcolor{comment}{/* Init tickstart for timeout management*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01274}01274   tickstart = \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}();}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01275}01275 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01276}01276   \textcolor{comment}{/* Init temporary variables */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01277}01277   tmp\_state           = hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01278}01278   tmp\_mode            = hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01279}01279   initial\_TxXferCount = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01280}01280   initial\_RxXferCount = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01281}01281 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01282}01282   spi\_cr1             = \mbox{\hyperlink{group___exported__macro_gae7f188a4d26c9e713a48414783421071}{READ\_REG}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01283}01283   spi\_cr2             = \mbox{\hyperlink{group___exported__macro_gae7f188a4d26c9e713a48414783421071}{READ\_REG}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01284}01284 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01285}01285 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01286}01286   \textcolor{keywordflow}{if} (!((tmp\_state == \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}}) || \(\backslash\)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01287}01287         ((tmp\_mode == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}}) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gaa7cb7f4bf4eebbf91bcfaeb17ebba7f3}{SPI\_DIRECTION\_2LINES}}) \&\& (tmp\_state == \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}}))))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01288}01288   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01289}01289     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa8532fa3641ae7c14cb1b0554e2d9cbc7}{HAL\_BUSY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01290}01290     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01291}01291   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01292}01292 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01293}01293   \textcolor{keywordflow}{if} ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01294}01294   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01295}01295     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01296}01296     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01297}01297   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01298}01298 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01299}01299   \textcolor{comment}{/* Don't overwrite in case of HAL\_SPI\_STATE\_BUSY\_RX */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01300}01300   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01301}01301   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01302}01302     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a9dae2883ae3e43ca28afc9453a14c938}{HAL\_SPI\_STATE\_BUSY\_TX\_RX}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01303}01303   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01304}01304 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01305}01305   \textcolor{comment}{/* Set the transaction information */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01306}01306   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}   = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01307}01307   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}  = (uint8\_t *)pRxData;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01308}01308   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01309}01309   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac12f5f1f6295b3c3327d5feabf5a96fb}{RxXferSize}}  = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01310}01310   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}  = (uint8\_t *)pTxData;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01311}01311   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01312}01312   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a80907b65d6f9541bc0dee444d16bc45b}{TxXferSize}}  = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01313}01313 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01314}01314   \textcolor{comment}{/*Init field not used in handle to zero */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01315}01315   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01316}01316   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01317}01317 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01318}01318 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01319}01319   \textcolor{comment}{/* Reset CRC Calculation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01320}01320   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01321}01321   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01322}01322     \mbox{\hyperlink{group___s_p_i___private___macros_gab120a0085b72939e7d19c4f6b3381a99}{SPI\_RESET\_CRC}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01323}01323   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01324}01324 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01325}01325 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01326}01326   \textcolor{comment}{/* Set the Rx Fifo threshold */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01327}01327   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}}) || (initial\_RxXferCount > 1U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01328}01328   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01329}01329     \textcolor{comment}{/* Set fiforxthreshold according the reception data length: 16bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01330}01330     \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01331}01331   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01332}01332   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01333}01333   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01334}01334     \textcolor{comment}{/* Set fiforxthreshold according the reception data length: 8bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01335}01335     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01336}01336   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01337}01337 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01338}01338   \textcolor{comment}{/* Check if the SPI is already enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01339}01339   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}}) != \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01340}01340   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01341}01341     \textcolor{comment}{/* Enable SPI peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01342}01342     \mbox{\hyperlink{group___s_p_i___exported___macros_ga16d2d73c2b16004499ae8d492e71fd4e}{\_\_HAL\_SPI\_ENABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01343}01343   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01344}01344 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01345}01345   \textcolor{comment}{/* Transmit and Receive data in 16 Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01346}01346   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01347}01347   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01348}01348     \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_ga75f094fee5a9dc10b88401ccd17925d3}{SPI\_MODE\_SLAVE}}) || (initial\_TxXferCount == 0x01U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01349}01349     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01350}01350       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01351}01351       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01352}01352       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01353}01353     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01354}01354     \textcolor{keywordflow}{while} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} > 0U) || (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} > 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01355}01355     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01356}01356       \textcolor{comment}{/* Check TXE flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01357}01357       \textcolor{keywordflow}{if} ((\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_gaf84a1e6af2739a6be58e1b23d9e6b914}{SPI\_FLAG\_TXE}})) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} > 0U) \&\& (txallowed == 1U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01358}01358       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01359}01359         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01360}01360         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01361}01361         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01362}01362         \textcolor{comment}{/* Next Data is a reception (Rx). Tx not allowed */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01363}01363         txallowed = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01364}01364 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01365}01365 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01366}01366         \textcolor{comment}{/* Enable CRC Transmission */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01367}01367         \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} == 0U) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01368}01368         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01369}01369           \textcolor{comment}{/* Set NSS Soft to received correctly the CRC on slave mode with NSS pulse activated */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01370}01370           \textcolor{keywordflow}{if} ((\mbox{\hyperlink{group___exported__macro_ga822bb1bb9710d5f2fa6396b84e583c33}{READ\_BIT}}(spi\_cr1, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga5b3b6ae107fc37bf18e14506298d7a55}{SPI\_CR1\_MSTR}}) == 0U) \&\& (\mbox{\hyperlink{group___exported__macro_ga822bb1bb9710d5f2fa6396b84e583c33}{READ\_BIT}}(spi\_cr2, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga2e7d9d05424a68e6b02b82280541dbd2}{SPI\_CR2\_NSSP}}) == \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga2e7d9d05424a68e6b02b82280541dbd2}{SPI\_CR2\_NSSP}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01371}01371           \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01372}01372             \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga0e236047e05106cf1ba7929766311382}{SPI\_CR1\_SSM}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01373}01373           \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01374}01374           \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga57072f13c2e54c12186ae8c5fdecb250}{SPI\_CR1\_CRCNEXT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01375}01375         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01376}01376 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01377}01377       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01378}01378 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01379}01379       \textcolor{comment}{/* Check RXNE flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01380}01380       \textcolor{keywordflow}{if} ((\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga7bd627ae57160a2f0aad1736194b5999}{SPI\_FLAG\_RXNE}})) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} > 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01381}01381       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01382}01382         *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}) = (uint16\_t)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01383}01383         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01384}01384         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01385}01385         \textcolor{comment}{/* Next Data is a Transmission (Tx). Tx is allowed */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01386}01386         txallowed = 1U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01387}01387       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01388}01388       \textcolor{keywordflow}{if} (((\mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}() -\/ tickstart) >=  Timeout) \&\& (Timeout != \mbox{\hyperlink{stm32f7xx__hal__def_8h_aad28bc64749c50dcedd6bf819fdc6974}{HAL\_MAX\_DELAY}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01389}01389       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01390}01390         errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01391}01391         \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01392}01392       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01393}01393     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01394}01394   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01395}01395   \textcolor{comment}{/* Transmit and Receive data in 8 Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01396}01396   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01397}01397   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01398}01398     \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_ga75f094fee5a9dc10b88401ccd17925d3}{SPI\_MODE\_SLAVE}}) || (initial\_TxXferCount == 0x01U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01399}01399     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01400}01400       \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} > 1U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01401}01401       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01402}01402         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01403}01403         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01404}01404         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} -\/= 2U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01405}01405       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01406}01406       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01407}01407       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01408}01408         *(\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = (*hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01409}01409         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}++;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01410}01410         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01411}01411       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01412}01412     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01413}01413     \textcolor{keywordflow}{while} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} > 0U) || (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} > 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01414}01414     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01415}01415       \textcolor{comment}{/* Check TXE flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01416}01416       \textcolor{keywordflow}{if} ((\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_gaf84a1e6af2739a6be58e1b23d9e6b914}{SPI\_FLAG\_TXE}})) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} > 0U) \&\& (txallowed == 1U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01417}01417       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01418}01418         \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} > 1U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01419}01419         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01420}01420           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01421}01421           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01422}01422           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} -\/= 2U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01423}01423         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01424}01424         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01425}01425         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01426}01426           *(\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = (*hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01427}01427           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}++;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01428}01428           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01429}01429         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01430}01430         \textcolor{comment}{/* Next Data is a reception (Rx). Tx not allowed */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01431}01431         txallowed = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01432}01432 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01433}01433 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01434}01434         \textcolor{comment}{/* Enable CRC Transmission */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01435}01435         \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} == 0U) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01436}01436         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01437}01437           \textcolor{comment}{/* Set NSS Soft to received correctly the CRC on slave mode with NSS pulse activated */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01438}01438           \textcolor{keywordflow}{if} ((\mbox{\hyperlink{group___exported__macro_ga822bb1bb9710d5f2fa6396b84e583c33}{READ\_BIT}}(spi\_cr1, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga5b3b6ae107fc37bf18e14506298d7a55}{SPI\_CR1\_MSTR}}) == 0U) \&\& (\mbox{\hyperlink{group___exported__macro_ga822bb1bb9710d5f2fa6396b84e583c33}{READ\_BIT}}(spi\_cr2, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga2e7d9d05424a68e6b02b82280541dbd2}{SPI\_CR2\_NSSP}}) == \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga2e7d9d05424a68e6b02b82280541dbd2}{SPI\_CR2\_NSSP}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01439}01439           \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01440}01440             \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga0e236047e05106cf1ba7929766311382}{SPI\_CR1\_SSM}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01441}01441           \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01442}01442           \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga57072f13c2e54c12186ae8c5fdecb250}{SPI\_CR1\_CRCNEXT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01443}01443         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01444}01444 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01445}01445       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01446}01446 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01447}01447       \textcolor{comment}{/* Wait until RXNE flag is reset */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01448}01448       \textcolor{keywordflow}{if} ((\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga7bd627ae57160a2f0aad1736194b5999}{SPI\_FLAG\_RXNE}})) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} > 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01449}01449       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01450}01450         \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} > 1U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01451}01451         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01452}01452           *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}) = (uint16\_t)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01453}01453           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01454}01454           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} -\/= 2U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01455}01455           \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} <= 1U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01456}01456           \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01457}01457             \textcolor{comment}{/* Set RX Fifo threshold before to switch on 8 bit data size */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01458}01458             \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01459}01459           \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01460}01460         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01461}01461         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01462}01462         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01463}01463           (*(uint8\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}) = *(\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01464}01464           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}++;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01465}01465           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01466}01466         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01467}01467         \textcolor{comment}{/* Next Data is a Transmission (Tx). Tx is allowed */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01468}01468         txallowed = 1U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01469}01469       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01470}01470       \textcolor{keywordflow}{if} ((((\mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}() -\/ tickstart) >=  Timeout) \&\& ((Timeout != \mbox{\hyperlink{stm32f7xx__hal__def_8h_aad28bc64749c50dcedd6bf819fdc6974}{HAL\_MAX\_DELAY}}))) || (Timeout == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01471}01471       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01472}01472         errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01473}01473         \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01474}01474       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01475}01475     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01476}01476   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01477}01477 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01478}01478 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01479}01479   \textcolor{comment}{/* Read CRC from DR to close CRC calculation process */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01480}01480   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01481}01481   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01482}01482     \textcolor{comment}{/* Wait until TXE flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01483}01483     \textcolor{keywordflow}{if} (SPI\_WaitFlagStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga7bd627ae57160a2f0aad1736194b5999}{SPI\_FLAG\_RXNE}}, \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792}{SET}}, Timeout, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01484}01484     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01485}01485       \textcolor{comment}{/* Error on the CRC reception */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01486}01486       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01487}01487       errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01488}01488       \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01489}01489     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01490}01490     \textcolor{comment}{/* Read CRC */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01491}01491     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} == \mbox{\hyperlink{group___s_p_i___data___size_ga902147b9ead27cd9333240c72ce74f59}{SPI\_DATASIZE\_16BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01492}01492     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01493}01493       \textcolor{comment}{/* Read 16bit CRC */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01494}01494       tmpreg = \mbox{\hyperlink{group___exported__macro_gae7f188a4d26c9e713a48414783421071}{READ\_REG}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01495}01495       \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01496}01496       \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01497}01497     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01498}01498     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01499}01499     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01500}01500       \textcolor{comment}{/* Initialize the 8bit temporary pointer */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01501}01501       ptmpreg8 = (\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01502}01502       \textcolor{comment}{/* Read 8bit CRC */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01503}01503       tmpreg8 = *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01504}01504       \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01505}01505       \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg8);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01506}01506 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01507}01507       \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba709d1ebebac9b3385fb61d6eeb79a2}{CRCLength}} == \mbox{\hyperlink{group___s_p_i___c_r_c__length_ga780edaa0a72a79c4d0fa9618541aaad8}{SPI\_CRC\_LENGTH\_16BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01508}01508       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01509}01509         \textcolor{keywordflow}{if} (SPI\_WaitFlagStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga7bd627ae57160a2f0aad1736194b5999}{SPI\_FLAG\_RXNE}}, \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792}{SET}}, Timeout, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01510}01510         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01511}01511           \textcolor{comment}{/* Error on the CRC reception */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01512}01512           \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01513}01513           errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01514}01514           \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01515}01515         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01516}01516         \textcolor{comment}{/* Read 8bit CRC again in case of 16bit CRC in 8bit Data mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01517}01517         tmpreg8 = *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01518}01518         \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01519}01519         \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg8);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01520}01520       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01521}01521     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01522}01522   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01523}01523 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01524}01524   \textcolor{comment}{/* Check if CRC error occurred */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01525}01525   \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga30fb6af50e1f3c61cb9de76b0101c889}{SPI\_FLAG\_CRCERR}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01526}01526   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01527}01527     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01528}01528     \textcolor{comment}{/* Clear CRC Flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01529}01529     \mbox{\hyperlink{group___s_p_i___exported___macros_gad1cb4100b67726531ad426d300f4cd26}{\_\_HAL\_SPI\_CLEAR\_CRCERRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01530}01530 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01531}01531     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01532}01532   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01533}01533 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01534}01534 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01535}01535   \textcolor{comment}{/* Check the end of the transaction */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01536}01536   \textcolor{keywordflow}{if} (SPI\_EndRxTxTransaction(hspi, Timeout, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01537}01537   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01538}01538     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01539}01539     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01540}01540   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01541}01541 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01542}01542 error :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01543}01543   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01544}01544   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01545}01545   \textcolor{keywordflow}{return} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01546}01546 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01547}01547 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01556}01556 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_gafbb309aa738bb3296934fb1a39ffbf40}{HAL\_SPI\_Transmit\_IT}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint8\_t *pData, uint16\_t Size)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01557}01557 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01558}01558   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01559}01559 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01560}01560   \textcolor{comment}{/* Check Direction parameter */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01561}01561   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_ga525d9decc1251ec9037bd3c66c0e3a8c}{IS\_SPI\_DIRECTION\_2LINES\_OR\_1LINE}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01562}01562 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01563}01563   \textcolor{comment}{/* Process Locked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01564}01564   \mbox{\hyperlink{stm32f7xx__hal__def_8h_ad3d96e1b9022ba76b69eeda91027b36c}{\_\_HAL\_LOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01565}01565 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01566}01566   \textcolor{keywordflow}{if} ((pData == NULL) || (Size == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01567}01567   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01568}01568     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01569}01569     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01570}01570   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01571}01571 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01572}01572   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01573}01573   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01574}01574     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa8532fa3641ae7c14cb1b0554e2d9cbc7}{HAL\_BUSY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01575}01575     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01576}01576   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01577}01577 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01578}01578   \textcolor{comment}{/* Set the transaction information */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01579}01579   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}}       = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a5d82b644c7ca656ab5fe8a8e3cbc29ab}{HAL\_SPI\_STATE\_BUSY\_TX}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01580}01580   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}   = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01581}01581   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}  = (uint8\_t *)pData;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01582}01582   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a80907b65d6f9541bc0dee444d16bc45b}{TxXferSize}}  = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01583}01583   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01584}01584 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01585}01585   \textcolor{comment}{/* Init field not used in handle to zero */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01586}01586   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}  = (uint8\_t *)NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01587}01587   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac12f5f1f6295b3c3327d5feabf5a96fb}{RxXferSize}}  = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01588}01588   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01589}01589   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01590}01590 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01591}01591   \textcolor{comment}{/* Set the function for IT treatment */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01592}01592   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01593}01593   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01594}01594     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}} = SPI\_TxISR\_16BIT;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01595}01595   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01596}01596   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01597}01597   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01598}01598     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}} = SPI\_TxISR\_8BIT;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01599}01599   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01600}01600 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01601}01601   \textcolor{comment}{/* Configure communication direction : 1Line */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01602}01602   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gab0f684caf5f1d6ac1e73d90a4778ab93}{SPI\_DIRECTION\_1LINE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01603}01603   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01604}01604     \textcolor{comment}{/* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01605}01605     \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01606}01606     \mbox{\hyperlink{group___s_p_i___private___macros_gae3b2eb5e818e58b66474d42dedac5523}{SPI\_1LINE\_TX}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01607}01607   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01608}01608 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01609}01609 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01610}01610   \textcolor{comment}{/* Reset CRC Calculation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01611}01611   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01612}01612   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01613}01613     \mbox{\hyperlink{group___s_p_i___private___macros_gab120a0085b72939e7d19c4f6b3381a99}{SPI\_RESET\_CRC}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01614}01614   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01615}01615 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01616}01616 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01617}01617   \textcolor{comment}{/* Enable TXE and ERR interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01618}01618   \mbox{\hyperlink{group___s_p_i___exported___macros_ga76064652f6f56d8868720b5541e854f5}{\_\_HAL\_SPI\_ENABLE\_IT}}(hspi, (\mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6f0778617fc5f58086e4e29cd3781f18}{SPI\_IT\_TXE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01619}01619 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01620}01620 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01621}01621   \textcolor{comment}{/* Check if the SPI is already enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01622}01622   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}}) != \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01623}01623   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01624}01624     \textcolor{comment}{/* Enable SPI peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01625}01625     \mbox{\hyperlink{group___s_p_i___exported___macros_ga16d2d73c2b16004499ae8d492e71fd4e}{\_\_HAL\_SPI\_ENABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01626}01626   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01627}01627 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01628}01628 error :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01629}01629   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01630}01630   \textcolor{keywordflow}{return} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01631}01631 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01632}01632 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01641}01641 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_gaaae0af2e2db7e7549b52b020a18f6168}{HAL\_SPI\_Receive\_IT}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint8\_t *pData, uint16\_t Size)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01642}01642 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01643}01643   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01644}01644 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01645}01645   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gaa7cb7f4bf4eebbf91bcfaeb17ebba7f3}{SPI\_DIRECTION\_2LINES}}) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01646}01646   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01647}01647     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01648}01648     \textcolor{comment}{/* Call transmit-\/receive function to send Dummy data on Tx line and generate clock on CLK line */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01649}01649     \textcolor{keywordflow}{return} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga518c43d8323499451e7f4782a9dc6e32}{HAL\_SPI\_TransmitReceive\_IT}}(hspi, pData, pData, Size);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01650}01650   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01651}01651 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01652}01652   \textcolor{comment}{/* Process Locked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01653}01653   \mbox{\hyperlink{stm32f7xx__hal__def_8h_ad3d96e1b9022ba76b69eeda91027b36c}{\_\_HAL\_LOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01654}01654 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01655}01655   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01656}01656   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01657}01657     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa8532fa3641ae7c14cb1b0554e2d9cbc7}{HAL\_BUSY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01658}01658     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01659}01659   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01660}01660 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01661}01661   \textcolor{keywordflow}{if} ((pData == NULL) || (Size == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01662}01662   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01663}01663     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01664}01664     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01665}01665   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01666}01666 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01667}01667   \textcolor{comment}{/* Set the transaction information */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01668}01668   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}}       = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01669}01669   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}   = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01670}01670   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}  = (uint8\_t *)pData;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01671}01671   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac12f5f1f6295b3c3327d5feabf5a96fb}{RxXferSize}}  = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01672}01672   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01673}01673 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01674}01674   \textcolor{comment}{/* Init field not used in handle to zero */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01675}01675   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}  = (uint8\_t *)NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01676}01676   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a80907b65d6f9541bc0dee444d16bc45b}{TxXferSize}}  = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01677}01677   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01678}01678   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01679}01679 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01680}01680   \textcolor{comment}{/* Check the data size to adapt Rx threshold and the set the function for IT treatment */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01681}01681   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01682}01682   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01683}01683     \textcolor{comment}{/* Set RX Fifo threshold according the reception data length: 16 bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01684}01684     \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01685}01685     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}} = SPI\_RxISR\_16BIT;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01686}01686   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01687}01687   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01688}01688   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01689}01689     \textcolor{comment}{/* Set RX Fifo threshold according the reception data length: 8 bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01690}01690     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01691}01691     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}} = SPI\_RxISR\_8BIT;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01692}01692   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01693}01693 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01694}01694   \textcolor{comment}{/* Configure communication direction : 1Line */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01695}01695   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gab0f684caf5f1d6ac1e73d90a4778ab93}{SPI\_DIRECTION\_1LINE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01696}01696   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01697}01697     \textcolor{comment}{/* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01698}01698     \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01699}01699     \mbox{\hyperlink{group___s_p_i___private___macros_gaa8d58cef91c1874d5a4dde4014cf6269}{SPI\_1LINE\_RX}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01700}01700   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01701}01701 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01702}01702 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01703}01703   \textcolor{comment}{/* Reset CRC Calculation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01704}01704   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01705}01705   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01706}01706     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a752c564d700e8da6d94c705629d204aa}{CRCSize}} = 1U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01707}01707     \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} <= \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}}) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba709d1ebebac9b3385fb61d6eeb79a2}{CRCLength}} == \mbox{\hyperlink{group___s_p_i___c_r_c__length_ga780edaa0a72a79c4d0fa9618541aaad8}{SPI\_CRC\_LENGTH\_16BIT}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01708}01708     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01709}01709       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a752c564d700e8da6d94c705629d204aa}{CRCSize}} = 2U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01710}01710     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01711}01711     \mbox{\hyperlink{group___s_p_i___private___macros_gab120a0085b72939e7d19c4f6b3381a99}{SPI\_RESET\_CRC}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01712}01712   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01713}01713   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01714}01714   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01715}01715     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a752c564d700e8da6d94c705629d204aa}{CRCSize}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01716}01716   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01717}01717 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01718}01718 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01719}01719   \textcolor{comment}{/* Enable TXE and ERR interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01720}01720   \mbox{\hyperlink{group___s_p_i___exported___macros_ga76064652f6f56d8868720b5541e854f5}{\_\_HAL\_SPI\_ENABLE\_IT}}(hspi, (\mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6c6ea3686830c60d9363f97a5d1011cc}{SPI\_IT\_RXNE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01721}01721 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01722}01722   \textcolor{comment}{/* Note : The SPI must be enabled after unlocking current process}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01723}01723 \textcolor{comment}{            to avoid the risk of SPI interrupt handle execution before current}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01724}01724 \textcolor{comment}{            process unlock */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01725}01725 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01726}01726   \textcolor{comment}{/* Check if the SPI is already enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01727}01727   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}}) != \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01728}01728   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01729}01729     \textcolor{comment}{/* Enable SPI peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01730}01730     \mbox{\hyperlink{group___s_p_i___exported___macros_ga16d2d73c2b16004499ae8d492e71fd4e}{\_\_HAL\_SPI\_ENABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01731}01731   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01732}01732 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01733}01733 error :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01734}01734   \textcolor{comment}{/* Process Unlocked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01735}01735   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01736}01736   \textcolor{keywordflow}{return} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01737}01737 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01738}01738 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01748}01748 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga518c43d8323499451e7f4782a9dc6e32}{HAL\_SPI\_TransmitReceive\_IT}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint8\_t *pTxData, uint8\_t *pRxData, uint16\_t Size)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01749}01749 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01750}01750   uint32\_t             tmp\_mode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01751}01751   \mbox{\hyperlink{group___s_p_i___exported___types_ga8891cb64e76198a860172d94c638c9b4}{HAL\_SPI\_StateTypeDef}} tmp\_state;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01752}01752   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}}    errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01753}01753 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01754}01754   \textcolor{comment}{/* Check Direction parameter */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01755}01755   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gaff84471ab30ddd79cefd0c43dfe628c8}{IS\_SPI\_DIRECTION\_2LINES}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01756}01756 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01757}01757   \textcolor{comment}{/* Process locked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01758}01758   \mbox{\hyperlink{stm32f7xx__hal__def_8h_ad3d96e1b9022ba76b69eeda91027b36c}{\_\_HAL\_LOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01759}01759 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01760}01760   \textcolor{comment}{/* Init temporary variables */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01761}01761   tmp\_state           = hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01762}01762   tmp\_mode            = hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01763}01763 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01764}01764   \textcolor{keywordflow}{if} (!((tmp\_state == \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}}) || \(\backslash\)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01765}01765         ((tmp\_mode == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}}) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gaa7cb7f4bf4eebbf91bcfaeb17ebba7f3}{SPI\_DIRECTION\_2LINES}}) \&\& (tmp\_state == \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}}))))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01766}01766   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01767}01767     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa8532fa3641ae7c14cb1b0554e2d9cbc7}{HAL\_BUSY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01768}01768     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01769}01769   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01770}01770 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01771}01771   \textcolor{keywordflow}{if} ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01772}01772   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01773}01773     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01774}01774     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01775}01775   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01776}01776 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01777}01777   \textcolor{comment}{/* Don't overwrite in case of HAL\_SPI\_STATE\_BUSY\_RX */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01778}01778   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01779}01779   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01780}01780     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a9dae2883ae3e43ca28afc9453a14c938}{HAL\_SPI\_STATE\_BUSY\_TX\_RX}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01781}01781   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01782}01782 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01783}01783   \textcolor{comment}{/* Set the transaction information */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01784}01784   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}   = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01785}01785   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}  = (uint8\_t *)pTxData;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01786}01786   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a80907b65d6f9541bc0dee444d16bc45b}{TxXferSize}}  = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01787}01787   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01788}01788   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}  = (uint8\_t *)pRxData;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01789}01789   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac12f5f1f6295b3c3327d5feabf5a96fb}{RxXferSize}}  = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01790}01790   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01791}01791 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01792}01792   \textcolor{comment}{/* Set the function for IT treatment */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01793}01793   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01794}01794   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01795}01795     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}}     = SPI\_2linesRxISR\_16BIT;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01796}01796     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}}     = SPI\_2linesTxISR\_16BIT;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01797}01797   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01798}01798   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01799}01799   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01800}01800     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}}     = SPI\_2linesRxISR\_8BIT;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01801}01801     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}}     = SPI\_2linesTxISR\_8BIT;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01802}01802   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01803}01803 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01804}01804 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01805}01805   \textcolor{comment}{/* Reset CRC Calculation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01806}01806   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01807}01807   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01808}01808     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a752c564d700e8da6d94c705629d204aa}{CRCSize}} = 1U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01809}01809     \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} <= \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}}) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba709d1ebebac9b3385fb61d6eeb79a2}{CRCLength}} == \mbox{\hyperlink{group___s_p_i___c_r_c__length_ga780edaa0a72a79c4d0fa9618541aaad8}{SPI\_CRC\_LENGTH\_16BIT}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01810}01810     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01811}01811       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a752c564d700e8da6d94c705629d204aa}{CRCSize}} = 2U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01812}01812     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01813}01813     \mbox{\hyperlink{group___s_p_i___private___macros_gab120a0085b72939e7d19c4f6b3381a99}{SPI\_RESET\_CRC}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01814}01814   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01815}01815   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01816}01816   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01817}01817     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a752c564d700e8da6d94c705629d204aa}{CRCSize}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01818}01818   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01819}01819 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01820}01820 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01821}01821   \textcolor{comment}{/* Check if packing mode is enabled and if there is more than 2 data to receive */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01822}01822   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}}) || (Size >= 2U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01823}01823   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01824}01824     \textcolor{comment}{/* Set RX Fifo threshold according the reception data length: 16 bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01825}01825     \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01826}01826   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01827}01827   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01828}01828   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01829}01829     \textcolor{comment}{/* Set RX Fifo threshold according the reception data length: 8 bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01830}01830     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01831}01831   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01832}01832 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01833}01833   \textcolor{comment}{/* Enable TXE, RXNE and ERR interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01834}01834   \mbox{\hyperlink{group___s_p_i___exported___macros_ga76064652f6f56d8868720b5541e854f5}{\_\_HAL\_SPI\_ENABLE\_IT}}(hspi, (\mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6f0778617fc5f58086e4e29cd3781f18}{SPI\_IT\_TXE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6c6ea3686830c60d9363f97a5d1011cc}{SPI\_IT\_RXNE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01835}01835 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01836}01836   \textcolor{comment}{/* Check if the SPI is already enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01837}01837   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}}) != \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01838}01838   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01839}01839     \textcolor{comment}{/* Enable SPI peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01840}01840     \mbox{\hyperlink{group___s_p_i___exported___macros_ga16d2d73c2b16004499ae8d492e71fd4e}{\_\_HAL\_SPI\_ENABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01841}01841   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01842}01842 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01843}01843 error :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01844}01844   \textcolor{comment}{/* Process Unlocked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01845}01845   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01846}01846   \textcolor{keywordflow}{return} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01847}01847 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01848}01848 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01857}01857 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga6aebe304396c3e18b55f926dae0dadcb}{HAL\_SPI\_Transmit\_DMA}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint8\_t *pData, uint16\_t Size)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01858}01858 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01859}01859   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01860}01860 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01861}01861   \textcolor{comment}{/* Check tx dma handle */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01862}01862   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gae54950bcff11d9165b99957cf8746ae4}{IS\_SPI\_DMA\_HANDLE}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01863}01863 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01864}01864   \textcolor{comment}{/* Check Direction parameter */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01865}01865   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_ga525d9decc1251ec9037bd3c66c0e3a8c}{IS\_SPI\_DIRECTION\_2LINES\_OR\_1LINE}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01866}01866 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01867}01867   \textcolor{comment}{/* Process Locked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01868}01868   \mbox{\hyperlink{stm32f7xx__hal__def_8h_ad3d96e1b9022ba76b69eeda91027b36c}{\_\_HAL\_LOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01869}01869 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01870}01870   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01871}01871   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01872}01872     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa8532fa3641ae7c14cb1b0554e2d9cbc7}{HAL\_BUSY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01873}01873     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01874}01874   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01875}01875 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01876}01876   \textcolor{keywordflow}{if} ((pData == NULL) || (Size == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01877}01877   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01878}01878     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01879}01879     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01880}01880   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01881}01881 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01882}01882   \textcolor{comment}{/* Set the transaction information */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01883}01883   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}}       = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a5d82b644c7ca656ab5fe8a8e3cbc29ab}{HAL\_SPI\_STATE\_BUSY\_TX}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01884}01884   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}   = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01885}01885   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}  = (uint8\_t *)pData;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01886}01886   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a80907b65d6f9541bc0dee444d16bc45b}{TxXferSize}}  = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01887}01887   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01888}01888 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01889}01889   \textcolor{comment}{/* Init field not used in handle to zero */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01890}01890   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}  = (uint8\_t *)NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01891}01891   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01892}01892   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01893}01893   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac12f5f1f6295b3c3327d5feabf5a96fb}{RxXferSize}}  = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01894}01894   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01895}01895 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01896}01896   \textcolor{comment}{/* Configure communication direction : 1Line */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01897}01897   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gab0f684caf5f1d6ac1e73d90a4778ab93}{SPI\_DIRECTION\_1LINE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01898}01898   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01899}01899     \textcolor{comment}{/* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01900}01900     \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01901}01901     \mbox{\hyperlink{group___s_p_i___private___macros_gae3b2eb5e818e58b66474d42dedac5523}{SPI\_1LINE\_TX}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01902}01902   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01903}01903 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01904}01904 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01905}01905   \textcolor{comment}{/* Reset CRC Calculation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01906}01906   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01907}01907   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01908}01908     \mbox{\hyperlink{group___s_p_i___private___macros_gab120a0085b72939e7d19c4f6b3381a99}{SPI\_RESET\_CRC}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01909}01909   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01910}01910 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01911}01911 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01912}01912   \textcolor{comment}{/* Set the SPI TxDMA Half transfer complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01913}01913   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_aea6af14bab20d3f9a82f08df1abea01a}{XferHalfCpltCallback}} = SPI\_DMAHalfTransmitCplt;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01914}01914 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01915}01915   \textcolor{comment}{/* Set the SPI TxDMA transfer complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01916}01916   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a3d7716d1d7a5717f09525efd19334864}{XferCpltCallback}} = SPI\_DMATransmitCplt;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01917}01917 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01918}01918   \textcolor{comment}{/* Set the DMA error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01919}01919   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a695c6fe664a7baf827e461652ebdb9e0}{XferErrorCallback}} = SPI\_DMAError;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01920}01920 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01921}01921   \textcolor{comment}{/* Set the DMA AbortCpltCallback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01922}01922   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01923}01923 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01924}01924   \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gae1fe5d3bde9983ff16a5227671642e1d}{SPI\_CR2\_LDMATX}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01925}01925   \textcolor{comment}{/* Packing mode is enabled only if the DMA setting is HALWORD */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01926}01926   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} <= \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}}) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a4352c7144ad5e1e4ab54a87d3be6eb62}{Init}}.\mbox{\hyperlink{struct_d_m_a___init_type_def_afe3adac32f5411b1a744c030f398aa5e}{MemDataAlignment}} == \mbox{\hyperlink{group___d_m_a___memory__data__size_ga2c7355971c0da34a7ffe50ec87403071}{DMA\_MDATAALIGN\_HALFWORD}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01927}01927   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01928}01928     \textcolor{comment}{/* Check the even/odd of the data size + crc if enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01929}01929     \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} \& 0x1U) == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01930}01930     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01931}01931       \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gae1fe5d3bde9983ff16a5227671642e1d}{SPI\_CR2\_LDMATX}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01932}01932       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} >> 1U);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01933}01933     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01934}01934     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01935}01935     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01936}01936       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gae1fe5d3bde9983ff16a5227671642e1d}{SPI\_CR2\_LDMATX}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01937}01937       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} >> 1U) + 1U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01938}01938     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01939}01939   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01940}01940 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01941}01941   \textcolor{comment}{/* Enable the Tx DMA Stream/Channel */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01942}01942   \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}} != \mbox{\hyperlink{group___d_m_a___exported___functions___group2_ga7eddc0931ac8a3d77b23d6d5e68407c7}{HAL\_DMA\_Start\_IT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}, (uint32\_t)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}, (uint32\_t)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}},}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01943}01943                                  hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01944}01944   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01945}01945     \textcolor{comment}{/* Update SPI error code */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01946}01946     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gaaf91992131301e3fc7f2ce62fb011f6c}{HAL\_SPI\_ERROR\_DMA}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01947}01947     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01948}01948 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01949}01949     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01950}01950     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01951}01951   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01952}01952 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01953}01953   \textcolor{comment}{/* Check if the SPI is already enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01954}01954   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}}) != \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01955}01955   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01956}01956     \textcolor{comment}{/* Enable SPI peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01957}01957     \mbox{\hyperlink{group___s_p_i___exported___macros_ga16d2d73c2b16004499ae8d492e71fd4e}{\_\_HAL\_SPI\_ENABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01958}01958   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01959}01959 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01960}01960   \textcolor{comment}{/* Enable the SPI Error Interrupt Bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01961}01961   \mbox{\hyperlink{group___s_p_i___exported___macros_ga76064652f6f56d8868720b5541e854f5}{\_\_HAL\_SPI\_ENABLE\_IT}}(hspi, (\mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01962}01962 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01963}01963   \textcolor{comment}{/* Enable Tx DMA Request */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01964}01964   \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01965}01965 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01966}01966 error :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01967}01967   \textcolor{comment}{/* Process Unlocked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01968}01968   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01969}01969   \textcolor{keywordflow}{return} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01970}01970 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01971}01971 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01982}01982 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga626bb2ec54e7b6ff9bd5d807ae6e6e24}{HAL\_SPI\_Receive\_DMA}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint8\_t *pData, uint16\_t Size)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01983}01983 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01984}01984   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01985}01985 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01986}01986   \textcolor{comment}{/* Check rx dma handle */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01987}01987   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gae54950bcff11d9165b99957cf8746ae4}{IS\_SPI\_DMA\_HANDLE}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01988}01988 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01989}01989   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gaa7cb7f4bf4eebbf91bcfaeb17ebba7f3}{SPI\_DIRECTION\_2LINES}}) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01990}01990   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01991}01991     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01992}01992 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01993}01993     \textcolor{comment}{/* Check tx dma handle */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01994}01994     \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gae54950bcff11d9165b99957cf8746ae4}{IS\_SPI\_DMA\_HANDLE}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01995}01995 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01996}01996     \textcolor{comment}{/* Call transmit-\/receive function to send Dummy data on Tx line and generate clock on CLK line */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01997}01997     \textcolor{keywordflow}{return} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga228553c64b10b8dade9fee525a8a489d}{HAL\_SPI\_TransmitReceive\_DMA}}(hspi, pData, pData, Size);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01998}01998   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l01999}01999 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02000}02000   \textcolor{comment}{/* Process Locked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02001}02001   \mbox{\hyperlink{stm32f7xx__hal__def_8h_ad3d96e1b9022ba76b69eeda91027b36c}{\_\_HAL\_LOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02002}02002 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02003}02003   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02004}02004   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02005}02005     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa8532fa3641ae7c14cb1b0554e2d9cbc7}{HAL\_BUSY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02006}02006     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02007}02007   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02008}02008 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02009}02009   \textcolor{keywordflow}{if} ((pData == NULL) || (Size == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02010}02010   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02011}02011     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02012}02012     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02013}02013   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02014}02014 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02015}02015   \textcolor{comment}{/* Set the transaction information */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02016}02016   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}}       = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02017}02017   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}   = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02018}02018   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}  = (uint8\_t *)pData;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02019}02019   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac12f5f1f6295b3c3327d5feabf5a96fb}{RxXferSize}}  = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02020}02020   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02021}02021 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02022}02022   \textcolor{comment}{/*Init field not used in handle to zero */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02023}02023   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02024}02024   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02025}02025   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a80907b65d6f9541bc0dee444d16bc45b}{TxXferSize}}  = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02026}02026   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02027}02027 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02028}02028   \textcolor{comment}{/* Configure communication direction : 1Line */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02029}02029   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gab0f684caf5f1d6ac1e73d90a4778ab93}{SPI\_DIRECTION\_1LINE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02030}02030   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02031}02031     \textcolor{comment}{/* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02032}02032     \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02033}02033     \mbox{\hyperlink{group___s_p_i___private___macros_gaa8d58cef91c1874d5a4dde4014cf6269}{SPI\_1LINE\_RX}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02034}02034   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02035}02035 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02036}02036 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02037}02037   \textcolor{comment}{/* Reset CRC Calculation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02038}02038   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02039}02039   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02040}02040     \mbox{\hyperlink{group___s_p_i___private___macros_gab120a0085b72939e7d19c4f6b3381a99}{SPI\_RESET\_CRC}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02041}02041   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02042}02042 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02043}02043 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02044}02044 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02045}02045   \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaa9d127b9a82de6ac3bbd50943f4691cc}{SPI\_CR2\_LDMARX}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02046}02046   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02047}02047   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02048}02048     \textcolor{comment}{/* Set RX Fifo threshold according the reception data length: 16bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02049}02049     \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02050}02050   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02051}02051   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02052}02052   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02053}02053     \textcolor{comment}{/* Set RX Fifo threshold according the reception data length: 8bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02054}02054     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02055}02055 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02056}02056     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a4352c7144ad5e1e4ab54a87d3be6eb62}{Init}}.\mbox{\hyperlink{struct_d_m_a___init_type_def_afe3adac32f5411b1a744c030f398aa5e}{MemDataAlignment}} == \mbox{\hyperlink{group___d_m_a___memory__data__size_ga2c7355971c0da34a7ffe50ec87403071}{DMA\_MDATAALIGN\_HALFWORD}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02057}02057     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02058}02058       \textcolor{comment}{/* Set RX Fifo threshold according the reception data length: 16bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02059}02059       \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02060}02060 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02061}02061       \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} \& 0x1U) == 0x0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02062}02062       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02063}02063         \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaa9d127b9a82de6ac3bbd50943f4691cc}{SPI\_CR2\_LDMARX}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02064}02064         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} >> 1U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02065}02065       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02066}02066       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02067}02067       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02068}02068         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaa9d127b9a82de6ac3bbd50943f4691cc}{SPI\_CR2\_LDMARX}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02069}02069         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} >> 1U) + 1U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02070}02070       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02071}02071     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02072}02072   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02073}02073 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02074}02074   \textcolor{comment}{/* Set the SPI RxDMA Half transfer complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02075}02075   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_aea6af14bab20d3f9a82f08df1abea01a}{XferHalfCpltCallback}} = SPI\_DMAHalfReceiveCplt;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02076}02076 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02077}02077   \textcolor{comment}{/* Set the SPI Rx DMA transfer complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02078}02078   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a3d7716d1d7a5717f09525efd19334864}{XferCpltCallback}} = SPI\_DMAReceiveCplt;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02079}02079 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02080}02080   \textcolor{comment}{/* Set the DMA error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02081}02081   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a695c6fe664a7baf827e461652ebdb9e0}{XferErrorCallback}} = SPI\_DMAError;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02082}02082 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02083}02083   \textcolor{comment}{/* Set the DMA AbortCpltCallback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02084}02084   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02085}02085 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02086}02086   \textcolor{comment}{/* Enable the Rx DMA Stream/Channel  */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02087}02087   \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}} != \mbox{\hyperlink{group___d_m_a___exported___functions___group2_ga7eddc0931ac8a3d77b23d6d5e68407c7}{HAL\_DMA\_Start\_IT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}, (uint32\_t)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}}, (uint32\_t)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}},}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02088}02088                                  hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02089}02089   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02090}02090     \textcolor{comment}{/* Update SPI error code */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02091}02091     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gaaf91992131301e3fc7f2ce62fb011f6c}{HAL\_SPI\_ERROR\_DMA}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02092}02092     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02093}02093 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02094}02094     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02095}02095     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02096}02096   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02097}02097 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02098}02098   \textcolor{comment}{/* Check if the SPI is already enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02099}02099   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}}) != \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02100}02100   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02101}02101     \textcolor{comment}{/* Enable SPI peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02102}02102     \mbox{\hyperlink{group___s_p_i___exported___macros_ga16d2d73c2b16004499ae8d492e71fd4e}{\_\_HAL\_SPI\_ENABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02103}02103   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02104}02104 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02105}02105   \textcolor{comment}{/* Enable the SPI Error Interrupt Bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02106}02106   \mbox{\hyperlink{group___s_p_i___exported___macros_ga76064652f6f56d8868720b5541e854f5}{\_\_HAL\_SPI\_ENABLE\_IT}}(hspi, (\mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02107}02107 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02108}02108   \textcolor{comment}{/* Enable Rx DMA Request */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02109}02109   \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02110}02110 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02111}02111 error:}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02112}02112   \textcolor{comment}{/* Process Unlocked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02113}02113   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02114}02114   \textcolor{keywordflow}{return} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02115}02115 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02116}02116 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02127}02127 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga228553c64b10b8dade9fee525a8a489d}{HAL\_SPI\_TransmitReceive\_DMA}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint8\_t *pTxData, uint8\_t *pRxData,}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02128}02128                                               uint16\_t Size)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02129}02129 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02130}02130   uint32\_t             tmp\_mode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02131}02131   \mbox{\hyperlink{group___s_p_i___exported___types_ga8891cb64e76198a860172d94c638c9b4}{HAL\_SPI\_StateTypeDef}} tmp\_state;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02132}02132   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02133}02133 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02134}02134   \textcolor{comment}{/* Check rx \& tx dma handles */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02135}02135   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gae54950bcff11d9165b99957cf8746ae4}{IS\_SPI\_DMA\_HANDLE}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02136}02136   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gae54950bcff11d9165b99957cf8746ae4}{IS\_SPI\_DMA\_HANDLE}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02137}02137 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02138}02138   \textcolor{comment}{/* Check Direction parameter */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02139}02139   \mbox{\hyperlink{stm32f7xx__hal__conf_8h_a631dea7b230e600555f979c62af1de21}{assert\_param}}(\mbox{\hyperlink{group___s_p_i___private___macros_gaff84471ab30ddd79cefd0c43dfe628c8}{IS\_SPI\_DIRECTION\_2LINES}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02140}02140 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02141}02141   \textcolor{comment}{/* Process locked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02142}02142   \mbox{\hyperlink{stm32f7xx__hal__def_8h_ad3d96e1b9022ba76b69eeda91027b36c}{\_\_HAL\_LOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02143}02143 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02144}02144   \textcolor{comment}{/* Init temporary variables */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02145}02145   tmp\_state           = hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02146}02146   tmp\_mode            = hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02147}02147 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02148}02148   \textcolor{keywordflow}{if} (!((tmp\_state == \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}}) ||}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02149}02149         ((tmp\_mode == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}}) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gaa7cb7f4bf4eebbf91bcfaeb17ebba7f3}{SPI\_DIRECTION\_2LINES}}) \&\& (tmp\_state == \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}}))))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02150}02150   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02151}02151     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa8532fa3641ae7c14cb1b0554e2d9cbc7}{HAL\_BUSY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02152}02152     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02153}02153   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02154}02154 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02155}02155   \textcolor{keywordflow}{if} ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02156}02156   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02157}02157     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02158}02158     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02159}02159   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02160}02160 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02161}02161   \textcolor{comment}{/* Don't overwrite in case of HAL\_SPI\_STATE\_BUSY\_RX */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02162}02162   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02163}02163   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02164}02164     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a9dae2883ae3e43ca28afc9453a14c938}{HAL\_SPI\_STATE\_BUSY\_TX\_RX}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02165}02165   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02166}02166 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02167}02167   \textcolor{comment}{/* Set the transaction information */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02168}02168   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}   = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02169}02169   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}  = (uint8\_t *)pTxData;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02170}02170   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a80907b65d6f9541bc0dee444d16bc45b}{TxXferSize}}  = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02171}02171   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02172}02172   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}  = (uint8\_t *)pRxData;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02173}02173   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac12f5f1f6295b3c3327d5feabf5a96fb}{RxXferSize}}  = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02174}02174   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = Size;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02175}02175 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02176}02176   \textcolor{comment}{/* Init field not used in handle to zero */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02177}02177   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02178}02178   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}}       = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02179}02179 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02180}02180 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02181}02181   \textcolor{comment}{/* Reset CRC Calculation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02182}02182   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02183}02183   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02184}02184     \mbox{\hyperlink{group___s_p_i___private___macros_gab120a0085b72939e7d19c4f6b3381a99}{SPI\_RESET\_CRC}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02185}02185   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02186}02186 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02187}02187 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02188}02188   \textcolor{comment}{/* Reset the threshold bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02189}02189   \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gae1fe5d3bde9983ff16a5227671642e1d}{SPI\_CR2\_LDMATX}} | \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaa9d127b9a82de6ac3bbd50943f4691cc}{SPI\_CR2\_LDMARX}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02190}02190 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02191}02191   \textcolor{comment}{/* The packing mode management is enabled by the DMA settings according the spi data size */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02192}02192   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02193}02193   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02194}02194     \textcolor{comment}{/* Set fiforxthreshold according the reception data length: 16bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02195}02195     \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02196}02196   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02197}02197   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02198}02198   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02199}02199     \textcolor{comment}{/* Set RX Fifo threshold according the reception data length: 8bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02200}02200     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02201}02201 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02202}02202     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a4352c7144ad5e1e4ab54a87d3be6eb62}{Init}}.\mbox{\hyperlink{struct_d_m_a___init_type_def_afe3adac32f5411b1a744c030f398aa5e}{MemDataAlignment}} == \mbox{\hyperlink{group___d_m_a___memory__data__size_ga2c7355971c0da34a7ffe50ec87403071}{DMA\_MDATAALIGN\_HALFWORD}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02203}02203     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02204}02204       \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a80907b65d6f9541bc0dee444d16bc45b}{TxXferSize}} \& 0x1U) == 0x0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02205}02205       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02206}02206         \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gae1fe5d3bde9983ff16a5227671642e1d}{SPI\_CR2\_LDMATX}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02207}02207         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} >> 1U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02208}02208       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02209}02209       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02210}02210       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02211}02211         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gae1fe5d3bde9983ff16a5227671642e1d}{SPI\_CR2\_LDMATX}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02212}02212         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} >> 1U) + 1U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02213}02213       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02214}02214     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02215}02215 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02216}02216     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a4352c7144ad5e1e4ab54a87d3be6eb62}{Init}}.\mbox{\hyperlink{struct_d_m_a___init_type_def_afe3adac32f5411b1a744c030f398aa5e}{MemDataAlignment}} == \mbox{\hyperlink{group___d_m_a___memory__data__size_ga2c7355971c0da34a7ffe50ec87403071}{DMA\_MDATAALIGN\_HALFWORD}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02217}02217     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02218}02218       \textcolor{comment}{/* Set RX Fifo threshold according the reception data length: 16bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02219}02219       \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02220}02220 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02221}02221       \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} \& 0x1U) == 0x0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02222}02222       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02223}02223         \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaa9d127b9a82de6ac3bbd50943f4691cc}{SPI\_CR2\_LDMARX}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02224}02224         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} >> 1U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02225}02225       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02226}02226       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02227}02227       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02228}02228         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaa9d127b9a82de6ac3bbd50943f4691cc}{SPI\_CR2\_LDMARX}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02229}02229         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} >> 1U) + 1U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02230}02230       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02231}02231     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02232}02232   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02233}02233 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02234}02234   \textcolor{comment}{/* Check if we are in Rx only or in Rx/Tx Mode and configure the DMA transfer complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02235}02235   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} == \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02236}02236   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02237}02237     \textcolor{comment}{/* Set the SPI Rx DMA Half transfer complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02238}02238     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_aea6af14bab20d3f9a82f08df1abea01a}{XferHalfCpltCallback}} = SPI\_DMAHalfReceiveCplt;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02239}02239     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a3d7716d1d7a5717f09525efd19334864}{XferCpltCallback}}     = SPI\_DMAReceiveCplt;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02240}02240   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02241}02241   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02242}02242   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02243}02243     \textcolor{comment}{/* Set the SPI Tx/Rx DMA Half transfer complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02244}02244     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_aea6af14bab20d3f9a82f08df1abea01a}{XferHalfCpltCallback}} = SPI\_DMAHalfTransmitReceiveCplt;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02245}02245     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a3d7716d1d7a5717f09525efd19334864}{XferCpltCallback}}     = SPI\_DMATransmitReceiveCplt;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02246}02246   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02247}02247 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02248}02248   \textcolor{comment}{/* Set the DMA error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02249}02249   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a695c6fe664a7baf827e461652ebdb9e0}{XferErrorCallback}} = SPI\_DMAError;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02250}02250 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02251}02251   \textcolor{comment}{/* Set the DMA AbortCpltCallback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02252}02252   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02253}02253 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02254}02254   \textcolor{comment}{/* Enable the Rx DMA Stream/Channel  */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02255}02255   \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}} != \mbox{\hyperlink{group___d_m_a___exported___functions___group2_ga7eddc0931ac8a3d77b23d6d5e68407c7}{HAL\_DMA\_Start\_IT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}, (uint32\_t)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}}, (uint32\_t)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}},}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02256}02256                                  hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02257}02257   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02258}02258     \textcolor{comment}{/* Update SPI error code */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02259}02259     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gaaf91992131301e3fc7f2ce62fb011f6c}{HAL\_SPI\_ERROR\_DMA}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02260}02260     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02261}02261 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02262}02262     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02263}02263     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02264}02264   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02265}02265 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02266}02266   \textcolor{comment}{/* Enable Rx DMA Request */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02267}02267   \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02268}02268 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02269}02269   \textcolor{comment}{/* Set the SPI Tx DMA transfer complete callback as NULL because the communication closing}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02270}02270 \textcolor{comment}{  is performed in DMA reception complete callback  */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02271}02271   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_aea6af14bab20d3f9a82f08df1abea01a}{XferHalfCpltCallback}} = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02272}02272   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a3d7716d1d7a5717f09525efd19334864}{XferCpltCallback}}     = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02273}02273   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a695c6fe664a7baf827e461652ebdb9e0}{XferErrorCallback}}    = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02274}02274   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}}    = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02275}02275 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02276}02276   \textcolor{comment}{/* Enable the Tx DMA Stream/Channel  */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02277}02277   \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}} != \mbox{\hyperlink{group___d_m_a___exported___functions___group2_ga7eddc0931ac8a3d77b23d6d5e68407c7}{HAL\_DMA\_Start\_IT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}, (uint32\_t)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}, (uint32\_t)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}},}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02278}02278                                  hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02279}02279   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02280}02280     \textcolor{comment}{/* Update SPI error code */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02281}02281     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gaaf91992131301e3fc7f2ce62fb011f6c}{HAL\_SPI\_ERROR\_DMA}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02282}02282     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02283}02283 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02284}02284     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02285}02285     \textcolor{keywordflow}{goto} error;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02286}02286   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02287}02287 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02288}02288   \textcolor{comment}{/* Check if the SPI is already enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02289}02289   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}}) != \mbox{\hyperlink{group___peripheral___registers___bits___definition_gac5a646d978d3b98eb7c6a5d95d75c3f9}{SPI\_CR1\_SPE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02290}02290   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02291}02291     \textcolor{comment}{/* Enable SPI peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02292}02292     \mbox{\hyperlink{group___s_p_i___exported___macros_ga16d2d73c2b16004499ae8d492e71fd4e}{\_\_HAL\_SPI\_ENABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02293}02293   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02294}02294   \textcolor{comment}{/* Enable the SPI Error Interrupt Bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02295}02295   \mbox{\hyperlink{group___s_p_i___exported___macros_ga76064652f6f56d8868720b5541e854f5}{\_\_HAL\_SPI\_ENABLE\_IT}}(hspi, (\mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02296}02296 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02297}02297   \textcolor{comment}{/* Enable Tx DMA Request */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02298}02298   \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02299}02299 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02300}02300 error :}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02301}02301   \textcolor{comment}{/* Process Unlocked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02302}02302   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02303}02303   \textcolor{keywordflow}{return} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02304}02304 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02305}02305 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02319}02319 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga11c74b1d91d88ff336f674f6376cc904}{HAL\_SPI\_Abort}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02320}02320 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02321}02321   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02322}02322   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t count;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02323}02323   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t resetcount;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02324}02324 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02325}02325   \textcolor{comment}{/* Initialized local variable  */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02326}02326   errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02327}02327   resetcount = SPI\_DEFAULT\_TIMEOUT * (\mbox{\hyperlink{group___s_t_m32_f7xx___system___exported___variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} / 24U / 1000U);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02328}02328   count = resetcount;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02329}02329 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02330}02330   \textcolor{comment}{/* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02331}02331   \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf18705567de7ab52a62e5ef3ba27418b}{SPI\_CR2\_ERRIE}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02332}02332 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02333}02333   \textcolor{comment}{/* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02334}02334   \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga23f683a1252ccaf625cae1a978989b2c}{SPI\_CR2\_TXEIE}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02335}02335   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02336}02336     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}} = SPI\_AbortTx\_ISR;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02337}02337     \textcolor{comment}{/* Wait HAL\_SPI\_STATE\_ABORT state */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02338}02338     \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02339}02339     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02340}02340       \textcolor{keywordflow}{if} (count == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02341}02341       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02342}02342         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02343}02343         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02344}02344       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02345}02345       count-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02346}02346     \} \textcolor{keywordflow}{while} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a34f9231d040d752a034db85e3eb7f782}{HAL\_SPI\_STATE\_ABORT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02347}02347     \textcolor{comment}{/* Reset Timeout Counter */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02348}02348     count = resetcount;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02349}02349   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02350}02350 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02351}02351   \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaa7d4c37fbbcced7f2a0421e6ffd103ea}{SPI\_CR2\_RXNEIE}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02352}02352   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02353}02353     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}} = SPI\_AbortRx\_ISR;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02354}02354     \textcolor{comment}{/* Wait HAL\_SPI\_STATE\_ABORT state */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02355}02355     \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02356}02356     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02357}02357       \textcolor{keywordflow}{if} (count == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02358}02358       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02359}02359         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02360}02360         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02361}02361       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02362}02362       count-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02363}02363     \} \textcolor{keywordflow}{while} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a34f9231d040d752a034db85e3eb7f782}{HAL\_SPI\_STATE\_ABORT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02364}02364     \textcolor{comment}{/* Reset Timeout Counter */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02365}02365     count = resetcount;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02366}02366   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02367}02367 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02368}02368   \textcolor{comment}{/* Disable the SPI DMA Tx request if enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02369}02369   \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02370}02370   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02371}02371     \textcolor{comment}{/* Abort the SPI DMA Tx Stream/Channel : use blocking DMA Abort API (no callback) */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02372}02372     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02373}02373     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02374}02374       \textcolor{comment}{/* Set the SPI DMA Abort callback :}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02375}02375 \textcolor{comment}{      will lead to call HAL\_SPI\_AbortCpltCallback() at end of DMA abort procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02376}02376       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02377}02377 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02378}02378       \textcolor{comment}{/* Abort DMA Tx Handle linked to SPI Peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02379}02379       \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___d_m_a___exported___functions___group2_ga001f9fb04328a7460f9ff16908ff987c}{HAL\_DMA\_Abort}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02380}02380       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02381}02381         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02382}02382       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02383}02383 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02384}02384       \textcolor{comment}{/* Disable Tx DMA Request */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02385}02385       \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, (\mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02386}02386 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02387}02387       \textcolor{keywordflow}{if} (SPI\_EndRxTxTransaction(hspi, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02388}02388       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02389}02389         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02390}02390       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02391}02391 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02392}02392       \textcolor{comment}{/* Disable SPI Peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02393}02393       \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02394}02394 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02395}02395       \textcolor{comment}{/* Empty the FRLVL fifo */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02396}02396       \textcolor{keywordflow}{if} (SPI\_WaitFifoStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga4406c904711e73f41bfbc930bfc92d58}{SPI\_FLAG\_FRLVL}}, \mbox{\hyperlink{group___s_p_i__reception__fifo__status__level_gacff8d3b7b616ec343a64624ee7f0bff7}{SPI\_FRLVL\_EMPTY}}, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02397}02397       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02398}02398         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02399}02399       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02400}02400     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02401}02401   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02402}02402 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02403}02403   \textcolor{comment}{/* Disable the SPI DMA Rx request if enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02404}02404   \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02405}02405   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02406}02406     \textcolor{comment}{/* Abort the SPI DMA Rx Stream/Channel : use blocking DMA Abort API (no callback) */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02407}02407     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02408}02408     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02409}02409       \textcolor{comment}{/* Set the SPI DMA Abort callback :}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02410}02410 \textcolor{comment}{      will lead to call HAL\_SPI\_AbortCpltCallback() at end of DMA abort procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02411}02411       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02412}02412 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02413}02413       \textcolor{comment}{/* Abort DMA Rx Handle linked to SPI Peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02414}02414       \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___d_m_a___exported___functions___group2_ga001f9fb04328a7460f9ff16908ff987c}{HAL\_DMA\_Abort}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02415}02415       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02416}02416         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02417}02417       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02418}02418 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02419}02419       \textcolor{comment}{/* Disable peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02420}02420       \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02421}02421 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02422}02422       \textcolor{comment}{/* Control the BSY flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02423}02423       \textcolor{keywordflow}{if} (SPI\_WaitFlagStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_gaf19c77ee876a3598d616ac07d136fc46}{SPI\_FLAG\_BSY}}, \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02424}02424       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02425}02425         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02426}02426       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02427}02427 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02428}02428       \textcolor{comment}{/* Empty the FRLVL fifo */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02429}02429       \textcolor{keywordflow}{if} (SPI\_WaitFifoStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga4406c904711e73f41bfbc930bfc92d58}{SPI\_FLAG\_FRLVL}}, \mbox{\hyperlink{group___s_p_i__reception__fifo__status__level_gacff8d3b7b616ec343a64624ee7f0bff7}{SPI\_FRLVL\_EMPTY}}, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02430}02430       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02431}02431         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02432}02432       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02433}02433 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02434}02434       \textcolor{comment}{/* Disable Rx DMA Request */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02435}02435       \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, (\mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02436}02436     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02437}02437   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02438}02438   \textcolor{comment}{/* Reset Tx and Rx transfer counters */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02439}02439   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02440}02440   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02441}02441 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02442}02442   \textcolor{comment}{/* Check error during Abort procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02443}02443   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} == \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02444}02444   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02445}02445     \textcolor{comment}{/* return HAL\_Error in case of error during Abort procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02446}02446     errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02447}02447   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02448}02448   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02449}02449   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02450}02450     \textcolor{comment}{/* Reset errorCode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02451}02451     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02452}02452   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02453}02453 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02454}02454   \textcolor{comment}{/* Clear the Error flags in the SR register */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02455}02455   \mbox{\hyperlink{group___s_p_i___exported___macros_gaf6af33b1c5d334b9fe7bb778c5b6442e}{\_\_HAL\_SPI\_CLEAR\_OVRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02456}02456   \mbox{\hyperlink{group___s_p_i___exported___macros_ga7ff182f5cf6c731318c882351d6d7ac2}{\_\_HAL\_SPI\_CLEAR\_FREFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02457}02457 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02458}02458   \textcolor{comment}{/* Restore hspi-\/>state to ready */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02459}02459   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02460}02460 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02461}02461   \textcolor{keywordflow}{return} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02462}02462 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02463}02463 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02479}02479 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga75d7782876ed13b9f8aebfa8dbba5a1c}{HAL\_SPI\_Abort\_IT}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02480}02480 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02481}02481   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02482}02482   uint32\_t abortcplt ;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02483}02483   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t count;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02484}02484   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t resetcount;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02485}02485 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02486}02486   \textcolor{comment}{/* Initialized local variable  */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02487}02487   errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02488}02488   abortcplt = 1U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02489}02489   resetcount = SPI\_DEFAULT\_TIMEOUT * (\mbox{\hyperlink{group___s_t_m32_f7xx___system___exported___variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} / 24U / 1000U);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02490}02490   count = resetcount;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02491}02491 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02492}02492   \textcolor{comment}{/* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02493}02493   \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf18705567de7ab52a62e5ef3ba27418b}{SPI\_CR2\_ERRIE}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02494}02494 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02495}02495   \textcolor{comment}{/* Change Rx and Tx Irq Handler to Disable TXEIE, RXNEIE and ERRIE interrupts */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02496}02496   \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga23f683a1252ccaf625cae1a978989b2c}{SPI\_CR2\_TXEIE}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02497}02497   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02498}02498     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}} = SPI\_AbortTx\_ISR;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02499}02499     \textcolor{comment}{/* Wait HAL\_SPI\_STATE\_ABORT state */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02500}02500     \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02501}02501     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02502}02502       \textcolor{keywordflow}{if} (count == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02503}02503       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02504}02504         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02505}02505         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02506}02506       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02507}02507       count-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02508}02508     \} \textcolor{keywordflow}{while} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a34f9231d040d752a034db85e3eb7f782}{HAL\_SPI\_STATE\_ABORT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02509}02509     \textcolor{comment}{/* Reset Timeout Counter */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02510}02510     count = resetcount;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02511}02511   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02512}02512 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02513}02513   \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaa7d4c37fbbcced7f2a0421e6ffd103ea}{SPI\_CR2\_RXNEIE}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02514}02514   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02515}02515     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}} = SPI\_AbortRx\_ISR;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02516}02516     \textcolor{comment}{/* Wait HAL\_SPI\_STATE\_ABORT state */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02517}02517     \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02518}02518     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02519}02519       \textcolor{keywordflow}{if} (count == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02520}02520       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02521}02521         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02522}02522         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02523}02523       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02524}02524       count-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02525}02525     \} \textcolor{keywordflow}{while} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a34f9231d040d752a034db85e3eb7f782}{HAL\_SPI\_STATE\_ABORT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02526}02526     \textcolor{comment}{/* Reset Timeout Counter */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02527}02527     count = resetcount;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02528}02528   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02529}02529 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02530}02530   \textcolor{comment}{/* If DMA Tx and/or DMA Rx Handles are associated to SPI Handle, DMA Abort complete callbacks should be initialised}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02531}02531 \textcolor{comment}{     before any call to DMA Abort functions */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02532}02532   \textcolor{comment}{/* DMA Tx Handle is valid */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02533}02533   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02534}02534   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02535}02535     \textcolor{comment}{/* Set DMA Abort Complete callback if UART DMA Tx request if enabled.}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02536}02536 \textcolor{comment}{       Otherwise, set it to NULL */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02537}02537     \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02538}02538     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02539}02539       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = SPI\_DMATxAbortCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02540}02540     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02541}02541     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02542}02542     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02543}02543       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02544}02544     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02545}02545   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02546}02546   \textcolor{comment}{/* DMA Rx Handle is valid */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02547}02547   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02548}02548   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02549}02549     \textcolor{comment}{/* Set DMA Abort Complete callback if UART DMA Rx request if enabled.}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02550}02550 \textcolor{comment}{       Otherwise, set it to NULL */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02551}02551     \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02552}02552     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02553}02553       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = SPI\_DMARxAbortCallback;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02554}02554     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02555}02555     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02556}02556     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02557}02557       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02558}02558     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02559}02559   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02560}02560 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02561}02561   \textcolor{comment}{/* Disable the SPI DMA Tx request if enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02562}02562   \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02563}02563   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02564}02564     \textcolor{comment}{/* Abort the SPI DMA Tx Stream/Channel */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02565}02565     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02566}02566     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02567}02567       \textcolor{comment}{/* Abort DMA Tx Handle linked to SPI Peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02568}02568       \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___d_m_a___exported___functions___group2_ga6677d7e614747341a58ffd7a048fd390}{HAL\_DMA\_Abort\_IT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02569}02569       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02570}02570         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02571}02571         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02572}02572       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02573}02573       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02574}02574       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02575}02575         abortcplt = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02576}02576       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02577}02577     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02578}02578   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02579}02579   \textcolor{comment}{/* Disable the SPI DMA Rx request if enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02580}02580   \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02581}02581   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02582}02582     \textcolor{comment}{/* Abort the SPI DMA Rx Stream/Channel */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02583}02583     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02584}02584     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02585}02585       \textcolor{comment}{/* Abort DMA Rx Handle linked to SPI Peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02586}02586       \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___d_m_a___exported___functions___group2_ga6677d7e614747341a58ffd7a048fd390}{HAL\_DMA\_Abort\_IT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}) !=  \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02587}02587       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02588}02588         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02589}02589         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02590}02590       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02591}02591       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02592}02592       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02593}02593         abortcplt = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02594}02594       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02595}02595     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02596}02596   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02597}02597 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02598}02598   \textcolor{keywordflow}{if} (abortcplt == 1U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02599}02599   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02600}02600     \textcolor{comment}{/* Reset Tx and Rx transfer counters */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02601}02601     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02602}02602     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02603}02603 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02604}02604     \textcolor{comment}{/* Check error during Abort procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02605}02605     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} == \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02606}02606     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02607}02607       \textcolor{comment}{/* return HAL\_Error in case of error during Abort procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02608}02608       errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02609}02609     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02610}02610     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02611}02611     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02612}02612       \textcolor{comment}{/* Reset errorCode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02613}02613       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02614}02614     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02615}02615 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02616}02616     \textcolor{comment}{/* Clear the Error flags in the SR register */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02617}02617     \mbox{\hyperlink{group___s_p_i___exported___macros_gaf6af33b1c5d334b9fe7bb778c5b6442e}{\_\_HAL\_SPI\_CLEAR\_OVRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02618}02618     \mbox{\hyperlink{group___s_p_i___exported___macros_ga7ff182f5cf6c731318c882351d6d7ac2}{\_\_HAL\_SPI\_CLEAR\_FREFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02619}02619 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02620}02620     \textcolor{comment}{/* Restore hspi-\/>State to Ready */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02621}02621     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02622}02622 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02623}02623     \textcolor{comment}{/* As no DMA to be aborted, call directly user Abort complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02624}02624 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02625}02625     hspi-\/>AbortCpltCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02626}02626 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02627}02627     \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga4a2593ec36fa4def11929e65f631f3cf}{HAL\_SPI\_AbortCpltCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02628}02628 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02629}02629   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02630}02630 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02631}02631   \textcolor{keywordflow}{return} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02632}02632 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02633}02633 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02640}02640 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga61e4a628d6918ec838736d65ae135031}{HAL\_SPI\_DMAPause}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02641}02641 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02642}02642   \textcolor{comment}{/* Process Locked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02643}02643   \mbox{\hyperlink{stm32f7xx__hal__def_8h_ad3d96e1b9022ba76b69eeda91027b36c}{\_\_HAL\_LOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02644}02644 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02645}02645   \textcolor{comment}{/* Disable the SPI DMA Tx \& Rx requests */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02646}02646   \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}} | \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02647}02647 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02648}02648   \textcolor{comment}{/* Process Unlocked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02649}02649   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02650}02650 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02651}02651   \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02652}02652 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02653}02653 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02660}02660 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga7fdd4b7aa5c6bd560a476c833f546d93}{HAL\_SPI\_DMAResume}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02661}02661 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02662}02662   \textcolor{comment}{/* Process Locked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02663}02663   \mbox{\hyperlink{stm32f7xx__hal__def_8h_ad3d96e1b9022ba76b69eeda91027b36c}{\_\_HAL\_LOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02664}02664 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02665}02665   \textcolor{comment}{/* Enable the SPI DMA Tx \& Rx requests */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02666}02666   \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}} | \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02667}02667 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02668}02668   \textcolor{comment}{/* Process Unlocked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02669}02669   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02670}02670 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02671}02671   \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02672}02672 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02673}02673 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02680}02680 \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga7e01eb529af91fabc950180b927fa355}{HAL\_SPI\_DMAStop}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02681}02681 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02682}02682   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02683}02683   \textcolor{comment}{/* The Lock is not implemented on this API to allow the user application}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02684}02684 \textcolor{comment}{     to call the HAL SPI API under callbacks HAL\_SPI\_TxCpltCallback() or HAL\_SPI\_RxCpltCallback() or HAL\_SPI\_TxRxCpltCallback():}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02685}02685 \textcolor{comment}{     when calling HAL\_DMA\_Abort() API the DMA TX/RX Transfer complete interrupt is generated}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02686}02686 \textcolor{comment}{     and the correspond call back is executed HAL\_SPI\_TxCpltCallback() or HAL\_SPI\_RxCpltCallback() or HAL\_SPI\_TxRxCpltCallback()}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02687}02687 \textcolor{comment}{     */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02688}02688 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02689}02689   \textcolor{comment}{/* Abort the SPI DMA tx Stream/Channel  */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02690}02690   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02691}02691   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02692}02692     \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}} != \mbox{\hyperlink{group___d_m_a___exported___functions___group2_ga001f9fb04328a7460f9ff16908ff987c}{HAL\_DMA\_Abort}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02693}02693     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02694}02694       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gaaf91992131301e3fc7f2ce62fb011f6c}{HAL\_SPI\_ERROR\_DMA}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02695}02695       errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02696}02696     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02697}02697   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02698}02698   \textcolor{comment}{/* Abort the SPI DMA rx Stream/Channel  */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02699}02699   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02700}02700   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02701}02701     \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}} != \mbox{\hyperlink{group___d_m_a___exported___functions___group2_ga001f9fb04328a7460f9ff16908ff987c}{HAL\_DMA\_Abort}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02702}02702     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02703}02703       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gaaf91992131301e3fc7f2ce62fb011f6c}{HAL\_SPI\_ERROR\_DMA}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02704}02704       errorcode = \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa5a04e395e501e4e400172c610478c4a4}{HAL\_ERROR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02705}02705     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02706}02706   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02707}02707 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02708}02708   \textcolor{comment}{/* Disable the SPI DMA Tx \& Rx requests */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02709}02709   \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}} | \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02710}02710   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02711}02711   \textcolor{keywordflow}{return} errorcode;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02712}02712 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02713}02713 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02720}02720 \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_gaf3da6e0a87468bc039b578c21329df47}{HAL\_SPI\_IRQHandler}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02721}02721 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02722}02722   uint32\_t itsource = hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02723}02723   uint32\_t itflag   = hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_af6aca2bbd40c0fb6df7c3aebe224a360}{SR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02724}02724 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02725}02725   \textcolor{comment}{/* SPI in mode Receiver -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02726}02726   \textcolor{keywordflow}{if} ((\mbox{\hyperlink{group___s_p_i___private___macros_gae9c6be610681f2142fb012de95e6e59d}{SPI\_CHECK\_FLAG}}(itflag, \mbox{\hyperlink{group___s_p_i___flags__definition_gab45264da2296c75495a7437a045513ea}{SPI\_FLAG\_OVR}}) == \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}) \&\&}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02727}02727       (\mbox{\hyperlink{group___s_p_i___private___macros_gae9c6be610681f2142fb012de95e6e59d}{SPI\_CHECK\_FLAG}}(itflag, \mbox{\hyperlink{group___s_p_i___flags__definition_ga7bd627ae57160a2f0aad1736194b5999}{SPI\_FLAG\_RXNE}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}) \&\& (\mbox{\hyperlink{group___s_p_i___private___macros_ga8ab087388d8930531498165ac8f066a2}{SPI\_CHECK\_IT\_SOURCE}}(itsource, \mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6c6ea3686830c60d9363f97a5d1011cc}{SPI\_IT\_RXNE}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02728}02728   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02729}02729     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02730}02730     \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02731}02731   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02732}02732 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02733}02733   \textcolor{comment}{/* SPI in mode Transmitter -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02734}02734   \textcolor{keywordflow}{if} ((\mbox{\hyperlink{group___s_p_i___private___macros_gae9c6be610681f2142fb012de95e6e59d}{SPI\_CHECK\_FLAG}}(itflag, \mbox{\hyperlink{group___s_p_i___flags__definition_gaf84a1e6af2739a6be58e1b23d9e6b914}{SPI\_FLAG\_TXE}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}) \&\& (\mbox{\hyperlink{group___s_p_i___private___macros_ga8ab087388d8930531498165ac8f066a2}{SPI\_CHECK\_IT\_SOURCE}}(itsource, \mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6f0778617fc5f58086e4e29cd3781f18}{SPI\_IT\_TXE}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02735}02735   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02736}02736     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a445355c8080382b2d33c690e1790585f}{TxISR}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02737}02737     \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02738}02738   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02739}02739 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02740}02740   \textcolor{comment}{/* SPI in Error Treatment -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02741}02741   \textcolor{keywordflow}{if} (((\mbox{\hyperlink{group___s_p_i___private___macros_gae9c6be610681f2142fb012de95e6e59d}{SPI\_CHECK\_FLAG}}(itflag, \mbox{\hyperlink{group___s_p_i___flags__definition_gac7d3525ab98cc18f02270a4dba685897}{SPI\_FLAG\_MODF}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}) || (\mbox{\hyperlink{group___s_p_i___private___macros_gae9c6be610681f2142fb012de95e6e59d}{SPI\_CHECK\_FLAG}}(itflag, \mbox{\hyperlink{group___s_p_i___flags__definition_gab45264da2296c75495a7437a045513ea}{SPI\_FLAG\_OVR}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02742}02742        || (\mbox{\hyperlink{group___s_p_i___private___macros_gae9c6be610681f2142fb012de95e6e59d}{SPI\_CHECK\_FLAG}}(itflag, \mbox{\hyperlink{group___s_p_i___flags__definition_ga27dd114d8adc70f1439c054289f9313a}{SPI\_FLAG\_FRE}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}})) \&\& (\mbox{\hyperlink{group___s_p_i___private___macros_ga8ab087388d8930531498165ac8f066a2}{SPI\_CHECK\_IT\_SOURCE}}(itsource, \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02743}02743   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02744}02744     \textcolor{comment}{/* SPI Overrun error interrupt occurred -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02745}02745     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___private___macros_gae9c6be610681f2142fb012de95e6e59d}{SPI\_CHECK\_FLAG}}(itflag, \mbox{\hyperlink{group___s_p_i___flags__definition_gab45264da2296c75495a7437a045513ea}{SPI\_FLAG\_OVR}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02746}02746     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02747}02747       \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} != \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a5d82b644c7ca656ab5fe8a8e3cbc29ab}{HAL\_SPI\_STATE\_BUSY\_TX}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02748}02748       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02749}02749         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_ga9587f998fed196a4f30c38f2da731c0f}{HAL\_SPI\_ERROR\_OVR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02750}02750         \mbox{\hyperlink{group___s_p_i___exported___macros_gaf6af33b1c5d334b9fe7bb778c5b6442e}{\_\_HAL\_SPI\_CLEAR\_OVRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02751}02751       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02752}02752       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02753}02753       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02754}02754         \mbox{\hyperlink{group___s_p_i___exported___macros_gaf6af33b1c5d334b9fe7bb778c5b6442e}{\_\_HAL\_SPI\_CLEAR\_OVRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02755}02755         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02756}02756       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02757}02757     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02758}02758 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02759}02759     \textcolor{comment}{/* SPI Mode Fault error interrupt occurred -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02760}02760     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___private___macros_gae9c6be610681f2142fb012de95e6e59d}{SPI\_CHECK\_FLAG}}(itflag, \mbox{\hyperlink{group___s_p_i___flags__definition_gac7d3525ab98cc18f02270a4dba685897}{SPI\_FLAG\_MODF}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02761}02761     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02762}02762       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_ga75f5edd4e2a7a95bc9a994244df52460}{HAL\_SPI\_ERROR\_MODF}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02763}02763       \mbox{\hyperlink{group___s_p_i___exported___macros_ga6c88becbe528c542156bc201622efba2}{\_\_HAL\_SPI\_CLEAR\_MODFFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02764}02764     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02765}02765 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02766}02766     \textcolor{comment}{/* SPI Frame error interrupt occurred -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02767}02767     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___private___macros_gae9c6be610681f2142fb012de95e6e59d}{SPI\_CHECK\_FLAG}}(itflag, \mbox{\hyperlink{group___s_p_i___flags__definition_ga27dd114d8adc70f1439c054289f9313a}{SPI\_FLAG\_FRE}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02768}02768     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02769}02769       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gaf03238e57dd0c4d277fef2aa7a083133}{HAL\_SPI\_ERROR\_FRE}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02770}02770       \mbox{\hyperlink{group___s_p_i___exported___macros_ga7ff182f5cf6c731318c882351d6d7ac2}{\_\_HAL\_SPI\_CLEAR\_FREFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02771}02771     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02772}02772 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02773}02773     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} != \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02774}02774     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02775}02775       \textcolor{comment}{/* Disable all interrupts */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02776}02776       \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, \mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6c6ea3686830c60d9363f97a5d1011cc}{SPI\_IT\_RXNE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6f0778617fc5f58086e4e29cd3781f18}{SPI\_IT\_TXE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02777}02777 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02778}02778       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02779}02779       \textcolor{comment}{/* Disable the SPI DMA requests if enabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02780}02780       \textcolor{keywordflow}{if} ((\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(itsource, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}})) || (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(itsource, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}})))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02781}02781       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02782}02782         \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, (\mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}} | \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02783}02783 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02784}02784         \textcolor{comment}{/* Abort the SPI DMA Rx channel */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02785}02785         \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02786}02786         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02787}02787           \textcolor{comment}{/* Set the SPI DMA Abort callback :}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02788}02788 \textcolor{comment}{          will lead to call HAL\_SPI\_ErrorCallback() at end of DMA abort procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02789}02789           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = SPI\_DMAAbortOnError;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02790}02790           \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}} != \mbox{\hyperlink{group___d_m_a___exported___functions___group2_ga6677d7e614747341a58ffd7a048fd390}{HAL\_DMA\_Abort\_IT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02791}02791           \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02792}02792             \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02793}02793           \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02794}02794         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02795}02795         \textcolor{comment}{/* Abort the SPI DMA Tx channel */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02796}02796         \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02797}02797         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02798}02798           \textcolor{comment}{/* Set the SPI DMA Abort callback :}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02799}02799 \textcolor{comment}{          will lead to call HAL\_SPI\_ErrorCallback() at end of DMA abort procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02800}02800           hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = SPI\_DMAAbortOnError;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02801}02801           \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}} != \mbox{\hyperlink{group___d_m_a___exported___functions___group2_ga6677d7e614747341a58ffd7a048fd390}{HAL\_DMA\_Abort\_IT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02802}02802           \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02803}02803             \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02804}02804           \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02805}02805         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02806}02806       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02807}02807       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02808}02808       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02809}02809         \textcolor{comment}{/* Call user error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02810}02810 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02811}02811         hspi-\/>ErrorCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02812}02812 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02813}02813         \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02814}02814 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02815}02815       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02816}02816     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02817}02817     \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02818}02818   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02819}02819 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02820}02820 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02827}02827 \_\_weak \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga0a99ab4f6aa6ee7dc2abca5483910dde}{HAL\_SPI\_TxCpltCallback}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02828}02828 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02829}02829   \textcolor{comment}{/* Prevent unused argument(s) compilation warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02830}02830   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02831}02831 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02832}02832   \textcolor{comment}{/* NOTE : This function should not be modified, when the callback is needed,}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02833}02833 \textcolor{comment}{            the HAL\_SPI\_TxCpltCallback should be implemented in the user file}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02834}02834 \textcolor{comment}{   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02835}02835 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02836}02836 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02843}02843 \_\_weak \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3df7021fe24cf874f8b1eec5bd5f4cb3}{HAL\_SPI\_RxCpltCallback}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02844}02844 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02845}02845   \textcolor{comment}{/* Prevent unused argument(s) compilation warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02846}02846   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02847}02847 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02848}02848   \textcolor{comment}{/* NOTE : This function should not be modified, when the callback is needed,}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02849}02849 \textcolor{comment}{            the HAL\_SPI\_RxCpltCallback should be implemented in the user file}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02850}02850 \textcolor{comment}{   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02851}02851 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02852}02852 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02859}02859 \_\_weak \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga04e63f382f172164c8e7cae4ff5d883c}{HAL\_SPI\_TxRxCpltCallback}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02860}02860 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02861}02861   \textcolor{comment}{/* Prevent unused argument(s) compilation warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02862}02862   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02863}02863 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02864}02864   \textcolor{comment}{/* NOTE : This function should not be modified, when the callback is needed,}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02865}02865 \textcolor{comment}{            the HAL\_SPI\_TxRxCpltCallback should be implemented in the user file}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02866}02866 \textcolor{comment}{   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02867}02867 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02868}02868 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02875}02875 \_\_weak \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga931ef2f7fd94ffa16ec431972b1b237f}{HAL\_SPI\_TxHalfCpltCallback}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02876}02876 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02877}02877   \textcolor{comment}{/* Prevent unused argument(s) compilation warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02878}02878   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02879}02879 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02880}02880   \textcolor{comment}{/* NOTE : This function should not be modified, when the callback is needed,}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02881}02881 \textcolor{comment}{            the HAL\_SPI\_TxHalfCpltCallback should be implemented in the user file}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02882}02882 \textcolor{comment}{   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02883}02883 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02884}02884 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02891}02891 \_\_weak \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_gacf622756a3814edfacf449b5749b048a}{HAL\_SPI\_RxHalfCpltCallback}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02892}02892 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02893}02893   \textcolor{comment}{/* Prevent unused argument(s) compilation warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02894}02894   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02895}02895 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02896}02896   \textcolor{comment}{/* NOTE : This function should not be modified, when the callback is needed,}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02897}02897 \textcolor{comment}{            the HAL\_SPI\_RxHalfCpltCallback() should be implemented in the user file}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02898}02898 \textcolor{comment}{   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02899}02899 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02900}02900 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02907}02907 \_\_weak \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_gab46e2325b0880d5b5a301792438b151b}{HAL\_SPI\_TxRxHalfCpltCallback}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02908}02908 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02909}02909   \textcolor{comment}{/* Prevent unused argument(s) compilation warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02910}02910   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02911}02911 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02912}02912   \textcolor{comment}{/* NOTE : This function should not be modified, when the callback is needed,}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02913}02913 \textcolor{comment}{            the HAL\_SPI\_TxRxHalfCpltCallback() should be implemented in the user file}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02914}02914 \textcolor{comment}{   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02915}02915 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02916}02916 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02923}02923 \_\_weak \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02924}02924 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02925}02925   \textcolor{comment}{/* Prevent unused argument(s) compilation warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02926}02926   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02927}02927 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02928}02928   \textcolor{comment}{/* NOTE : This function should not be modified, when the callback is needed,}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02929}02929 \textcolor{comment}{            the HAL\_SPI\_ErrorCallback should be implemented in the user file}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02930}02930 \textcolor{comment}{   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02931}02931   \textcolor{comment}{/* NOTE : The ErrorCode parameter in the hspi handle is updated by the SPI processes}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02932}02932 \textcolor{comment}{            and user can use HAL\_SPI\_GetError() API to check the latest error occurred}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02933}02933 \textcolor{comment}{   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02934}02934 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02935}02935 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02941}02941 \_\_weak \textcolor{keywordtype}{void} \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga4a2593ec36fa4def11929e65f631f3cf}{HAL\_SPI\_AbortCpltCallback}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02942}02942 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02943}02943   \textcolor{comment}{/* Prevent unused argument(s) compilation warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02944}02944   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02945}02945 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02946}02946   \textcolor{comment}{/* NOTE : This function should not be modified, when the callback is needed,}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02947}02947 \textcolor{comment}{            the HAL\_SPI\_AbortCpltCallback can be implemented in the user file.}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02948}02948 \textcolor{comment}{   */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02949}02949 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02950}02950 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02976}02976 \mbox{\hyperlink{group___s_p_i___exported___types_ga8891cb64e76198a860172d94c638c9b4}{HAL\_SPI\_StateTypeDef}} \mbox{\hyperlink{group___s_p_i___exported___functions___group3_ga4e599e7fac80bb2eb0fd3f1737e50a5e}{HAL\_SPI\_GetState}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02977}02977 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02978}02978   \textcolor{comment}{/* Return SPI handle state */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02979}02979   \textcolor{keywordflow}{return} hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02980}02980 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02981}02981 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02988}02988 uint32\_t \mbox{\hyperlink{group___s_p_i___exported___functions___group3_ga7f4d30dc380760d19ee4c582b91ed7f6}{HAL\_SPI\_GetError}}(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02989}02989 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02990}02990   \textcolor{comment}{/* Return SPI ErrorCode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02991}02991   \textcolor{keywordflow}{return} hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02992}02992 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l02993}02993 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03013}03013 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMATransmitCplt(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03014}03014 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03015}03015   \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi = (\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *)(((\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *)hdma)-\/>Parent); \textcolor{comment}{/* Derogation MISRAC2012-\/Rule-\/11.5 */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03016}03016   uint32\_t tickstart;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03017}03017 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03018}03018   \textcolor{comment}{/* Init tickstart for timeout management*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03019}03019   tickstart = \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}();}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03020}03020 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03021}03021   \textcolor{comment}{/* DMA Normal Mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03022}03022   \textcolor{keywordflow}{if} ((hdma-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_acf2416c7f97b4f21ef16cfa5bea3cfd3}{Instance}}-\/>\mbox{\hyperlink{struct_d_m_a___stream___type_def_ab40c89c59391aaa9d9a8ec011dd0907a}{CR}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gadc248dbc519cc580621cdadcdd8741fb}{DMA\_SxCR\_CIRC}}) != \mbox{\hyperlink{group___peripheral___registers___bits___definition_gadc248dbc519cc580621cdadcdd8741fb}{DMA\_SxCR\_CIRC}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03023}03023   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03024}03024     \textcolor{comment}{/* Disable ERR interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03025}03025     \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03026}03026 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03027}03027     \textcolor{comment}{/* Disable Tx DMA Request */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03028}03028     \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03029}03029 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03030}03030     \textcolor{comment}{/* Check the end of the transaction */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03031}03031     \textcolor{keywordflow}{if} (SPI\_EndRxTxTransaction(hspi, SPI\_DEFAULT\_TIMEOUT, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03032}03032     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03033}03033       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03034}03034     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03035}03035 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03036}03036     \textcolor{comment}{/* Clear overrun flag in 2 Lines communication mode because received data is not read */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03037}03037     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gaa7cb7f4bf4eebbf91bcfaeb17ebba7f3}{SPI\_DIRECTION\_2LINES}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03038}03038     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03039}03039       \mbox{\hyperlink{group___s_p_i___exported___macros_gaf6af33b1c5d334b9fe7bb778c5b6442e}{\_\_HAL\_SPI\_CLEAR\_OVRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03040}03040     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03041}03041 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03042}03042     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03043}03043     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03044}03044 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03045}03045     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} != \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03046}03046     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03047}03047       \textcolor{comment}{/* Call user error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03048}03048 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03049}03049       hspi-\/>ErrorCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03050}03050 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03051}03051       \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03052}03052 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03053}03053       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03054}03054     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03055}03055   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03056}03056   \textcolor{comment}{/* Call user Tx complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03057}03057 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03058}03058   hspi-\/>TxCpltCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03059}03059 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03060}03060   \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga0a99ab4f6aa6ee7dc2abca5483910dde}{HAL\_SPI\_TxCpltCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03061}03061 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03062}03062 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03063}03063 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03070}03070 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMAReceiveCplt(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03071}03071 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03072}03072   \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi = (\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *)(((\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *)hdma)-\/>Parent); \textcolor{comment}{/* Derogation MISRAC2012-\/Rule-\/11.5 */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03073}03073   uint32\_t tickstart;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03074}03074 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03075}03075   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t tmpreg = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03076}03076   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03077}03077   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  tmpreg8 = 0;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03078}03078 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03079}03079 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03080}03080   \textcolor{comment}{/* Init tickstart for timeout management*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03081}03081   tickstart = \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}();}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03082}03082 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03083}03083   \textcolor{comment}{/* DMA Normal Mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03084}03084   \textcolor{keywordflow}{if} ((hdma-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_acf2416c7f97b4f21ef16cfa5bea3cfd3}{Instance}}-\/>\mbox{\hyperlink{struct_d_m_a___stream___type_def_ab40c89c59391aaa9d9a8ec011dd0907a}{CR}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gadc248dbc519cc580621cdadcdd8741fb}{DMA\_SxCR\_CIRC}}) != \mbox{\hyperlink{group___peripheral___registers___bits___definition_gadc248dbc519cc580621cdadcdd8741fb}{DMA\_SxCR\_CIRC}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03085}03085   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03086}03086     \textcolor{comment}{/* Disable ERR interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03087}03087     \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03088}03088 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03089}03089 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03090}03090     \textcolor{comment}{/* CRC handling */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03091}03091     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03092}03092     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03093}03093       \textcolor{comment}{/* Wait until RXNE flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03094}03094       \textcolor{keywordflow}{if} (SPI\_WaitFlagStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga7bd627ae57160a2f0aad1736194b5999}{SPI\_FLAG\_RXNE}}, \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792}{SET}}, SPI\_DEFAULT\_TIMEOUT, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03095}03095       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03096}03096         \textcolor{comment}{/* Error on the CRC reception */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03097}03097         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03098}03098       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03099}03099       \textcolor{comment}{/* Read CRC */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03100}03100       \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} > \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03101}03101       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03102}03102         \textcolor{comment}{/* Read 16bit CRC */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03103}03103         tmpreg = \mbox{\hyperlink{group___exported__macro_gae7f188a4d26c9e713a48414783421071}{READ\_REG}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03104}03104         \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03105}03105         \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03106}03106       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03107}03107       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03108}03108       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03109}03109         \textcolor{comment}{/* Initialize the 8bit temporary pointer */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03110}03110         ptmpreg8 = (\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03111}03111         \textcolor{comment}{/* Read 8bit CRC */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03112}03112         tmpreg8 = *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03113}03113         \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03114}03114         \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg8);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03115}03115 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03116}03116         \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba709d1ebebac9b3385fb61d6eeb79a2}{CRCLength}} == \mbox{\hyperlink{group___s_p_i___c_r_c__length_ga780edaa0a72a79c4d0fa9618541aaad8}{SPI\_CRC\_LENGTH\_16BIT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03117}03117         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03118}03118           \textcolor{keywordflow}{if} (SPI\_WaitFlagStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga7bd627ae57160a2f0aad1736194b5999}{SPI\_FLAG\_RXNE}}, \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792}{SET}}, SPI\_DEFAULT\_TIMEOUT, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03119}03119           \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03120}03120             \textcolor{comment}{/* Error on the CRC reception */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03121}03121             \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03122}03122           \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03123}03123           \textcolor{comment}{/* Read 8bit CRC again in case of 16bit CRC in 8bit Data mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03124}03124           tmpreg8 = *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03125}03125           \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03126}03126           \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg8);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03127}03127         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03128}03128       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03129}03129     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03130}03130 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03131}03131 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03132}03132     \textcolor{comment}{/* Check if we are in Master RX 2 line mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03133}03133     \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gaa7cb7f4bf4eebbf91bcfaeb17ebba7f3}{SPI\_DIRECTION\_2LINES}}) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03134}03134     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03135}03135       \textcolor{comment}{/* Disable Rx/Tx DMA Request (done by default to handle the case master rx direction 2 lines) */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03136}03136       \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}} | \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03137}03137     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03138}03138     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03139}03139     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03140}03140       \textcolor{comment}{/* Normal case */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03141}03141       \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03142}03142     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03143}03143 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03144}03144     \textcolor{comment}{/* Check the end of the transaction */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03145}03145     \textcolor{keywordflow}{if} (SPI\_EndRxTransaction(hspi, SPI\_DEFAULT\_TIMEOUT, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03146}03146     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03147}03147       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03148}03148     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03149}03149 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03150}03150     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03151}03151     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03152}03152 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03153}03153 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03154}03154     \textcolor{comment}{/* Check if CRC error occurred */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03155}03155     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga30fb6af50e1f3c61cb9de76b0101c889}{SPI\_FLAG\_CRCERR}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03156}03156     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03157}03157       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03158}03158       \mbox{\hyperlink{group___s_p_i___exported___macros_gad1cb4100b67726531ad426d300f4cd26}{\_\_HAL\_SPI\_CLEAR\_CRCERRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03159}03159     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03160}03160 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03161}03161 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03162}03162     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} != \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03163}03163     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03164}03164       \textcolor{comment}{/* Call user error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03165}03165 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03166}03166       hspi-\/>ErrorCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03167}03167 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03168}03168       \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03169}03169 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03170}03170       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03171}03171     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03172}03172   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03173}03173   \textcolor{comment}{/* Call user Rx complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03174}03174 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03175}03175   hspi-\/>RxCpltCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03176}03176 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03177}03177   \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3df7021fe24cf874f8b1eec5bd5f4cb3}{HAL\_SPI\_RxCpltCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03178}03178 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03179}03179 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03180}03180 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03187}03187 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMATransmitReceiveCplt(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03188}03188 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03189}03189   \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi = (\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *)(((\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *)hdma)-\/>Parent); \textcolor{comment}{/* Derogation MISRAC2012-\/Rule-\/11.5 */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03190}03190   uint32\_t tickstart;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03191}03191 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03192}03192   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t tmpreg = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03193}03193   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03194}03194   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  tmpreg8 = 0;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03195}03195 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03196}03196 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03197}03197   \textcolor{comment}{/* Init tickstart for timeout management*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03198}03198   tickstart = \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}();}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03199}03199 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03200}03200   \textcolor{comment}{/* DMA Normal Mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03201}03201   \textcolor{keywordflow}{if} ((hdma-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_acf2416c7f97b4f21ef16cfa5bea3cfd3}{Instance}}-\/>\mbox{\hyperlink{struct_d_m_a___stream___type_def_ab40c89c59391aaa9d9a8ec011dd0907a}{CR}} \& \mbox{\hyperlink{group___peripheral___registers___bits___definition_gadc248dbc519cc580621cdadcdd8741fb}{DMA\_SxCR\_CIRC}}) != \mbox{\hyperlink{group___peripheral___registers___bits___definition_gadc248dbc519cc580621cdadcdd8741fb}{DMA\_SxCR\_CIRC}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03202}03202   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03203}03203     \textcolor{comment}{/* Disable ERR interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03204}03204     \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03205}03205 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03206}03206 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03207}03207     \textcolor{comment}{/* CRC handling */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03208}03208     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03209}03209     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03210}03210       \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a98999b0cd6e4c94f05b61b2554ee0371}{DataSize}} == \mbox{\hyperlink{group___s_p_i___data___size_ga773e9fc5d44c9661c829361fbd073152}{SPI\_DATASIZE\_8BIT}}) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_aba709d1ebebac9b3385fb61d6eeb79a2}{CRCLength}} == \mbox{\hyperlink{group___s_p_i___c_r_c__length_ga9340cbde2576d63c53c3ee50d3303886}{SPI\_CRC\_LENGTH\_8BIT}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03211}03211       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03212}03212         \textcolor{keywordflow}{if} (SPI\_WaitFifoStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga4406c904711e73f41bfbc930bfc92d58}{SPI\_FLAG\_FRLVL}}, \mbox{\hyperlink{group___s_p_i__reception__fifo__status__level_ga66988763eea1cfd54424369e43fb18f4}{SPI\_FRLVL\_QUARTER\_FULL}}, SPI\_DEFAULT\_TIMEOUT,}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03213}03213                                           tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03214}03214         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03215}03215           \textcolor{comment}{/* Error on the CRC reception */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03216}03216           \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03217}03217         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03218}03218         \textcolor{comment}{/* Initialize the 8bit temporary pointer */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03219}03219         ptmpreg8 = (\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03220}03220         \textcolor{comment}{/* Read 8bit CRC */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03221}03221         tmpreg8 = *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03222}03222         \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03223}03223         \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg8);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03224}03224       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03225}03225       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03226}03226       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03227}03227         \textcolor{keywordflow}{if} (SPI\_WaitFifoStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga4406c904711e73f41bfbc930bfc92d58}{SPI\_FLAG\_FRLVL}}, \mbox{\hyperlink{group___s_p_i__reception__fifo__status__level_ga7aa0da3b1a4379fafa19742219004007}{SPI\_FRLVL\_HALF\_FULL}}, SPI\_DEFAULT\_TIMEOUT, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03228}03228         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03229}03229           \textcolor{comment}{/* Error on the CRC reception */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03230}03230           \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03231}03231         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03232}03232         \textcolor{comment}{/* Read CRC to Flush DR and RXNE flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03233}03233         tmpreg = \mbox{\hyperlink{group___exported__macro_gae7f188a4d26c9e713a48414783421071}{READ\_REG}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03234}03234         \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03235}03235         \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03236}03236       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03237}03237     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03238}03238 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03239}03239 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03240}03240     \textcolor{comment}{/* Check the end of the transaction */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03241}03241     \textcolor{keywordflow}{if} (SPI\_EndRxTxTransaction(hspi, SPI\_DEFAULT\_TIMEOUT, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03242}03242     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03243}03243       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03244}03244     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03245}03245 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03246}03246     \textcolor{comment}{/* Disable Rx/Tx DMA Request */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03247}03247     \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}} | \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03248}03248 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03249}03249     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03250}03250     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03251}03251     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03252}03252 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03253}03253 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03254}03254     \textcolor{comment}{/* Check if CRC error occurred */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03255}03255     \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga30fb6af50e1f3c61cb9de76b0101c889}{SPI\_FLAG\_CRCERR}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03256}03256     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03257}03257       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03258}03258       \mbox{\hyperlink{group___s_p_i___exported___macros_gad1cb4100b67726531ad426d300f4cd26}{\_\_HAL\_SPI\_CLEAR\_CRCERRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03259}03259     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03260}03260 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03261}03261 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03262}03262     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} != \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03263}03263     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03264}03264       \textcolor{comment}{/* Call user error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03265}03265 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03266}03266       hspi-\/>ErrorCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03267}03267 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03268}03268       \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03269}03269 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03270}03270       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03271}03271     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03272}03272   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03273}03273   \textcolor{comment}{/* Call user TxRx complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03274}03274 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03275}03275   hspi-\/>TxRxCpltCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03276}03276 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03277}03277   \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga04e63f382f172164c8e7cae4ff5d883c}{HAL\_SPI\_TxRxCpltCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03278}03278 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03279}03279 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03280}03280 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03287}03287 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMAHalfTransmitCplt(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03288}03288 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03289}03289   \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi = (\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *)(((\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *)hdma)-\/>Parent); \textcolor{comment}{/* Derogation MISRAC2012-\/Rule-\/11.5 */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03290}03290 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03291}03291   \textcolor{comment}{/* Call user Tx half complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03292}03292 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03293}03293   hspi-\/>TxHalfCpltCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03294}03294 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03295}03295   \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga931ef2f7fd94ffa16ec431972b1b237f}{HAL\_SPI\_TxHalfCpltCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03296}03296 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03297}03297 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03298}03298 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03305}03305 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMAHalfReceiveCplt(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03306}03306 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03307}03307   \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi = (\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *)(((\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *)hdma)-\/>Parent); \textcolor{comment}{/* Derogation MISRAC2012-\/Rule-\/11.5 */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03308}03308 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03309}03309   \textcolor{comment}{/* Call user Rx half complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03310}03310 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03311}03311   hspi-\/>RxHalfCpltCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03312}03312 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03313}03313   \mbox{\hyperlink{group___s_p_i___exported___functions___group2_gacf622756a3814edfacf449b5749b048a}{HAL\_SPI\_RxHalfCpltCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03314}03314 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03315}03315 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03316}03316 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03323}03323 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMAHalfTransmitReceiveCplt(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03324}03324 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03325}03325   \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi = (\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *)(((\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *)hdma)-\/>Parent); \textcolor{comment}{/* Derogation MISRAC2012-\/Rule-\/11.5 */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03326}03326 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03327}03327   \textcolor{comment}{/* Call user TxRx half complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03328}03328 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03329}03329   hspi-\/>TxRxHalfCpltCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03330}03330 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03331}03331   \mbox{\hyperlink{group___s_p_i___exported___functions___group2_gab46e2325b0880d5b5a301792438b151b}{HAL\_SPI\_TxRxHalfCpltCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03332}03332 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03333}03333 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03334}03334 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03341}03341 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMAError(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03342}03342 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03343}03343   \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi = (\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *)(((\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *)hdma)-\/>Parent); \textcolor{comment}{/* Derogation MISRAC2012-\/Rule-\/11.5 */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03344}03344 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03345}03345   \textcolor{comment}{/* Stop the disable DMA transfer on SPI side */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03346}03346   \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}} | \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03347}03347 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03348}03348   \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gaaf91992131301e3fc7f2ce62fb011f6c}{HAL\_SPI\_ERROR\_DMA}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03349}03349   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03350}03350   \textcolor{comment}{/* Call user error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03351}03351 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03352}03352   hspi-\/>ErrorCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03353}03353 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03354}03354   \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03355}03355 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03356}03356 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03357}03357 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03364}03364 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMAAbortOnError(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03365}03365 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03366}03366   \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi = (\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *)(((\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *)hdma)-\/>Parent); \textcolor{comment}{/* Derogation MISRAC2012-\/Rule-\/11.5 */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03367}03367   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03368}03368   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03369}03369 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03370}03370   \textcolor{comment}{/* Call user error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03371}03371 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03372}03372   hspi-\/>ErrorCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03373}03373 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03374}03374   \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03375}03375 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03376}03376 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03377}03377 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03386}03386 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMATxAbortCallback(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03387}03387 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03388}03388   \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi = (\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *)(((\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *)hdma)-\/>Parent); \textcolor{comment}{/* Derogation MISRAC2012-\/Rule-\/11.5 */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03389}03389 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03390}03390   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03391}03391 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03392}03392   \textcolor{comment}{/* Disable Tx DMA Request */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03393}03393   \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga3eee671793983a3bd669c9173b2ce210}{SPI\_CR2\_TXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03394}03394 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03395}03395   \textcolor{keywordflow}{if} (SPI\_EndRxTxTransaction(hspi, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03396}03396   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03397}03397     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03398}03398   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03399}03399 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03400}03400   \textcolor{comment}{/* Disable SPI Peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03401}03401   \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03402}03402 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03403}03403   \textcolor{comment}{/* Empty the FRLVL fifo */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03404}03404   \textcolor{keywordflow}{if} (SPI\_WaitFifoStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga4406c904711e73f41bfbc930bfc92d58}{SPI\_FLAG\_FRLVL}}, \mbox{\hyperlink{group___s_p_i__reception__fifo__status__level_gacff8d3b7b616ec343a64624ee7f0bff7}{SPI\_FRLVL\_EMPTY}}, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03405}03405   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03406}03406     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03407}03407   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03408}03408 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03409}03409   \textcolor{comment}{/* Check if an Abort process is still ongoing */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03410}03410   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03411}03411   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03412}03412     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03413}03413     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03414}03414       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03415}03415     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03416}03416   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03417}03417 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03418}03418   \textcolor{comment}{/* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03419}03419   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03420}03420   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03421}03421 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03422}03422   \textcolor{comment}{/* Check no error during Abort procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03423}03423   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} != \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03424}03424   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03425}03425     \textcolor{comment}{/* Reset errorCode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03426}03426     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03427}03427   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03428}03428 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03429}03429   \textcolor{comment}{/* Clear the Error flags in the SR register */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03430}03430   \mbox{\hyperlink{group___s_p_i___exported___macros_gaf6af33b1c5d334b9fe7bb778c5b6442e}{\_\_HAL\_SPI\_CLEAR\_OVRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03431}03431   \mbox{\hyperlink{group___s_p_i___exported___macros_ga7ff182f5cf6c731318c882351d6d7ac2}{\_\_HAL\_SPI\_CLEAR\_FREFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03432}03432 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03433}03433   \textcolor{comment}{/* Restore hspi-\/>State to Ready */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03434}03434   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}}  = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03435}03435 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03436}03436   \textcolor{comment}{/* Call user Abort complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03437}03437 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03438}03438   hspi-\/>AbortCpltCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03439}03439 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03440}03440   \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga4a2593ec36fa4def11929e65f631f3cf}{HAL\_SPI\_AbortCpltCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03441}03441 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03442}03442 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03443}03443 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03452}03452 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_DMARxAbortCallback(\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *hdma)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03453}03453 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03454}03454   \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi = (\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *)(((\mbox{\hyperlink{struct_____d_m_a___handle_type_def}{DMA\_HandleTypeDef}} *)hdma)-\/>Parent); \textcolor{comment}{/* Derogation MISRAC2012-\/Rule-\/11.5 */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03455}03455 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03456}03456   \textcolor{comment}{/* Disable SPI Peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03457}03457   \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03458}03458 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03459}03459   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_abd0aeec20298a55d89a440320e35634f}{hdmarx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} = NULL;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03460}03460 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03461}03461   \textcolor{comment}{/* Disable Rx DMA Request */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03462}03462   \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaf23c590d98279634af05550702a806da}{SPI\_CR2\_RXDMAEN}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03463}03463 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03464}03464   \textcolor{comment}{/* Control the BSY flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03465}03465   \textcolor{keywordflow}{if} (SPI\_WaitFlagStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_gaf19c77ee876a3598d616ac07d136fc46}{SPI\_FLAG\_BSY}}, \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03466}03466   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03467}03467     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03468}03468   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03469}03469 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03470}03470   \textcolor{comment}{/* Empty the FRLVL fifo */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03471}03471   \textcolor{keywordflow}{if} (SPI\_WaitFifoStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga4406c904711e73f41bfbc930bfc92d58}{SPI\_FLAG\_FRLVL}}, \mbox{\hyperlink{group___s_p_i__reception__fifo__status__level_gacff8d3b7b616ec343a64624ee7f0bff7}{SPI\_FRLVL\_EMPTY}}, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03472}03472   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03473}03473     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03474}03474   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03475}03475 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03476}03476   \textcolor{comment}{/* Check if an Abort process is still ongoing */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03477}03477   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03478}03478   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03479}03479     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33e13c28b1a70e6164417abb026d7a22}{hdmatx}}-\/>\mbox{\hyperlink{struct_____d_m_a___handle_type_def_a6253dc8680e566bbc244228374dd647d}{XferAbortCallback}} != NULL)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03480}03480     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03481}03481       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03482}03482     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03483}03483   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03484}03484 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03485}03485   \textcolor{comment}{/* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03486}03486   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03487}03487   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03488}03488 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03489}03489   \textcolor{comment}{/* Check no error during Abort procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03490}03490   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} != \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03491}03491   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03492}03492     \textcolor{comment}{/* Reset errorCode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03493}03493     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03494}03494   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03495}03495 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03496}03496   \textcolor{comment}{/* Clear the Error flags in the SR register */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03497}03497   \mbox{\hyperlink{group___s_p_i___exported___macros_gaf6af33b1c5d334b9fe7bb778c5b6442e}{\_\_HAL\_SPI\_CLEAR\_OVRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03498}03498   \mbox{\hyperlink{group___s_p_i___exported___macros_ga7ff182f5cf6c731318c882351d6d7ac2}{\_\_HAL\_SPI\_CLEAR\_FREFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03499}03499 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03500}03500   \textcolor{comment}{/* Restore hspi-\/>State to Ready */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03501}03501   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}}  = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03502}03502 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03503}03503   \textcolor{comment}{/* Call user Abort complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03504}03504 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03505}03505   hspi-\/>AbortCpltCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03506}03506 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03507}03507   \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga4a2593ec36fa4def11929e65f631f3cf}{HAL\_SPI\_AbortCpltCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03508}03508 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03509}03509 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03510}03510 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03517}03517 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_2linesRxISR\_8BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03518}03518 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03519}03519   \textcolor{comment}{/* Receive data in packing mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03520}03520   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} > 1U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03521}03521   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03522}03522     *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}) = (uint16\_t)(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03523}03523     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03524}03524     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} -\/= 2U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03525}03525     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} == 1U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03526}03526     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03527}03527       \textcolor{comment}{/* Set RX Fifo threshold according the reception data length: 8bit */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03528}03528       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03529}03529     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03530}03530   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03531}03531   \textcolor{comment}{/* Receive data in 8 Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03532}03532   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03533}03533   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03534}03534     *hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}} = *((\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03535}03535     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}++;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03536}03536     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03537}03537   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03538}03538 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03539}03539   \textcolor{comment}{/* Check end of the reception */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03540}03540   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03541}03541   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03542}03542 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03543}03543     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03544}03544     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03545}03545       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___s_p_i___f_i_f_o__reception__threshold_gad59c107b3fee1ca1d6366b4b3c995c88}{SPI\_RXFIFO\_THRESHOLD}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03546}03546       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}} =  SPI\_2linesRxISR\_8BITCRC;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03547}03547       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03548}03548     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03549}03549 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03550}03550 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03551}03551     \textcolor{comment}{/* Disable RXNE  and ERR interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03552}03552     \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, (\mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6c6ea3686830c60d9363f97a5d1011cc}{SPI\_IT\_RXNE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03553}03553 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03554}03554     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03555}03555     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03556}03556       SPI\_CloseRxTx\_ISR(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03557}03557     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03558}03558   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03559}03559 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03560}03560 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03561}03561 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03568}03568 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_2linesRxISR\_8BITCRC(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03569}03569 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03570}03570   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03571}03571   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  tmpreg8 = 0;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03572}03572 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03573}03573   \textcolor{comment}{/* Initialize the 8bit temporary pointer */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03574}03574   ptmpreg8 = (\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03575}03575   \textcolor{comment}{/* Read 8bit CRC to flush Data Register */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03576}03576   tmpreg8 = *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03577}03577   \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03578}03578   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg8);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03579}03579 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03580}03580   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a752c564d700e8da6d94c705629d204aa}{CRCSize}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03581}03581 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03582}03582   \textcolor{comment}{/* Check end of the reception */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03583}03583   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a752c564d700e8da6d94c705629d204aa}{CRCSize}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03584}03584   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03585}03585     \textcolor{comment}{/* Disable RXNE and ERR interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03586}03586     \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, (\mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6c6ea3686830c60d9363f97a5d1011cc}{SPI\_IT\_RXNE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03587}03587 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03588}03588     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03589}03589     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03590}03590       SPI\_CloseRxTx\_ISR(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03591}03591     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03592}03592   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03593}03593 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03594}03594 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03595}03595 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03602}03602 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_2linesTxISR\_8BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03603}03603 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03604}03604   \textcolor{comment}{/* Transmit data in packing Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03605}03605   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} >= 2U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03606}03606   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03607}03607     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03608}03608     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03609}03609     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} -\/= 2U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03610}03610   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03611}03611   \textcolor{comment}{/* Transmit data in 8 Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03612}03612   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03613}03613   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03614}03614     *(\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = (*hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03615}03615     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}++;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03616}03616     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03617}03617   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03618}03618 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03619}03619   \textcolor{comment}{/* Check the end of the transmission */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03620}03620   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03621}03621   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03622}03622 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03623}03623     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03624}03624     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03625}03625       \textcolor{comment}{/* Set CRC Next Bit to send CRC */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03626}03626       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga57072f13c2e54c12186ae8c5fdecb250}{SPI\_CR1\_CRCNEXT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03627}03627       \textcolor{comment}{/* Disable TXE interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03628}03628       \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, \mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6f0778617fc5f58086e4e29cd3781f18}{SPI\_IT\_TXE}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03629}03629       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03630}03630     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03631}03631 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03632}03632 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03633}03633     \textcolor{comment}{/* Disable TXE interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03634}03634     \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, \mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6f0778617fc5f58086e4e29cd3781f18}{SPI\_IT\_TXE}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03635}03635 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03636}03636     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03637}03637     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03638}03638       SPI\_CloseRxTx\_ISR(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03639}03639     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03640}03640   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03641}03641 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03642}03642 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03649}03649 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_2linesRxISR\_16BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03650}03650 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03651}03651   \textcolor{comment}{/* Receive data in 16 Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03652}03652   *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}) = (uint16\_t)(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03653}03653   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03654}03654   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03655}03655 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03656}03656   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03657}03657   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03658}03658 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03659}03659     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03660}03660     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03661}03661       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}} =  SPI\_2linesRxISR\_16BITCRC;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03662}03662       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03663}03663     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03664}03664 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03665}03665 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03666}03666     \textcolor{comment}{/* Disable RXNE interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03667}03667     \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, \mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6c6ea3686830c60d9363f97a5d1011cc}{SPI\_IT\_RXNE}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03668}03668 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03669}03669     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03670}03670     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03671}03671       SPI\_CloseRxTx\_ISR(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03672}03672     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03673}03673   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03674}03674 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03675}03675 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03676}03676 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03683}03683 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_2linesRxISR\_16BITCRC(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03684}03684 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03685}03685   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t tmpreg = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03686}03686 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03687}03687   \textcolor{comment}{/* Read 16bit CRC to flush Data Register */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03688}03688   tmpreg = \mbox{\hyperlink{group___exported__macro_gae7f188a4d26c9e713a48414783421071}{READ\_REG}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03689}03689   \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03690}03690   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03691}03691 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03692}03692   \textcolor{comment}{/* Disable RXNE interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03693}03693   \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, \mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6c6ea3686830c60d9363f97a5d1011cc}{SPI\_IT\_RXNE}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03694}03694 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03695}03695   SPI\_CloseRxTx\_ISR(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03696}03696 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03697}03697 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03698}03698 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03705}03705 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_2linesTxISR\_16BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03706}03706 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03707}03707   \textcolor{comment}{/* Transmit data in 16 Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03708}03708   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03709}03709   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03710}03710   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03711}03711 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03712}03712   \textcolor{comment}{/* Enable CRC Transmission */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03713}03713   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03714}03714   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03715}03715 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03716}03716     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03717}03717     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03718}03718       \textcolor{comment}{/* Set CRC Next Bit to send CRC */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03719}03719       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga57072f13c2e54c12186ae8c5fdecb250}{SPI\_CR1\_CRCNEXT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03720}03720       \textcolor{comment}{/* Disable TXE interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03721}03721       \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, \mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6f0778617fc5f58086e4e29cd3781f18}{SPI\_IT\_TXE}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03722}03722       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03723}03723     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03724}03724 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03725}03725 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03726}03726     \textcolor{comment}{/* Disable TXE interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03727}03727     \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, \mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6f0778617fc5f58086e4e29cd3781f18}{SPI\_IT\_TXE}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03728}03728 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03729}03729     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03730}03730     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03731}03731       SPI\_CloseRxTx\_ISR(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03732}03732     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03733}03733   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03734}03734 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03735}03735 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03736}03736 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03743}03743 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_RxISR\_8BITCRC(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03744}03744 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03745}03745   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03746}03746   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  tmpreg8 = 0;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03747}03747 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03748}03748   \textcolor{comment}{/* Initialize the 8bit temporary pointer */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03749}03749   ptmpreg8 = (\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03750}03750   \textcolor{comment}{/* Read 8bit CRC to flush Data Register */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03751}03751   tmpreg8 = *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03752}03752   \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03753}03753   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg8);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03754}03754 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03755}03755   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a752c564d700e8da6d94c705629d204aa}{CRCSize}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03756}03756 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03757}03757   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a752c564d700e8da6d94c705629d204aa}{CRCSize}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03758}03758   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03759}03759     SPI\_CloseRx\_ISR(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03760}03760   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03761}03761 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03762}03762 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03763}03763 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03770}03770 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_RxISR\_8BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03771}03771 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03772}03772   *hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}} = (*(\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03773}03773   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}++;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03774}03774   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03775}03775 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03776}03776 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03777}03777   \textcolor{comment}{/* Enable CRC Transmission */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03778}03778   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} == 1U) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03779}03779   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03780}03780     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga57072f13c2e54c12186ae8c5fdecb250}{SPI\_CR1\_CRCNEXT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03781}03781   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03782}03782 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03783}03783 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03784}03784   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03785}03785   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03786}03786 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03787}03787     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03788}03788     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03789}03789       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}} =  SPI\_RxISR\_8BITCRC;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03790}03790       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03791}03791     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03792}03792 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03793}03793     SPI\_CloseRx\_ISR(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03794}03794   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03795}03795 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03796}03796 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03797}03797 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03804}03804 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_RxISR\_16BITCRC(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03805}03805 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03806}03806   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t tmpreg = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03807}03807 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03808}03808   \textcolor{comment}{/* Read 16bit CRC to flush Data Register */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03809}03809   tmpreg = \mbox{\hyperlink{group___exported__macro_gae7f188a4d26c9e713a48414783421071}{READ\_REG}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03810}03810   \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03811}03811   \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03812}03812 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03813}03813   \textcolor{comment}{/* Disable RXNE and ERR interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03814}03814   \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, (\mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6c6ea3686830c60d9363f97a5d1011cc}{SPI\_IT\_RXNE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03815}03815 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03816}03816   SPI\_CloseRx\_ISR(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03817}03817 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03818}03818 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03819}03819 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03826}03826 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_RxISR\_16BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03827}03827 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03828}03828   *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}}) = (uint16\_t)(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03829}03829   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a7cee540cb21048ac48ba17355440e668}{pRxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03830}03830   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03831}03831 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03832}03832 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03833}03833   \textcolor{comment}{/* Enable CRC Transmission */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03834}03834   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} == 1U) \&\& (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03835}03835   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03836}03836     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga57072f13c2e54c12186ae8c5fdecb250}{SPI\_CR1\_CRCNEXT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03837}03837   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03838}03838 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03839}03839 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03840}03840   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ad95a26d6b12b7087bba3d1b769175db2}{RxXferCount}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03841}03841   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03842}03842 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03843}03843     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03844}03844     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03845}03845       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ae69a57c50a44075680eb48ba13e41bf3}{RxISR}} = SPI\_RxISR\_16BITCRC;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03846}03846       \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03847}03847     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03848}03848 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03849}03849     SPI\_CloseRx\_ISR(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03850}03850   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03851}03851 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03852}03852 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03859}03859 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_TxISR\_8BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03860}03860 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03861}03861   *(\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = (*hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03862}03862   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}}++;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03863}03863   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03864}03864 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03865}03865   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03866}03866   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03867}03867 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03868}03868     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03869}03869     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03870}03870       \textcolor{comment}{/* Enable CRC Transmission */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03871}03871       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga57072f13c2e54c12186ae8c5fdecb250}{SPI\_CR1\_CRCNEXT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03872}03872     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03873}03873 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03874}03874     SPI\_CloseTx\_ISR(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03875}03875   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03876}03876 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03877}03877 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03884}03884 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_TxISR\_16BIT(\textcolor{keyword}{struct} \mbox{\hyperlink{struct_____s_p_i___handle_type_def}{\_\_SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03885}03885 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03886}03886   \textcolor{comment}{/* Transmit data in 16 Bit mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03887}03887   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}} = *((uint16\_t *)hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03888}03888   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a5cc31f7c52dafd32f27f8f2756dbf343}{pTxBuffPtr}} += \textcolor{keyword}{sizeof}(uint16\_t);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03889}03889   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}}-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03890}03890 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03891}03891   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a1823437fbed80bdd1510782ced4e5532}{TxXferCount}} == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03892}03892   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03893}03893 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03894}03894     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03895}03895     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03896}03896       \textcolor{comment}{/* Enable CRC Transmission */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03897}03897       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_ab0ec7102960640751d44e92ddac994f0}{CR1}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga57072f13c2e54c12186ae8c5fdecb250}{SPI\_CR1\_CRCNEXT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03898}03898     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03899}03899 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03900}03900     SPI\_CloseTx\_ISR(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03901}03901   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03902}03902 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03903}03903 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03914}03914 \textcolor{keyword}{static} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} SPI\_WaitFlagStateUntilTimeout(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint32\_t Flag, \mbox{\hyperlink{group___exported__types_ga89136caac2e14c55151f527ac02daaff}{FlagStatus}} State,}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03915}03915                                                        uint32\_t Timeout, uint32\_t Tickstart)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03916}03916 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03917}03917   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t count;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03918}03918   uint32\_t tmp\_timeout;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03919}03919   uint32\_t tmp\_tickstart;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03920}03920 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03921}03921   \textcolor{comment}{/* Adjust Timeout value  in case of end of transfer */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03922}03922   tmp\_timeout   = Timeout -\/ (\mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}() -\/ Tickstart);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03923}03923   tmp\_tickstart = \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}();}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03924}03924 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03925}03925   \textcolor{comment}{/* Calculate Timeout based on a software loop to avoid blocking issue if Systick is disabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03926}03926   count = tmp\_timeout * ((\mbox{\hyperlink{group___s_t_m32_f7xx___system___exported___variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} * 32U) >> 20U);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03927}03927 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03928}03928   \textcolor{keywordflow}{while} ((\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, Flag) ? \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffab44c8101cc294c074709ec1b14211792}{SET}} : \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}) != State)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03929}03929   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03930}03930     \textcolor{keywordflow}{if} (Timeout != \mbox{\hyperlink{stm32f7xx__hal__def_8h_aad28bc64749c50dcedd6bf819fdc6974}{HAL\_MAX\_DELAY}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03931}03931     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03932}03932       \textcolor{keywordflow}{if} (((\mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}() -\/ tmp\_tickstart) >= tmp\_timeout) || (tmp\_timeout == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03933}03933       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03934}03934         \textcolor{comment}{/* Disable the SPI and reset the CRC: the CRC value should be cleared}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03935}03935 \textcolor{comment}{           on both master and slave sides in order to resynchronize the master}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03936}03936 \textcolor{comment}{           and slave for their respective CRC calculation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03937}03937 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03938}03938         \textcolor{comment}{/* Disable TXE, RXNE and ERR interrupts for the interrupt process */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03939}03939         \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, (\mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6f0778617fc5f58086e4e29cd3781f18}{SPI\_IT\_TXE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6c6ea3686830c60d9363f97a5d1011cc}{SPI\_IT\_RXNE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03940}03940 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03941}03941         \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}}) \&\& ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gab0f684caf5f1d6ac1e73d90a4778ab93}{SPI\_DIRECTION\_1LINE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03942}03942                                                      || (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_ga444826cf94667f75503f54704b2fb391}{SPI\_DIRECTION\_2LINES\_RXONLY}})))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03943}03943         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03944}03944           \textcolor{comment}{/* Disable SPI peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03945}03945           \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03946}03946         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03947}03947 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03948}03948         \textcolor{comment}{/* Reset CRC Calculation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03949}03949         \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03950}03950         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03951}03951           \mbox{\hyperlink{group___s_p_i___private___macros_gab120a0085b72939e7d19c4f6b3381a99}{SPI\_RESET\_CRC}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03952}03952         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03953}03953 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03954}03954         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03955}03955 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03956}03956         \textcolor{comment}{/* Process Unlocked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03957}03957         \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03958}03958 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03959}03959         \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03960}03960       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03961}03961       \textcolor{comment}{/* If Systick is disabled or not incremented, deactivate timeout to go in disable loop procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03962}03962       \textcolor{keywordflow}{if} (count == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03963}03963       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03964}03964         tmp\_timeout = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03965}03965       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03966}03966       count-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03967}03967     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03968}03968   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03969}03969 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03970}03970   \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03971}03971 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03972}03972 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03983}03983 \textcolor{keyword}{static} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} SPI\_WaitFifoStateUntilTimeout(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint32\_t Fifo, uint32\_t State,}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03984}03984                                                        uint32\_t Timeout, uint32\_t Tickstart)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03985}03985 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03986}03986   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t count;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03987}03987   uint32\_t tmp\_timeout;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03988}03988   uint32\_t tmp\_tickstart;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03989}03989   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03990}03990   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t  tmpreg8 = 0;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03991}03991 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03992}03992   \textcolor{comment}{/* Adjust Timeout value  in case of end of transfer */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03993}03993   tmp\_timeout = Timeout -\/ (\mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}() -\/ Tickstart);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03994}03994   tmp\_tickstart = \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}();}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03995}03995 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03996}03996   \textcolor{comment}{/* Initialize the 8bit temporary pointer */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03997}03997   ptmpreg8 = (\mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint8\_t *)\&hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_a3df0d8dfcd1ec958659ffe21eb64fa94}{DR}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03998}03998 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l03999}03999   \textcolor{comment}{/* Calculate Timeout based on a software loop to avoid blocking issue if Systick is disabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04000}04000   count = tmp\_timeout * ((\mbox{\hyperlink{group___s_t_m32_f7xx___system___exported___variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} * 35U) >> 20U);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04001}04001 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04002}04002   \textcolor{keywordflow}{while} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_af6aca2bbd40c0fb6df7c3aebe224a360}{SR}} \& Fifo) != State)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04003}04003   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04004}04004     \textcolor{keywordflow}{if} ((Fifo == \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga60df84101c523802832c4d1a2895d665}{SPI\_SR\_FRLVL}}) \&\& (State == \mbox{\hyperlink{group___s_p_i__reception__fifo__status__level_gacff8d3b7b616ec343a64624ee7f0bff7}{SPI\_FRLVL\_EMPTY}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04005}04005     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04006}04006       \textcolor{comment}{/* Flush Data Register by a blank read */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04007}04007       tmpreg8 = *ptmpreg8;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04008}04008       \textcolor{comment}{/* To avoid GCC warning */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04009}04009       \mbox{\hyperlink{stm32f7xx__hal__def_8h_a6bc306171da085f4c7df2c66d2ff8e47}{UNUSED}}(tmpreg8);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04010}04010     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04011}04011 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04012}04012     \textcolor{keywordflow}{if} (Timeout != \mbox{\hyperlink{stm32f7xx__hal__def_8h_aad28bc64749c50dcedd6bf819fdc6974}{HAL\_MAX\_DELAY}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04013}04013     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04014}04014       \textcolor{keywordflow}{if} (((\mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}() -\/ tmp\_tickstart) >= tmp\_timeout) || (tmp\_timeout == 0U))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04015}04015       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04016}04016         \textcolor{comment}{/* Disable the SPI and reset the CRC: the CRC value should be cleared}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04017}04017 \textcolor{comment}{           on both master and slave sides in order to resynchronize the master}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04018}04018 \textcolor{comment}{           and slave for their respective CRC calculation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04019}04019 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04020}04020         \textcolor{comment}{/* Disable TXE, RXNE and ERR interrupts for the interrupt process */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04021}04021         \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, (\mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6f0778617fc5f58086e4e29cd3781f18}{SPI\_IT\_TXE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6c6ea3686830c60d9363f97a5d1011cc}{SPI\_IT\_RXNE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04022}04022 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04023}04023         \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}}) \&\& ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gab0f684caf5f1d6ac1e73d90a4778ab93}{SPI\_DIRECTION\_1LINE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04024}04024                                                      || (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_ga444826cf94667f75503f54704b2fb391}{SPI\_DIRECTION\_2LINES\_RXONLY}})))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04025}04025         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04026}04026           \textcolor{comment}{/* Disable SPI peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04027}04027           \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04028}04028         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04029}04029 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04030}04030         \textcolor{comment}{/* Reset CRC Calculation */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04031}04031         \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a9d334a47c34b01cbfa55ff66cfc1e0ce}{CRCCalculation}} == \mbox{\hyperlink{group___s_p_i___c_r_c___calculation_ga431d368997c9c41e8923cbcd41b00123}{SPI\_CRCCALCULATION\_ENABLE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04032}04032         \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04033}04033           \mbox{\hyperlink{group___s_p_i___private___macros_gab120a0085b72939e7d19c4f6b3381a99}{SPI\_RESET\_CRC}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04034}04034         \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04035}04035 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04036}04036         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04037}04037 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04038}04038         \textcolor{comment}{/* Process Unlocked */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04039}04039         \mbox{\hyperlink{stm32f7xx__hal__def_8h_a7c2c23627aed2bb71d8c1ad071cda004}{\_\_HAL\_UNLOCK}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04040}04040 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04041}04041         \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04042}04042       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04043}04043       \textcolor{comment}{/* If Systick is disabled or not incremented, deactivate timeout to go in disable loop procedure */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04044}04044       \textcolor{keywordflow}{if} (count == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04045}04045       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04046}04046         tmp\_timeout = 0U;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04047}04047       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04048}04048       count-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04049}04049     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04050}04050   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04051}04051 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04052}04052   \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04053}04053 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04054}04054 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04063}04063 \textcolor{keyword}{static} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} SPI\_EndRxTransaction(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi,  uint32\_t Timeout, uint32\_t Tickstart)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04064}04064 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04065}04065   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}}) \&\& ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gab0f684caf5f1d6ac1e73d90a4778ab93}{SPI\_DIRECTION\_1LINE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04066}04066                                                || (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_ga444826cf94667f75503f54704b2fb391}{SPI\_DIRECTION\_2LINES\_RXONLY}})))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04067}04067   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04068}04068     \textcolor{comment}{/* Disable SPI peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04069}04069     \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04070}04070   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04071}04071 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04072}04072   \textcolor{comment}{/* Erratasheet: BSY bit may stay high at the end of a data transfer in Slave mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04073}04073   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04074}04074   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04075}04075     \textcolor{comment}{/* Control the BSY flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04076}04076     \textcolor{keywordflow}{if} (SPI\_WaitFlagStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_gaf19c77ee876a3598d616ac07d136fc46}{SPI\_FLAG\_BSY}}, \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}, Timeout, Tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04077}04077     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04078}04078       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04079}04079       \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04080}04080     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04081}04081   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04082}04082   \textcolor{keywordflow}{else} \textcolor{comment}{/* SPI\_MODE\_SLAVE */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04083}04083   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04084}04084     \textcolor{comment}{/* Timeout in µs */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04085}04085     \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t count = SPI\_BSY\_FLAG\_WORKAROUND\_TIMEOUT * (\mbox{\hyperlink{group___s_t_m32_f7xx___system___exported___variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} / 24U / 1000000U);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04086}04086 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04087}04087     \textcolor{comment}{/* Wait BSY flag during 1 Byte time transfer in case of Rx transfer}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04088}04088 \textcolor{comment}{    * If Timeout is reached, the transfer is considered as finish.}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04089}04089 \textcolor{comment}{    * User have to calculate the timeout value to fit with the time of 1 byte transfer.}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04090}04090 \textcolor{comment}{    * This time is directly link with the SPI clock from Master device.}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04091}04091 \textcolor{comment}{    */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04092}04092     \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04093}04093     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04094}04094       \textcolor{keywordflow}{if} (count == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04095}04095       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04096}04096         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04097}04097       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04098}04098       count-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04099}04099     \} \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_gaf19c77ee876a3598d616ac07d136fc46}{SPI\_FLAG\_BSY}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04100}04100   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04101}04101 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04102}04102   \textcolor{keywordflow}{if} ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}}) \&\& ((hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gab0f684caf5f1d6ac1e73d90a4778ab93}{SPI\_DIRECTION\_1LINE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04103}04103                                                || (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_ga444826cf94667f75503f54704b2fb391}{SPI\_DIRECTION\_2LINES\_RXONLY}})))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04104}04104   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04105}04105     \textcolor{comment}{/* Empty the FRLVL fifo */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04106}04106     \textcolor{keywordflow}{if} (SPI\_WaitFifoStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga4406c904711e73f41bfbc930bfc92d58}{SPI\_FLAG\_FRLVL}}, \mbox{\hyperlink{group___s_p_i__reception__fifo__status__level_gacff8d3b7b616ec343a64624ee7f0bff7}{SPI\_FRLVL\_EMPTY}}, Timeout, Tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04107}04107     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04108}04108       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04109}04109       \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04110}04110     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04111}04111   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04112}04112   \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04113}04113 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04114}04114 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04122}04122 \textcolor{keyword}{static} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\_StatusTypeDef}} SPI\_EndRxTxTransaction(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi, uint32\_t Timeout, uint32\_t Tickstart)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04123}04123 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04124}04124   \textcolor{comment}{/* Control if the TX fifo is empty */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04125}04125   \textcolor{keywordflow}{if} (SPI\_WaitFifoStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_gac8148197385a872c6f996a78928d1c20}{SPI\_FLAG\_FTLVL}}, \mbox{\hyperlink{group___s_p_i__transmission__fifo__status__level_gab9b0d7e2ab72c8ea98643791effa0576}{SPI\_FTLVL\_EMPTY}}, Timeout, Tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04126}04126   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04127}04127     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04128}04128     \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04129}04129   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04130}04130 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04131}04131   \textcolor{comment}{/* Timeout in µs */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04132}04132   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t count = SPI\_BSY\_FLAG\_WORKAROUND\_TIMEOUT * (\mbox{\hyperlink{group___s_t_m32_f7xx___system___exported___variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} / 24U / 1000000U);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04133}04133   \textcolor{comment}{/* Erratasheet: BSY bit may stay high at the end of a data transfer in Slave mode */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04134}04134   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_a0ffc93ec511ed9cf1663f6939bd3e839}{Mode}} == \mbox{\hyperlink{group___s_p_i___mode_gaa335c2abdfad9e6f6c2677719d93b64e}{SPI\_MODE\_MASTER}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04135}04135   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04136}04136     \textcolor{comment}{/* Control the BSY flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04137}04137     \textcolor{keywordflow}{if} (SPI\_WaitFlagStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_gaf19c77ee876a3598d616ac07d136fc46}{SPI\_FLAG\_BSY}}, \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}, Timeout, Tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04138}04138     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04139}04139       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04140}04140       \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04141}04141     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04142}04142   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04143}04143   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04144}04144   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04145}04145     \textcolor{comment}{/* Wait BSY flag during 1 Byte time transfer in case of Full-\/Duplex and Tx transfer}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04146}04146 \textcolor{comment}{    * If Timeout is reached, the transfer is considered as finish.}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04147}04147 \textcolor{comment}{    * User have to calculate the timeout value to fit with the time of 1 byte transfer.}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04148}04148 \textcolor{comment}{    * This time is directly link with the SPI clock from Master device.}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04149}04149 \textcolor{comment}{    */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04150}04150     \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04151}04151     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04152}04152       \textcolor{keywordflow}{if} (count == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04153}04153       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04154}04154         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04155}04155       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04156}04156       count-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04157}04157     \} \textcolor{keywordflow}{while} (\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_gaf19c77ee876a3598d616ac07d136fc46}{SPI\_FLAG\_BSY}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04158}04158   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04159}04159 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04160}04160 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04161}04161   \textcolor{comment}{/* Control if the RX fifo is empty */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04162}04162   \textcolor{keywordflow}{if} (SPI\_WaitFifoStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga4406c904711e73f41bfbc930bfc92d58}{SPI\_FLAG\_FRLVL}}, \mbox{\hyperlink{group___s_p_i__reception__fifo__status__level_gacff8d3b7b616ec343a64624ee7f0bff7}{SPI\_FRLVL\_EMPTY}}, Timeout, Tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04163}04163   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04164}04164     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04165}04165     \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa00c89549bc881c35e8e4cd9e718337e5}{HAL\_TIMEOUT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04166}04166   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04167}04167 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04168}04168   \textcolor{keywordflow}{return} \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04169}04169 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04170}04170 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04177}04177 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_CloseRxTx\_ISR(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04178}04178 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04179}04179   uint32\_t tickstart;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04180}04180 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04181}04181   \textcolor{comment}{/* Init tickstart for timeout management */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04182}04182   tickstart = \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}();}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04183}04183 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04184}04184   \textcolor{comment}{/* Disable ERR interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04185}04185   \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04186}04186 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04187}04187   \textcolor{comment}{/* Check the end of the transaction */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04188}04188   \textcolor{keywordflow}{if} (SPI\_EndRxTxTransaction(hspi, SPI\_DEFAULT\_TIMEOUT, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04189}04189   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04190}04190     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04191}04191   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04192}04192 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04193}04193 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04194}04194   \textcolor{comment}{/* Check if CRC error occurred */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04195}04195   \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga30fb6af50e1f3c61cb9de76b0101c889}{SPI\_FLAG\_CRCERR}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04196}04196   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04197}04197     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04198}04198     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04199}04199     \mbox{\hyperlink{group___s_p_i___exported___macros_gad1cb4100b67726531ad426d300f4cd26}{\_\_HAL\_SPI\_CLEAR\_CRCERRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04200}04200     \textcolor{comment}{/* Call user error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04201}04201 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04202}04202     hspi-\/>ErrorCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04203}04203 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04204}04204     \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04205}04205 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04206}04206   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04207}04207   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04208}04208   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04209}04209 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04210}04210     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} == \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04211}04211     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04212}04212       \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} == \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4afd7e00128aca1feaa099c2595ffb9277}{HAL\_SPI\_STATE\_BUSY\_RX}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04213}04213       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04214}04214         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04215}04215         \textcolor{comment}{/* Call user Rx complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04216}04216 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04217}04217         hspi-\/>RxCpltCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04218}04218 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04219}04219         \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3df7021fe24cf874f8b1eec5bd5f4cb3}{HAL\_SPI\_RxCpltCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04220}04220 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04221}04221       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04222}04222       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04223}04223       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04224}04224         hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04225}04225         \textcolor{comment}{/* Call user TxRx complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04226}04226 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04227}04227         hspi-\/>TxRxCpltCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04228}04228 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04229}04229         \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga04e63f382f172164c8e7cae4ff5d883c}{HAL\_SPI\_TxRxCpltCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04230}04230 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04231}04231       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04232}04232     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04233}04233     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04234}04234     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04235}04235       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04236}04236       \textcolor{comment}{/* Call user error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04237}04237 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04238}04238       hspi-\/>ErrorCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04239}04239 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04240}04240       \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04241}04241 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04242}04242     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04243}04243 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04244}04244   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04245}04245 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04246}04246 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04247}04247 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04254}04254 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_CloseRx\_ISR(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04255}04255 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04256}04256   \textcolor{comment}{/* Disable RXNE and ERR interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04257}04257   \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, (\mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6c6ea3686830c60d9363f97a5d1011cc}{SPI\_IT\_RXNE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04258}04258 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04259}04259   \textcolor{comment}{/* Check the end of the transaction */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04260}04260   \textcolor{keywordflow}{if} (SPI\_EndRxTransaction(hspi, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04261}04261   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04262}04262     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04263}04263   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04264}04264   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04265}04265 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04266}04266 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04267}04267   \textcolor{comment}{/* Check if CRC error occurred */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04268}04268   \textcolor{keywordflow}{if} (\mbox{\hyperlink{group___s_p_i___exported___macros_gaa0bbe5fb55f93fd277ddb6acf58cec53}{\_\_HAL\_SPI\_GET\_FLAG}}(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga30fb6af50e1f3c61cb9de76b0101c889}{SPI\_FLAG\_CRCERR}}) != \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04269}04269   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04270}04270     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gad1163823ec5fa89e4670366565d4ab93}{HAL\_SPI\_ERROR\_CRC}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04271}04271     \mbox{\hyperlink{group___s_p_i___exported___macros_gad1cb4100b67726531ad426d300f4cd26}{\_\_HAL\_SPI\_CLEAR\_CRCERRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04272}04272     \textcolor{comment}{/* Call user error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04273}04273 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04274}04274     hspi-\/>ErrorCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04275}04275 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04276}04276     \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04277}04277 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04278}04278   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04279}04279   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04280}04280   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04281}04281 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04282}04282     \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} == \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04283}04283     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04284}04284       \textcolor{comment}{/* Call user Rx complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04285}04285 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04286}04286       hspi-\/>RxCpltCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04287}04287 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04288}04288       \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3df7021fe24cf874f8b1eec5bd5f4cb3}{HAL\_SPI\_RxCpltCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04289}04289 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04290}04290     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04291}04291     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04292}04292     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04293}04293       \textcolor{comment}{/* Call user error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04294}04294 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04295}04295       hspi-\/>ErrorCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04296}04296 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04297}04297       \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04298}04298 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04299}04299     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04300}04300 \textcolor{preprocessor}{\#if (USE\_SPI\_CRC != 0U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04301}04301   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04302}04302 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_SPI\_CRC */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04303}04303 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04304}04304 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04311}04311 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_CloseTx\_ISR(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04312}04312 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04313}04313   uint32\_t tickstart;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04314}04314 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04315}04315   \textcolor{comment}{/* Init tickstart for timeout management*/}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04316}04316   tickstart = \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}();}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04317}04317 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04318}04318   \textcolor{comment}{/* Disable TXE and ERR interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04319}04319   \mbox{\hyperlink{group___s_p_i___exported___macros_ga47fa7321c5755bfbff1a7229fbe5b21c}{\_\_HAL\_SPI\_DISABLE\_IT}}(hspi, (\mbox{\hyperlink{group___s_p_i___interrupt__definition_ga6f0778617fc5f58086e4e29cd3781f18}{SPI\_IT\_TXE}} | \mbox{\hyperlink{group___s_p_i___interrupt__definition_gace6a9377da7f18ea8b5c73163c2278d6}{SPI\_IT\_ERR}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04320}04320 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04321}04321   \textcolor{comment}{/* Check the end of the transaction */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04322}04322   \textcolor{keywordflow}{if} (SPI\_EndRxTxTransaction(hspi, SPI\_DEFAULT\_TIMEOUT, tickstart) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04323}04323   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04324}04324     \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_ga777b36b52caf926a384976baf34530a3}{HAL\_SPI\_ERROR\_FLAG}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04325}04325   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04326}04326 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04327}04327   \textcolor{comment}{/* Clear overrun flag in 2 Lines communication mode because received is not read */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04328}04328   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a33f0dc84acb181a4702b30c92f007ca6}{Init}}.\mbox{\hyperlink{struct_s_p_i___init_type_def_ab94410c1333b512e271b1c135fe50916}{Direction}} == \mbox{\hyperlink{group___s_p_i___direction_gaa7cb7f4bf4eebbf91bcfaeb17ebba7f3}{SPI\_DIRECTION\_2LINES}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04329}04329   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04330}04330     \mbox{\hyperlink{group___s_p_i___exported___macros_gaf6af33b1c5d334b9fe7bb778c5b6442e}{\_\_HAL\_SPI\_CLEAR\_OVRFLAG}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04331}04331   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04332}04332 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04333}04333   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4abb3992c67a15c14bd1808ef6b63fa926}{HAL\_SPI\_STATE\_READY}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04334}04334   \textcolor{keywordflow}{if} (hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} != \mbox{\hyperlink{group___s_p_i___error___code_gaac0006cdf5670741f8702e55d4bf4601}{HAL\_SPI\_ERROR\_NONE}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04335}04335   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04336}04336     \textcolor{comment}{/* Call user error callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04337}04337 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04338}04338     hspi-\/>ErrorCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04339}04339 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04340}04340     \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga3db7835e7e7ac335887f62fedf156926}{HAL\_SPI\_ErrorCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04341}04341 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04342}04342   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04343}04343   \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04344}04344   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04345}04345     \textcolor{comment}{/* Call user Rx complete callback */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04346}04346 \textcolor{preprocessor}{\#if (USE\_HAL\_SPI\_REGISTER\_CALLBACKS == 1U)}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04347}04347     hspi-\/>TxCpltCallback(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04348}04348 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04349}04349     \mbox{\hyperlink{group___s_p_i___exported___functions___group2_ga0a99ab4f6aa6ee7dc2abca5483910dde}{HAL\_SPI\_TxCpltCallback}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04350}04350 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* USE\_HAL\_SPI\_REGISTER\_CALLBACKS */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04351}04351   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04352}04352 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04353}04353 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04360}04360 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_AbortRx\_ISR(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04361}04361 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04362}04362   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t count;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04363}04363 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04364}04364   \textcolor{comment}{/* Disable SPI Peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04365}04365   \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04366}04366 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04367}04367   count = SPI\_DEFAULT\_TIMEOUT * (\mbox{\hyperlink{group___s_t_m32_f7xx___system___exported___variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} / 24U / 1000U);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04368}04368 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04369}04369   \textcolor{comment}{/* Disable RXNEIE interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04370}04370   \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, (\mbox{\hyperlink{group___peripheral___registers___bits___definition_gaa7d4c37fbbcced7f2a0421e6ffd103ea}{SPI\_CR2\_RXNEIE}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04371}04371 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04372}04372   \textcolor{comment}{/* Check RXNEIE is disabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04373}04373   \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04374}04374   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04375}04375     \textcolor{keywordflow}{if} (count == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04376}04376     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04377}04377       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04378}04378       \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04379}04379     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04380}04380     count-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04381}04381   \} \textcolor{keywordflow}{while} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaa7d4c37fbbcced7f2a0421e6ffd103ea}{SPI\_CR2\_RXNEIE}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04382}04382 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04383}04383   \textcolor{comment}{/* Control the BSY flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04384}04384   \textcolor{keywordflow}{if} (SPI\_WaitFlagStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_gaf19c77ee876a3598d616ac07d136fc46}{SPI\_FLAG\_BSY}}, \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04385}04385   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04386}04386     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04387}04387   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04388}04388 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04389}04389   \textcolor{comment}{/* Empty the FRLVL fifo */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04390}04390   \textcolor{keywordflow}{if} (SPI\_WaitFifoStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga4406c904711e73f41bfbc930bfc92d58}{SPI\_FLAG\_FRLVL}}, \mbox{\hyperlink{group___s_p_i__reception__fifo__status__level_gacff8d3b7b616ec343a64624ee7f0bff7}{SPI\_FRLVL\_EMPTY}}, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04391}04391   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04392}04392     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04393}04393   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04394}04394 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04395}04395   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a34f9231d040d752a034db85e3eb7f782}{HAL\_SPI\_STATE\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04396}04396 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04397}04397 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04404}04404 \textcolor{keyword}{static} \textcolor{keywordtype}{void} SPI\_AbortTx\_ISR(\mbox{\hyperlink{struct_____s_p_i___handle_type_def}{SPI\_HandleTypeDef}} *hspi)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04405}04405 \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04406}04406   \mbox{\hyperlink{core__armv8mbl_8h_aec43007d9998a0a0e01faede4133d6be}{\_\_IO}} uint32\_t count;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04407}04407 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04408}04408   count = SPI\_DEFAULT\_TIMEOUT * (\mbox{\hyperlink{group___s_t_m32_f7xx___system___exported___variables_gaa3cd3e43291e81e795d642b79b6088e6}{SystemCoreClock}} / 24U / 1000U);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04409}04409 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04410}04410   \textcolor{comment}{/* Disable TXEIE interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04411}04411   \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, (\mbox{\hyperlink{group___peripheral___registers___bits___definition_ga23f683a1252ccaf625cae1a978989b2c}{SPI\_CR2\_TXEIE}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04412}04412 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04413}04413   \textcolor{comment}{/* Check TXEIE is disabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04414}04414   \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04415}04415   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04416}04416     \textcolor{keywordflow}{if} (count == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04417}04417     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04418}04418       \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04419}04419       \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04420}04420     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04421}04421     count-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04422}04422   \} \textcolor{keywordflow}{while} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_ga23f683a1252ccaf625cae1a978989b2c}{SPI\_CR2\_TXEIE}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04423}04423 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04424}04424   \textcolor{keywordflow}{if} (SPI\_EndRxTxTransaction(hspi, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04425}04425   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04426}04426     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04427}04427   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04428}04428 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04429}04429   \textcolor{comment}{/* Disable SPI Peripheral */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04430}04430   \mbox{\hyperlink{group___s_p_i___exported___macros_gaa10d88f87d16de53bd81dfb33bd56959}{\_\_HAL\_SPI\_DISABLE}}(hspi);}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04431}04431 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04432}04432   \textcolor{comment}{/* Empty the FRLVL fifo */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04433}04433   \textcolor{keywordflow}{if} (SPI\_WaitFifoStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga4406c904711e73f41bfbc930bfc92d58}{SPI\_FLAG\_FRLVL}}, \mbox{\hyperlink{group___s_p_i__reception__fifo__status__level_gacff8d3b7b616ec343a64624ee7f0bff7}{SPI\_FRLVL\_EMPTY}}, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04434}04434   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04435}04435     hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04436}04436   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04437}04437 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04438}04438   \textcolor{comment}{/* Check case of Full-\/Duplex Mode and disable directly RXNEIE interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04439}04439   \textcolor{keywordflow}{if} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaa7d4c37fbbcced7f2a0421e6ffd103ea}{SPI\_CR2\_RXNEIE}}))}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04440}04440   \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04441}04441     \textcolor{comment}{/* Disable RXNEIE interrupt */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04442}04442     \mbox{\hyperlink{group___exported__macro_ga133aae6fc0d41bffab39ab223a7001de}{CLEAR\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, (\mbox{\hyperlink{group___peripheral___registers___bits___definition_gaa7d4c37fbbcced7f2a0421e6ffd103ea}{SPI\_CR2\_RXNEIE}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04443}04443 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04444}04444     \textcolor{comment}{/* Check RXNEIE is disabled */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04445}04445     \textcolor{keywordflow}{do}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04446}04446     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04447}04447       \textcolor{keywordflow}{if} (count == 0U)}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04448}04448       \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04449}04449         \mbox{\hyperlink{group___exported__macro_ga26474f43799fbade9cf300e21dd3a91a}{SET\_BIT}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}}, \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}});}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04450}04450         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04451}04451       \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04452}04452       count-\/-\/;}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04453}04453     \} \textcolor{keywordflow}{while} (\mbox{\hyperlink{stm32f7xx__hal__def_8h_a5b44dfd2a26f85f7b628b0945daff2c3}{HAL\_IS\_BIT\_SET}}(hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_aa5c715deaf693cc2dbfa90f40681ee1d}{Instance}}-\/>\mbox{\hyperlink{struct_s_p_i___type_def_afdfa307571967afb1d97943e982b6586}{CR2}}, \mbox{\hyperlink{group___peripheral___registers___bits___definition_gaa7d4c37fbbcced7f2a0421e6ffd103ea}{SPI\_CR2\_RXNEIE}}));}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04454}04454 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04455}04455     \textcolor{comment}{/* Control the BSY flag */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04456}04456     \textcolor{keywordflow}{if} (SPI\_WaitFlagStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_gaf19c77ee876a3598d616ac07d136fc46}{SPI\_FLAG\_BSY}}, \mbox{\hyperlink{group___exported__types_gga89136caac2e14c55151f527ac02daaffa589b7d94a3d91d145720e2fed0eb3a05}{RESET}}, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04457}04457     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04458}04458       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04459}04459     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04460}04460 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04461}04461     \textcolor{comment}{/* Empty the FRLVL fifo */}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04462}04462     \textcolor{keywordflow}{if} (SPI\_WaitFifoStateUntilTimeout(hspi, \mbox{\hyperlink{group___s_p_i___flags__definition_ga4406c904711e73f41bfbc930bfc92d58}{SPI\_FLAG\_FRLVL}}, \mbox{\hyperlink{group___s_p_i__reception__fifo__status__level_gacff8d3b7b616ec343a64624ee7f0bff7}{SPI\_FRLVL\_EMPTY}}, SPI\_DEFAULT\_TIMEOUT, \mbox{\hyperlink{group___h_a_l___exported___functions___group2_gac9b3a85a73735ac840d0dcb59bc0fdd6}{HAL\_GetTick}}()) != \mbox{\hyperlink{stm32f7xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478fa6eb724a07061d89a4a2052744e5a3632}{HAL\_OK}})}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04463}04463     \{}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04464}04464       hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_a123c5063e6a3b1901b2fbe5f88c53a7e}{ErrorCode}} = \mbox{\hyperlink{group___s_p_i___error___code_gab7fa15838d5ef9316ed8a0ec1c782fb7}{HAL\_SPI\_ERROR\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04465}04465     \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04466}04466   \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04467}04467   hspi-\/>\mbox{\hyperlink{struct_____s_p_i___handle_type_def_ac77adb7330099a917af1e9021cbb3de1}{State}} = \mbox{\hyperlink{group___s_p_i___exported___types_gga8891cb64e76198a860172d94c638c9b4a34f9231d040d752a034db85e3eb7f782}{HAL\_SPI\_STATE\_ABORT}};}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04468}04468 \}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04469}04469 }
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04474}04474 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* HAL\_SPI\_MODULE\_ENABLED */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{stm32f7xx__hal__spi_8c_source_l04475}04475 }

\end{DoxyCode}
