\hypertarget{sensor__fusion_8h}{}\doxysection{/\+Users/jeremywolfe/\+Documents/\+STM32\+Cube\+IDE/\+Autodrone32/\+Src/sensors/sensor\+\_\+fusion.h File Reference}
\label{sensor__fusion_8h}\index{/Users/jeremywolfe/Documents/STM32CubeIDE/Autodrone32/Src/sensors/sensor\_fusion.h@{/Users/jeremywolfe/Documents/STM32CubeIDE/Autodrone32/Src/sensors/sensor\_fusion.h}}


This file gives the function to create our RPY values.  


\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{sensor__fusion_8h_a7cd0e552113fbeccd2434218d28e4522}{sample\+Freq\+Def}}~1000.\+0f
\item 
\#define \mbox{\hyperlink{sensor__fusion_8h_ab51f159bf643224a2bc1d7027fb00d62}{beta\+Def}}~10.\+0f
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{sensor__fusion_8h_ac8dc50fbcbc0f076fd8239217094c5ee}{madgwick\+Init}} (void)
\begin{DoxyCompactList}\small\item\em Initializes quaternion and other variables. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sensor__fusion_8h_a1f31885b70f52713de86df45af82aea5}{update\+IMU}} (float gx, float gy, float gz, float ax, float ay, float az)
\begin{DoxyCompactList}\small\item\em Creates quaternion from gyro and accel values. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sensor__fusion_8h_a7b14436407f3a952572f288543075e4d}{compute\+Angles}} (void)
\begin{DoxyCompactList}\small\item\em Computes angles from quaternion. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
float \mbox{\hyperlink{sensor__fusion_8h_aa773d9a6c0ccefaa0fc9ab66fec68ec1}{beta}}
\item 
float \mbox{\hyperlink{sensor__fusion_8h_a27b8f713c4a449fb2fbb1cbdb3a1e149}{q0}}
\item 
float \mbox{\hyperlink{sensor__fusion_8h_a209c65446ca302d32cbb908c4d75f616}{q1}}
\item 
float \mbox{\hyperlink{sensor__fusion_8h_afddca3451c589f7b5928b6dccf8c88ba}{q2}}
\item 
float \mbox{\hyperlink{sensor__fusion_8h_aa92940755b1370321ed489e6f2448ad9}{q3}}
\item 
float \mbox{\hyperlink{sensor__fusion_8h_a2c3ff633baf1eb511d50b9f1e6fa6198}{inv\+Sample\+Freq}}
\item 
float \mbox{\hyperlink{sensor__fusion_8h_a26fd84d522945b6038221d9e38c7cc39}{roll}}
\item 
float \mbox{\hyperlink{sensor__fusion_8h_a282e7d4378d4a18a805b8980295ac86c}{pitch}}
\item 
float \mbox{\hyperlink{sensor__fusion_8h_a7efc219781df4a1e281cb5d348b7fbf9}{yaw}}
\item 
char \mbox{\hyperlink{sensor__fusion_8h_a25a968f5ce1dd5581c3956626c89146b}{angles\+Computed}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file gives the function to create our RPY values. 

\begin{DoxyAuthor}{Author}
Jeremy Wolfe 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
03 MAR 2022 
\end{DoxyDate}
\begin{DoxyRefDesc}{Bug}
\item[\mbox{\hyperlink{bug__bug000014}{Bug}}]\end{DoxyRefDesc}


Definition in file \mbox{\hyperlink{sensor__fusion_8h_source}{sensor\+\_\+fusion.\+h}}.



\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{sensor__fusion_8h_ab51f159bf643224a2bc1d7027fb00d62}\label{sensor__fusion_8h_ab51f159bf643224a2bc1d7027fb00d62}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!betaDef@{betaDef}}
\index{betaDef@{betaDef}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{betaDef}{betaDef}}
{\footnotesize\ttfamily \#define beta\+Def~10.\+0f}



Definition at line \mbox{\hyperlink{sensor__fusion_8h_source_l00016}{16}} of file \mbox{\hyperlink{sensor__fusion_8h_source}{sensor\+\_\+fusion.\+h}}.

\mbox{\Hypertarget{sensor__fusion_8h_a7cd0e552113fbeccd2434218d28e4522}\label{sensor__fusion_8h_a7cd0e552113fbeccd2434218d28e4522}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!sampleFreqDef@{sampleFreqDef}}
\index{sampleFreqDef@{sampleFreqDef}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{sampleFreqDef}{sampleFreqDef}}
{\footnotesize\ttfamily \#define sample\+Freq\+Def~1000.\+0f}



Definition at line \mbox{\hyperlink{sensor__fusion_8h_source_l00015}{15}} of file \mbox{\hyperlink{sensor__fusion_8h_source}{sensor\+\_\+fusion.\+h}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{sensor__fusion_8h_a7b14436407f3a952572f288543075e4d}\label{sensor__fusion_8h_a7b14436407f3a952572f288543075e4d}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!computeAngles@{computeAngles}}
\index{computeAngles@{computeAngles}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{computeAngles()}{computeAngles()}}
{\footnotesize\ttfamily void compute\+Angles (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Computes angles from quaternion. 

\begin{DoxyReturn}{Returns}
Void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00155}{155}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8h_ac8dc50fbcbc0f076fd8239217094c5ee}\label{sensor__fusion_8h_ac8dc50fbcbc0f076fd8239217094c5ee}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!madgwickInit@{madgwickInit}}
\index{madgwickInit@{madgwickInit}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{madgwickInit()}{madgwickInit()}}
{\footnotesize\ttfamily void madgwick\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initializes quaternion and other variables. 

\begin{DoxyReturn}{Returns}
Void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00035}{35}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8h_a1f31885b70f52713de86df45af82aea5}\label{sensor__fusion_8h_a1f31885b70f52713de86df45af82aea5}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!updateIMU@{updateIMU}}
\index{updateIMU@{updateIMU}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{updateIMU()}{updateIMU()}}
{\footnotesize\ttfamily void update\+IMU (\begin{DoxyParamCaption}\item[{float}]{gx,  }\item[{float}]{gy,  }\item[{float}]{gz,  }\item[{float}]{ax,  }\item[{float}]{ay,  }\item[{float}]{az }\end{DoxyParamCaption})}



Creates quaternion from gyro and accel values. 


\begin{DoxyParams}{Parameters}
{\em float} & gx Gyro roll data in deg/s. \\
\hline
{\em float} & gy Gyro pitch data in deg/s. \\
\hline
{\em float} & gz Gyro yaw data in deg/s. \\
\hline
{\em float} & ax Accel x-\/axis data in m/s$^\wedge$2. \\
\hline
{\em float} & ay Accel y-\/axis data in m/s$^\wedge$2. \\
\hline
{\em float} & az Accel z-\/axis data in m/s$^\wedge$2.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00060}{60}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{sensor__fusion_8h_a25a968f5ce1dd5581c3956626c89146b}\label{sensor__fusion_8h_a25a968f5ce1dd5581c3956626c89146b}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!anglesComputed@{anglesComputed}}
\index{anglesComputed@{anglesComputed}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{anglesComputed}{anglesComputed}}
{\footnotesize\ttfamily char angles\+Computed\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00025}{25}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8h_aa773d9a6c0ccefaa0fc9ab66fec68ec1}\label{sensor__fusion_8h_aa773d9a6c0ccefaa0fc9ab66fec68ec1}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!beta@{beta}}
\index{beta@{beta}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{beta}{beta}}
{\footnotesize\ttfamily float beta\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00016}{16}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8h_a2c3ff633baf1eb511d50b9f1e6fa6198}\label{sensor__fusion_8h_a2c3ff633baf1eb511d50b9f1e6fa6198}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!invSampleFreq@{invSampleFreq}}
\index{invSampleFreq@{invSampleFreq}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{invSampleFreq}{invSampleFreq}}
{\footnotesize\ttfamily float inv\+Sample\+Freq\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00021}{21}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8h_a282e7d4378d4a18a805b8980295ac86c}\label{sensor__fusion_8h_a282e7d4378d4a18a805b8980295ac86c}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!pitch@{pitch}}
\index{pitch@{pitch}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{pitch}{pitch}}
{\footnotesize\ttfamily float pitch\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00023}{23}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8h_a27b8f713c4a449fb2fbb1cbdb3a1e149}\label{sensor__fusion_8h_a27b8f713c4a449fb2fbb1cbdb3a1e149}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!q0@{q0}}
\index{q0@{q0}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{q0}{q0}}
{\footnotesize\ttfamily float q0\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00017}{17}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8h_a209c65446ca302d32cbb908c4d75f616}\label{sensor__fusion_8h_a209c65446ca302d32cbb908c4d75f616}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!q1@{q1}}
\index{q1@{q1}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{q1}{q1}}
{\footnotesize\ttfamily float q1\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00018}{18}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8h_afddca3451c589f7b5928b6dccf8c88ba}\label{sensor__fusion_8h_afddca3451c589f7b5928b6dccf8c88ba}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!q2@{q2}}
\index{q2@{q2}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{q2}{q2}}
{\footnotesize\ttfamily float q2\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00019}{19}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8h_aa92940755b1370321ed489e6f2448ad9}\label{sensor__fusion_8h_aa92940755b1370321ed489e6f2448ad9}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!q3@{q3}}
\index{q3@{q3}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{q3}{q3}}
{\footnotesize\ttfamily float q3\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00020}{20}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8h_a26fd84d522945b6038221d9e38c7cc39}\label{sensor__fusion_8h_a26fd84d522945b6038221d9e38c7cc39}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!roll@{roll}}
\index{roll@{roll}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{roll}{roll}}
{\footnotesize\ttfamily float roll\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00022}{22}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

\mbox{\Hypertarget{sensor__fusion_8h_a7efc219781df4a1e281cb5d348b7fbf9}\label{sensor__fusion_8h_a7efc219781df4a1e281cb5d348b7fbf9}} 
\index{sensor\_fusion.h@{sensor\_fusion.h}!yaw@{yaw}}
\index{yaw@{yaw}!sensor\_fusion.h@{sensor\_fusion.h}}
\doxysubsubsection{\texorpdfstring{yaw}{yaw}}
{\footnotesize\ttfamily float yaw\hspace{0.3cm}{\ttfamily [extern]}}



Definition at line \mbox{\hyperlink{sensor__fusion_8c_source_l00024}{24}} of file \mbox{\hyperlink{sensor__fusion_8c_source}{sensor\+\_\+fusion.\+c}}.

